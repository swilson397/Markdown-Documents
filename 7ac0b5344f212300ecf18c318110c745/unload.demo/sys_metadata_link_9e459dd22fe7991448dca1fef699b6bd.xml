<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>unload.demo</directory>
        <documentkey>4e43e21cdb317300d0cb5385ca9619fb</documentkey>
        <payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="x_58056_md_docs_markdown_source">
    <x_58056_md_docs_markdown_source action="INSERT_OR_UPDATE">
        <abstract_syntax_tree>{"type":"Program","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"global"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"PNG"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"PNG"},"right":{"type":"CallExpression","callee":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"APNG_BLEND_OP_OVER"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"APNG_BLEND_OP_SOURCE"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"APNG_DISPOSE_OP_BACKGROUND"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"APNG_DISPOSE_OP_NONE"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"APNG_DISPOSE_OP_PREVIOUS"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"makeImage"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scratchCanvas"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scratchCtx"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"load"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"url"},{"type":"Identifier","name":"canvas"},{"type":"Identifier","name":"callback"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"xhr"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_this"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"canvas"},"prefix":true},"right":{"type":"Literal","value":"function","raw":"'function'"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"callback"},"right":{"type":"Identifier","name":"canvas"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"xhr"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"XMLHttpRequest"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"xhr"},"property":{"type":"Identifier","name":"open"}},"arguments":[{"type":"Literal","value":"GET","raw":"\"GET\""},{"type":"Identifier","name":"url"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"xhr"},"property":{"type":"Identifier","name":"responseType"}},"right":{"type":"Literal","value":"arraybuffer","raw":"\"arraybuffer\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"xhr"},"property":{"type":"Identifier","name":"onload"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"data"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"png"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"data"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Uint8Array"},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"xhr"},"property":{"type":"Identifier","name":"response"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"xhr"},"property":{"type":"Identifier","name":"mozResponseArrayBuffer"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"png"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"PNG"},"arguments":[{"type":"Identifier","name":"data"}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"canvas"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"canvas"},"property":{"type":"Identifier","name":"getContext"}},"alternate":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},"prefix":true},"right":{"type":"Literal","value":"function","raw":"'function'"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"png"},"property":{"type":"Identifier","name":"render"}},"arguments":[{"type":"Identifier","name":"canvas"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"===","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"callback"},"prefix":true},"right":{"type":"Literal","value":"function","raw":"\"function\""}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"callback"},"arguments":[{"type":"Identifier","name":"png"}]},"alternate":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"xhr"},"property":{"type":"Identifier","name":"send"}},"arguments":[{"type":"Literal","value":null,"raw":"null"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"APNG_DISPOSE_OP_NONE"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"APNG_DISPOSE_OP_BACKGROUND"},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"APNG_DISPOSE_OP_PREVIOUS"},"right":{"type":"Literal","value":2,"raw":"2"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"APNG_BLEND_OP_SOURCE"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"APNG_BLEND_OP_OVER"},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"PNG"},"params":[{"type":"Identifier","name":"data"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chunkSize"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"colors"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"palLen"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delayDen"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delayNum"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frame"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"index"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"key"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"section"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"palShort"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_j"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_ref"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"right":{"type":"Identifier","name":"data"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Literal","value":8,"raw":"8"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"palette"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"imgData"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frame"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"WhileStatement","test":{"type":"Literal","value":true,"raw":"true"},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"chunkSize"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"section"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_results"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_results"},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":4,"raw":"4"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"_i"},"prefix":true}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_results"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"String"},"property":{"type":"Identifier","name":"fromCharCode"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}]}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"_results"}}]},"generator":false,"expression":false,"async":false},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"ThisExpression"}]},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":"","raw":"''"}]}}},{"type":"SwitchStatement","discriminant":{"type":"Identifier","name":"section"},"cases":[{"type":"SwitchCase","test":{"type":"Literal","value":"IHDR","raw":"'IHDR'"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"width"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"bits"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colorType"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"compressionMethod"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"filterMethod"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"interlaceMethod"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":"acTL","raw":"'acTL'"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"numFrames"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"numPlays"},"computed":false,"value":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]},"right":{"type":"Identifier","name":"Infinity"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"frames"},"computed":false,"value":{"type":"ArrayExpression","elements":[]},"kind":"init","method":false,"shorthand":false}]}}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":"PLTE","raw":"'PLTE'"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"palette"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"read"}},"arguments":[{"type":"Identifier","name":"chunkSize"}]}}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":"fcTL","raw":"'fcTL'"},"consequent":[{"type":"IfStatement","test":{"type":"Identifier","name":"frame"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"property":{"type":"Identifier","name":"frames"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"frame"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Literal","value":4,"raw":"4"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frame"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"width"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"height"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"xOffset"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"yOffset"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt32"}},"arguments":[]},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delayNum"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt16"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delayDen"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readUInt16"}},"arguments":[]},"right":{"type":"Literal","value":100,"raw":"100"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"delay"}},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"*","left":{"type":"Literal","value":1000,"raw":"1000"},"right":{"type":"Identifier","name":"delayNum"}},"right":{"type":"Identifier","name":"delayDen"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"disposeOp"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"blendOp"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"data"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":"IDAT","raw":"'IDAT'"},"consequent":[]},{"type":"SwitchCase","test":{"type":"Literal","value":"fdAT","raw":"'fdAT'"},"consequent":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"section"},"right":{"type":"Literal","value":"fdAT","raw":"'fdAT'"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Literal","value":4,"raw":"4"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"chunkSize"},"right":{"type":"Literal","value":4,"raw":"4"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"data"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"frame"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"data"}},"alternate":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"imgData"}}}}},{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":0,"raw":"0"},"right":{"type":"Identifier","name":"chunkSize"}},"consequent":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Identifier","name":"chunkSize"}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Identifier","name":"chunkSize"}}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":0,"raw":"0"},"right":{"type":"Identifier","name":"chunkSize"}},"consequent":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"_i"},"prefix":true},"alternate":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"_i"},"prefix":true}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"data"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}]}}]}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":"tRNS","raw":"'tRNS'"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"SwitchStatement","discriminant":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colorType"}},"cases":[{"type":"SwitchCase","test":{"type":"Literal","value":3,"raw":"3"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"palLen"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"palette"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":3,"raw":"3"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"property":{"type":"Identifier","name":"indexed"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"read"}},"arguments":[{"type":"Identifier","name":"chunkSize"}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"property":{"type":"Identifier","name":"indexed"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"palLen"}},"consequent":{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"Literal","value":"More transparent colors than palette size","raw":"'More transparent colors than palette size'"}]}},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"palShort"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"palLen"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"property":{"type":"Identifier","name":"indexed"}},"property":{"type":"Identifier","name":"length"}}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"palShort"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_j"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":0,"raw":"0"},"right":{"type":"Identifier","name":"palShort"}},"consequent":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_j"},"right":{"type":"Identifier","name":"palShort"}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"_j"},"right":{"type":"Identifier","name":"palShort"}}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":0,"raw":"0"},"right":{"type":"Identifier","name":"palShort"}},"consequent":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"_j"},"prefix":true},"alternate":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"_j"},"prefix":true}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"property":{"type":"Identifier","name":"indexed"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Literal","value":255,"raw":"255"}]}}]}}]},"alternate":null},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":0,"raw":"0"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"property":{"type":"Identifier","name":"grayscale"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"read"}},"arguments":[{"type":"Identifier","name":"chunkSize"}]},"property":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":2,"raw":"2"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"property":{"type":"Identifier","name":"rgb"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"read"}},"arguments":[{"type":"Identifier","name":"chunkSize"}]}}}]}]},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":"tEXt","raw":"'tEXt'"},"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"text"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"read"}},"arguments":[{"type":"Identifier","name":"chunkSize"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"index"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"key"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"String"},"property":{"type":"Identifier","name":"fromCharCode"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"String"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"index"}]}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"key"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"String"},"property":{"type":"Identifier","name":"fromCharCode"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"String"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"index"},"right":{"type":"Literal","value":1,"raw":"1"}}]}]}}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":"IEND","raw":"'IEND'"},"consequent":[{"type":"IfStatement","test":{"type":"Identifier","name":"frame"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"property":{"type":"Identifier","name":"frames"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"frame"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colors"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"SwitchStatement","discriminant":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colorType"}},"cases":[{"type":"SwitchCase","test":{"type":"Literal","value":0,"raw":"0"},"consequent":[]},{"type":"SwitchCase","test":{"type":"Literal","value":3,"raw":"3"},"consequent":[]},{"type":"SwitchCase","test":{"type":"Literal","value":4,"raw":"4"},"consequent":[{"type":"ReturnStatement","argument":{"type":"Literal","value":1,"raw":"1"}}]},{"type":"SwitchCase","test":{"type":"Literal","value":2,"raw":"2"},"consequent":[]},{"type":"SwitchCase","test":{"type":"Literal","value":6,"raw":"6"},"consequent":[{"type":"ReturnStatement","argument":{"type":"Literal","value":3,"raw":"3"}}]}]}]},"generator":false,"expression":false,"async":false},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"ThisExpression"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasAlphaChannel"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"===","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_ref"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colorType"}}},"right":{"type":"Literal","value":4,"raw":"4"}},"right":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"_ref"},"right":{"type":"Literal","value":6,"raw":"6"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"colors"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colors"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasAlphaChannel"}},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pixelBitlength"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"bits"}},"right":{"type":"Identifier","name":"colors"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colorSpace"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"SwitchStatement","discriminant":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colors"}},"cases":[{"type":"SwitchCase","test":{"type":"Literal","value":1,"raw":"1"},"consequent":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"DeviceGray","raw":"'DeviceGray'"}}]},{"type":"SwitchCase","test":{"type":"Literal","value":3,"raw":"3"},"consequent":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"DeviceRGB","raw":"'DeviceRGB'"}}]}]}]},"generator":false,"expression":false,"async":false},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"ThisExpression"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"imgData"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Uint8Array"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"imgData"}}]}}},{"type":"ReturnStatement","argument":null}]},{"type":"SwitchCase","test":null,"consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"chunkSize"}}}]}]},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Literal","value":4,"raw":"4"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"Literal","value":"Incomplete or corrupt PNG file","raw":"\"Incomplete or corrupt PNG file\""}]}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":null}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"read"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"bytes"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_results"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_results"},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":0,"raw":"0"},"right":{"type":"Identifier","name":"bytes"}},"consequent":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Identifier","name":"bytes"}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Identifier","name":"bytes"}}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":0,"raw":"0"},"right":{"type":"Identifier","name":"bytes"}},"consequent":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"_i"},"prefix":true},"alternate":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"_i"},"prefix":true}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_results"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"_results"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"readUInt32"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"b1"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"b2"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"b3"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"b4"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b1"},"right":{"type":"BinaryExpression","operator":"&lt;&lt;","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}},"right":{"type":"Literal","value":24,"raw":"24"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b2"},"right":{"type":"BinaryExpression","operator":"&lt;&lt;","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}},"right":{"type":"Literal","value":16,"raw":"16"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b3"},"right":{"type":"BinaryExpression","operator":"&lt;&lt;","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}},"right":{"type":"Literal","value":8,"raw":"8"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b4"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"|","left":{"type":"BinaryExpression","operator":"|","left":{"type":"BinaryExpression","operator":"|","left":{"type":"Identifier","name":"b1"},"right":{"type":"Identifier","name":"b2"}},"right":{"type":"Identifier","name":"b3"}},"right":{"type":"Identifier","name":"b4"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"readUInt16"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"b1"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"b2"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b1"},"right":{"type":"BinaryExpression","operator":"&lt;&lt;","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}},"right":{"type":"Literal","value":8,"raw":"8"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b2"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"data"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"|","left":{"type":"Identifier","name":"b1"},"right":{"type":"Identifier","name":"b2"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"decodePixels"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"data"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"abyte"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"c"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"col"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"length"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"p"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pa"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"paeth"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pb"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pc"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pixelBytes"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pixels"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"row"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scanlineLength"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"upper"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"upperLeft"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_j"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_k"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_l"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_m"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"data"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"data"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"imgData"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"data"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Uint8Array"},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"data"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"FlateStream"},"arguments":[{"type":"Identifier","name":"data"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"data"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"data"},"property":{"type":"Identifier","name":"getBytes"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pixelBytes"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pixelBitlength"}},"right":{"type":"Literal","value":8,"raw":"8"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"scanlineLength"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"pixelBytes"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"width"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pixels"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Uint8Array"},"arguments":[{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"scanlineLength"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"length"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"data"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"row"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"c"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"length"}},"body":{"type":"BlockStatement","body":[{"type":"SwitchStatement","discriminant":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}},"cases":[{"type":"SwitchCase","test":{"type":"Literal","value":0,"raw":"0"},"consequent":[{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Identifier","name":"scanlineLength"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":1,"raw":"1"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"c"},"prefix":false}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}}}}]}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":1,"raw":"1"},"consequent":[{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_j"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_j"},"right":{"type":"Identifier","name":"scanlineLength"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"_j"},"right":{"type":"Literal","value":1,"raw":"1"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"abyte"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"c"},"right":{"type":"Identifier","name":"pixelBytes"}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"c"},"prefix":false}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"abyte"},"right":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":256,"raw":"256"}}}}]}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":2,"raw":"2"},"consequent":[{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_k"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_k"},"right":{"type":"Identifier","name":"scanlineLength"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"_k"},"right":{"type":"Literal","value":1,"raw":"1"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"abyte"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"col"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}}},"right":{"type":"Identifier","name":"pixelBytes"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"upper"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"row"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"row"},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Identifier","name":"scanlineLength"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"col"},"right":{"type":"Identifier","name":"pixelBytes"}}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"c"},"prefix":false}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"upper"},"right":{"type":"Identifier","name":"abyte"}},"right":{"type":"Literal","value":256,"raw":"256"}}}}]}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":3,"raw":"3"},"consequent":[{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_l"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_l"},"right":{"type":"Identifier","name":"scanlineLength"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"_l"},"right":{"type":"Literal","value":1,"raw":"1"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"abyte"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"col"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}}},"right":{"type":"Identifier","name":"pixelBytes"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"c"},"right":{"type":"Identifier","name":"pixelBytes"}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"upper"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"row"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"row"},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Identifier","name":"scanlineLength"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"col"},"right":{"type":"Identifier","name":"pixelBytes"}}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"c"},"prefix":false}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"abyte"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"floor"}},"arguments":[{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"left"},"right":{"type":"Identifier","name":"upper"}},"right":{"type":"Literal","value":2,"raw":"2"}}]}},"right":{"type":"Literal","value":256,"raw":"256"}}}}]}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":{"type":"Literal","value":4,"raw":"4"},"consequent":[{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_m"},"right":{"type":"Literal","value":0,"raw":"0"}}},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_m"},"right":{"type":"Identifier","name":"scanlineLength"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"_m"},"right":{"type":"Literal","value":1,"raw":"1"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"abyte"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"col"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}}},"right":{"type":"Identifier","name":"pixelBytes"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"c"},"right":{"type":"Identifier","name":"pixelBytes"}}}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"row"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"upper"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"upperLeft"},"right":{"type":"Literal","value":0,"raw":"0"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"upper"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"row"},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Identifier","name":"scanlineLength"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"col"},"right":{"type":"Identifier","name":"pixelBytes"}}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"upperLeft"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"col"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"row"},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Identifier","name":"scanlineLength"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"col"},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Identifier","name":"pixelBytes"}}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"pixelBytes"}}}}}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"p"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"left"},"right":{"type":"Identifier","name":"upper"}},"right":{"type":"Identifier","name":"upperLeft"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pa"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"p"},"right":{"type":"Identifier","name":"left"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pb"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"p"},"right":{"type":"Identifier","name":"upper"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pc"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"p"},"right":{"type":"Identifier","name":"upperLeft"}}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"pa"},"right":{"type":"Identifier","name":"pb"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"pa"},"right":{"type":"Identifier","name":"pc"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"paeth"},"right":{"type":"Identifier","name":"left"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"pb"},"right":{"type":"Identifier","name":"pc"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"paeth"},"right":{"type":"Identifier","name":"upper"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"paeth"},"right":{"type":"Identifier","name":"upperLeft"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"c"},"prefix":false}},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"abyte"},"right":{"type":"Identifier","name":"paeth"}},"right":{"type":"Literal","value":256,"raw":"256"}}}}]}},{"type":"BreakStatement","label":null}]},{"type":"SwitchCase","test":null,"consequent":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Invalid filter algorithm: ","raw":"\"Invalid filter algorithm: \""},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"pos"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]}}]}]},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"row"},"prefix":false}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pixels"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"decodePalette"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"c"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"length"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"palette"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ret"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"transparency"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_ref"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_ref1"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"palette"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"palette"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"transparency"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"transparency"}},"property":{"type":"Identifier","name":"indexed"}},"right":{"type":"ArrayExpression","elements":[]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ret"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Uint8Array"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"transparency"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"palette"},"property":{"type":"Identifier","name":"length"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"length"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"palette"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"c"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ForStatement","init":{"type":"SequenceExpression","expressions":[{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_ref"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"palette"},"property":{"type":"Identifier","name":"length"}}}]},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Identifier","name":"_ref"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":3,"raw":"3"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ret"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"palette"},"property":{"type":"Identifier","name":"i"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ret"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"palette"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ret"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"palette"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":2,"raw":"2"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ret"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_ref1"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"transparency"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"c"},"prefix":false}}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Identifier","name":"_ref1"},"alternate":{"type":"Literal","value":255,"raw":"255"}}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"ret"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"copyToImageData"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"imageData"},{"type":"Identifier","name":"pixels"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alpha"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"colors"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"data"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"k"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"length"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"palette"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"v"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_ref"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"colors"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"colors"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"palette"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"alpha"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasAlphaChannel"}}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"palette"}},"property":{"type":"Identifier","name":"length"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"palette"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_ref"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"_decodedPalette"}}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Identifier","name":"_ref"},"alternate":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"_decodedPalette"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"decodePalette"}},"arguments":[]}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"colors"},"right":{"type":"Literal","value":4,"raw":"4"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"alpha"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"data"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"imageData"},"property":{"type":"Identifier","name":"data"}},"right":{"type":"Identifier","name":"imageData"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"length"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"data"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"input"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"palette"},"right":{"type":"Identifier","name":"pixels"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"j"},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"colors"},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"length"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"k"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"palette"},"consequent":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":4,"raw":"4"}}},"right":{"type":"Literal","value":4,"raw":"4"}},"alternate":{"type":"Identifier","name":"j"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"v"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"input"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"Identifier","name":"v"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"Identifier","name":"v"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"Identifier","name":"v"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"alpha"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"input"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":false}},"alternate":{"type":"Literal","value":255,"raw":"255"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"j"},"right":{"type":"Identifier","name":"k"}}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"length"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"k"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"palette"},"consequent":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"pixels"},"property":{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":4,"raw":"4"}}},"right":{"type":"Literal","value":4,"raw":"4"}},"alternate":{"type":"Identifier","name":"j"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"input"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"input"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"input"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":false}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"data"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"alpha"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"input"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":false}},"alternate":{"type":"Literal","value":255,"raw":"255"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"j"},"right":{"type":"Identifier","name":"k"}}}]}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"decode"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ret"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ret"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Uint8Array"},"arguments":[{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"width"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}}},"right":{"type":"Literal","value":4,"raw":"4"}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"copyToImageData"}},"arguments":[{"type":"Identifier","name":"ret"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"decodePixels"}},"arguments":[]}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"ret"}}]},"generator":false,"expression":false,"async":false}}},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"scratchCanvas"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"global"},"property":{"type":"Identifier","name":"document"}},"property":{"type":"Identifier","name":"createElement"}},"arguments":[{"type":"Literal","value":"canvas","raw":"'canvas'"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"scratchCtx"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scratchCanvas"},"property":{"type":"Identifier","name":"getContext"}},"arguments":[{"type":"Literal","value":"2d","raw":"'2d'"}]}}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}]}},"finalizer":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"makeImage"},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"imageData"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"img"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scratchCtx"},"property":{"type":"Identifier","name":"width"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"imageData"},"property":{"type":"Identifier","name":"width"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scratchCtx"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"imageData"},"property":{"type":"Identifier","name":"height"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scratchCtx"},"property":{"type":"Identifier","name":"clearRect"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"imageData"},"property":{"type":"Identifier","name":"width"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"imageData"},"property":{"type":"Identifier","name":"height"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scratchCtx"},"property":{"type":"Identifier","name":"putImageData"}},"arguments":[{"type":"Identifier","name":"imageData"},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"img"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Image"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"img"},"property":{"type":"Identifier","name":"src"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scratchCanvas"},"property":{"type":"Identifier","name":"toDataURL"}},"arguments":[]}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"img"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"decodeFrames"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ctx"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frame"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"imageData"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pixels"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_i"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_len"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_ref"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_results"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_ref"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"property":{"type":"Identifier","name":"frames"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_results"},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ForStatement","init":{"type":"SequenceExpression","expressions":[{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_i"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_len"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_ref"},"property":{"type":"Identifier","name":"length"}}}]},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"_i"},"right":{"type":"Identifier","name":"_len"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"_i"},"prefix":true}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frame"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"_ref"},"property":{"type":"Identifier","name":"i"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"imageData"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"createImageData"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"width"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"height"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pixels"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"decodePixels"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Uint8Array"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"data"}}]}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"copyToImageData"}},"arguments":[{"type":"Identifier","name":"imageData"},{"type":"Identifier","name":"pixels"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"imageData"}},"right":{"type":"Identifier","name":"imageData"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_results"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"image"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeImage"},"arguments":[{"type":"Identifier","name":"imageData"}]}}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"_results"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"renderFrame"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ctx"},{"type":"Identifier","name":"number"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frame"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frames"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prev"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frames"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"property":{"type":"Identifier","name":"frames"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frame"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"frames"},"property":{"type":"Identifier","name":"number"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"prev"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"frames"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"number"},"right":{"type":"Literal","value":1,"raw":"1"}}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"number"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"clearRect"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"width"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"prev"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"disposeOp"}},"alternate":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},"right":{"type":"Identifier","name":"APNG_DISPOSE_OP_BACKGROUND"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"clearRect"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"xOffset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"yOffset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"width"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"height"}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"prev"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"disposeOp"}},"alternate":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},"right":{"type":"Identifier","name":"APNG_DISPOSE_OP_PREVIOUS"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"putImageData"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"imageData"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"xOffset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"yOffset"}}]}}]},"alternate":null}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"blendOp"}},"right":{"type":"Identifier","name":"APNG_BLEND_OP_SOURCE"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"clearRect"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"xOffset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"yOffset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"width"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"height"}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"drawImage"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"image"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"xOffset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"yOffset"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"animate"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ctx"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doFrame"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frameNumber"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frames"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"numFrames"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"numPlays"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_ref"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_this"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frameNumber"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"SequenceExpression","expressions":[{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_ref"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"numFrames"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_ref"},"property":{"type":"Identifier","name":"numFrames"}}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frames"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_ref"},"property":{"type":"Identifier","name":"frames"}}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"numPlays"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_ref"},"property":{"type":"Identifier","name":"numPlays"}}}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"doFrame"},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"f"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frame"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"f"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"frameNumber"},"prefix":false},"right":{"type":"Identifier","name":"numFrames"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"frame"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"frames"},"property":{"type":"Identifier","name":"f"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_this"},"property":{"type":"Identifier","name":"renderFrame"}},"arguments":[{"type":"Identifier","name":"ctx"},{"type":"Identifier","name":"f"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"numFrames"},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"frameNumber"},"right":{"type":"Identifier","name":"numFrames"}},"right":{"type":"Identifier","name":"numPlays"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_this"},"property":{"type":"Identifier","name":"animation"}},"property":{"type":"Identifier","name":"_timeout"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"Identifier","name":"doFrame"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"frame"},"property":{"type":"Identifier","name":"delay"}}]}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"stopAnimation"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"_ref"},"init":null}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearTimeout"},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"_ref"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"_ref"},"property":{"type":"Identifier","name":"_timeout"}},"alternate":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PNG"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"render"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"canvas"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ctx"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"data"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"canvas"},"property":{"type":"Identifier","name":"_png"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"canvas"},"property":{"type":"Identifier","name":"_png"}},"property":{"type":"Identifier","name":"stopAnimation"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"canvas"},"property":{"type":"Identifier","name":"_png"}},"right":{"type":"ThisExpression"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"canvas"},"property":{"type":"Identifier","name":"width"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"width"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"canvas"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ctx"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"canvas"},"property":{"type":"Identifier","name":"getContext"}},"arguments":[{"type":"Literal","value":"2d","raw":"\"2d\""}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animation"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"decodeFrames"}},"arguments":[{"type":"Identifier","name":"ctx"}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"animate"}},"arguments":[{"type":"Identifier","name":"ctx"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"data"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"createImageData"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"width"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"copyToImageData"}},"arguments":[{"type":"Identifier","name":"data"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"decodePixels"}},"arguments":[]}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctx"},"property":{"type":"Identifier","name":"putImageData"}},"arguments":[{"type":"Identifier","name":"data"},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"}]}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"PNG"}}]},"generator":false,"expression":false,"async":false},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"global"},"property":{"type":"Identifier","name":"PNG"}},"right":{"type":"Identifier","name":"PNG"}}}]},"generator":false,"expression":false,"async":false},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"window"},"prefix":true},"right":{"type":"Literal","value":"undefined","raw":"\"undefined\""}},"right":{"type":"Identifier","name":"window"}},"right":{"type":"ThisExpression"}}]}}],"sourceType":"script"}</abstract_syntax_tree>
        <added_manually>false</added_manually>
        <api_markdown>## &lt;a name="ui-script-x_58056_md_docspng"&gt;&lt;/a&gt;x_58056_md_docs.png
 
### Type: `UI Script`
 
### Functions
&lt;br /&gt;
#### `PNG(data)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _data_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
 
### Anonymous Functions
&lt;br /&gt;
#### `(global)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _global_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
</api_markdown>
        <html/>
        <markdown_document/>
        <markdown_link>ui-script-x_58056_md_docspng</markdown_link>
        <order>100</order>
        <project_code_document_version/>
        <remote>false</remote>
        <remote_json/>
        <remote_source_id/>
        <show_html>false</show_html>
        <show_markdown>false</show_markdown>
        <source_description/>
        <source_id>ef5fd2a24fe32300ecf18c318110c768</source_id>
        <source_key/>
        <source_name>UI Script: x_58056_md_docs.png</source_name>
        <source_script_field>script</source_script_field>
        <source_table>sys_ui_script</source_table>
        <source_text/>
        <source_type>Document</source_type>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-05-29 21:09:03</sys_created_on>
        <sys_id>4e43e21cdb317300d0cb5385ca9619fb</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-05-29 21:09:03</sys_updated_on>
    </x_58056_md_docs_markdown_source>
</record_update>
]]></payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-12-05 21:32:55</sys_created_on>
        <sys_id>9e459dd22fe7991448dca1fef699b6bd</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>UI Script: x_58056_md_docs.png</sys_name>
        <sys_package display_value="Markdown Documents" source="x_58056_md_docs">7ac0b5344f212300ecf18c318110c745</sys_package>
        <sys_policy/>
        <sys_scope display_value="Markdown Documents">7ac0b5344f212300ecf18c318110c745</sys_scope>
        <sys_update_name>sys_metadata_link_9e459dd22fe7991448dca1fef699b6bd</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-12-05 21:32:55</sys_updated_on>
        <tablename>x_58056_md_docs_markdown_source</tablename>
    </sys_metadata_link>
</record_update>
