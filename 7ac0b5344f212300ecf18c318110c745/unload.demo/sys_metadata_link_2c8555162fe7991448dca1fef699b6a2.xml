<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>unload.demo</directory>
        <documentkey>7243261cdb317300d0cb5385ca96196f</documentkey>
        <payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="x_58056_md_docs_markdown_source">
    <x_58056_md_docs_markdown_source action="INSERT_OR_UPDATE">
        <abstract_syntax_tree>{"type":"Program","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"global"},{"type":"Identifier","name":"factory"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"===","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"exports"},"prefix":true},"right":{"type":"Literal","value":"object","raw":"'object'"}},"right":{"type":"BinaryExpression","operator":"!==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"module"},"prefix":true},"right":{"type":"Literal","value":"undefined","raw":"'undefined'"}}},"consequent":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"module"},"property":{"type":"Identifier","name":"exports"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"factory"},"arguments":[]}},"alternate":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"===","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"define"},"prefix":true},"right":{"type":"Literal","value":"function","raw":"'function'"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"define"},"property":{"type":"Identifier","name":"amd"}}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"define"},"arguments":[{"type":"Identifier","name":"factory"}]},"alternate":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"global"},"property":{"type":"Identifier","name":"CodeMirror"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"factory"},"arguments":[]}}}}}]},"generator":false,"expression":false,"async":false},"arguments":[{"type":"ThisExpression"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"Literal","value":"use strict","raw":"'use strict'"},"directive":"use strict"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"userAgent"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"navigator"},"property":{"type":"Identifier","name":"userAgent"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"platform"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"navigator"},"property":{"type":"Identifier","name":"platform"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gecko"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/gecko\\/\\d/i","regex":{"pattern":"gecko\\/\\d","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ie_upto10"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/MSIE \\d/","regex":{"pattern":"MSIE \\d","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ie_11up"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/","regex":{"pattern":"Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)","flags":""}},"property":{"type":"Identifier","name":"exec"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edge"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Edge\\/(\\d+)/","regex":{"pattern":"Edge\\/(\\d+)","flags":""}},"property":{"type":"Identifier","name":"exec"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ie"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"ie_upto10"},"right":{"type":"Identifier","name":"ie_11up"}},"right":{"type":"Identifier","name":"edge"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ie_version"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ie_upto10"},"consequent":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"documentMode"}},"right":{"type":"Literal","value":6,"raw":"6"}},"alternate":{"type":"UnaryExpression","operator":"+","argument":{"type":"MemberExpression","computed":true,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"edge"},"right":{"type":"Identifier","name":"ie_11up"}},"property":{"type":"Literal","value":1,"raw":"1"}},"prefix":true}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"webkit"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"edge"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/WebKit\\//","regex":{"pattern":"WebKit\\/","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"qtwebkit"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"webkit"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Qt\\/\\d+\\.\\d+/","regex":{"pattern":"Qt\\/\\d+\\.\\d+","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chrome"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"edge"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Chrome\\//","regex":{"pattern":"Chrome\\/","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"presto"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Opera\\//","regex":{"pattern":"Opera\\/","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"safari"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Apple Computer/","regex":{"pattern":"Apple Computer","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"navigator"},"property":{"type":"Identifier","name":"vendor"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mac_geMountainLion"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/","regex":{"pattern":"Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"phantom"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/PhantomJS/","regex":{"pattern":"PhantomJS","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ios"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"edge"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/AppleWebKit/","regex":{"pattern":"AppleWebKit","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Mobile\\/\\w+/","regex":{"pattern":"Mobile\\/\\w+","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"android"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Android/","regex":{"pattern":"Android","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mobile"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"ios"},"right":{"type":"Identifier","name":"android"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i","regex":{"pattern":"webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mac"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"ios"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/Mac/","regex":{"pattern":"Mac","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"platform"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chromeOS"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\bCrOS\\b/","regex":{"pattern":"\\bCrOS\\b","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"userAgent"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"windows"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/win/i","regex":{"pattern":"win","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"platform"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"presto_version"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"presto"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"userAgent"},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"Literal","raw":"/Version\\/(\\d*\\.\\d*)/","regex":{"pattern":"Version\\/(\\d*\\.\\d*)","flags":""}}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"presto_version"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"presto_version"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Number"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"presto_version"},"property":{"type":"Literal","value":1,"raw":"1"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"presto_version"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"presto_version"},"right":{"type":"Literal","value":15,"raw":"15"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"presto"},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"webkit"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"flipCtrlCmd"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"mac"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"qtwebkit"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"presto"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"presto_version"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"presto_version"},"right":{"type":"Literal","value":12.11,"raw":"12.11"}}}}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"captureRightClick"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"gecko"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"classTest"},"params":[{"type":"Identifier","name":"cls"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"RegExp"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"(^|\\s)","raw":"\"(^|\\\\s)\""},"right":{"type":"Identifier","name":"cls"}},"right":{"type":"Literal","value":"(?:$|\\s)\\s*","raw":"\"(?:$|\\\\s)\\\\s*\""}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rmClass"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"},{"type":"Identifier","name":"cls"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"current"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"className"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"match"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"classTest"},"arguments":[{"type":"Identifier","name":"cls"}]},"property":{"type":"Identifier","name":"exec"}},"arguments":[{"type":"Identifier","name":"current"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"match"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"after"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"current"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"match"},"property":{"type":"Identifier","name":"index"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"match"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"className"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"current"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"match"},"property":{"type":"Identifier","name":"index"}}]},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"after"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"match"},"property":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Identifier","name":"after"}},"alternate":{"type":"Literal","value":"","raw":"\"\""}}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"removeChildren"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"count"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"childNodes"}},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"count"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"count"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"firstChild"}}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"e"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"removeChildrenAndAdd"},"params":[{"type":"Identifier","name":"parent"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"Identifier","name":"parent"}]},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"elt"},"params":[{"type":"Identifier","name":"tag"},{"type":"Identifier","name":"content"},{"type":"Identifier","name":"className"},{"type":"Identifier","name":"style"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"e"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createElement"}},"arguments":[{"type":"Identifier","name":"tag"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"className"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"className"}},"right":{"type":"Identifier","name":"className"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"style"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"cssText"}},"right":{"type":"Identifier","name":"style"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"content"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"Identifier","name":"content"}]}]}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"content"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"i"}}]}}]}}]},"alternate":null}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"e"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"eltP"},"params":[{"type":"Identifier","name":"tag"},{"type":"Identifier","name":"content"},{"type":"Identifier","name":"className"},{"type":"Identifier","name":"style"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"e"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Identifier","name":"tag"},{"type":"Identifier","name":"content"},{"type":"Identifier","name":"className"},{"type":"Identifier","name":"style"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"role","raw":"\"role\""},{"type":"Literal","value":"presentation","raw":"\"presentation\""}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"e"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createRange"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range"},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"end"},{"type":"Identifier","name":"endNode"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"r"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createRange"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r"},"property":{"type":"Identifier","name":"setEnd"}},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"endNode"},"right":{"type":"Identifier","name":"node"}},{"type":"Identifier","name":"end"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r"},"property":{"type":"Identifier","name":"setStart"}},"arguments":[{"type":"Identifier","name":"node"},{"type":"Identifier","name":"start"}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"r"}}]},"generator":false,"expression":false,"async":false}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range"},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"end"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"r"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}},"property":{"type":"Identifier","name":"createTextRange"}},"arguments":[]}}],"kind":"var"},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r"},"property":{"type":"Identifier","name":"moveToElementText"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"parentNode"}}]}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"r"}}]}},"finalizer":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r"},"property":{"type":"Identifier","name":"collapse"}},"arguments":[{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r"},"property":{"type":"Identifier","name":"moveEnd"}},"arguments":[{"type":"Literal","value":"character","raw":"\"character\""},{"type":"Identifier","name":"end"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r"},"property":{"type":"Identifier","name":"moveStart"}},"arguments":[{"type":"Literal","value":"character","raw":"\"character\""},{"type":"Identifier","name":"start"}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"r"}}]},"generator":false,"expression":false,"async":false}}}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"contains"},"params":[{"type":"Identifier","name":"parent"},{"type":"Identifier","name":"child"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"child"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"parentNode"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parent"},"property":{"type":"Identifier","name":"contains"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parent"},"property":{"type":"Identifier","name":"contains"}},"arguments":[{"type":"Identifier","name":"child"}]}}]},"alternate":null},{"type":"DoWhileStatement","body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":11,"raw":"11"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"child"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"host"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"child"},"right":{"type":"Identifier","name":"parent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"child"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"parentNode"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"activeElt"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"activeElement"},"init":null}],"kind":"var"},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"activeElement"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"activeElement"}}}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"activeElement"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}]}},"finalizer":null},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"activeElement"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"activeElement"},"property":{"type":"Identifier","name":"shadowRoot"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"activeElement"},"property":{"type":"Identifier","name":"shadowRoot"}},"property":{"type":"Identifier","name":"activeElement"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"activeElement"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"activeElement"},"property":{"type":"Identifier","name":"shadowRoot"}},"property":{"type":"Identifier","name":"activeElement"}}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"activeElement"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addClass"},"params":[{"type":"Identifier","name":"node"},{"type":"Identifier","name":"cls"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"current"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"className"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"classTest"},"arguments":[{"type":"Identifier","name":"cls"}]},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"current"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"className"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"current"},"consequent":{"type":"Literal","value":" ","raw":"\" \""},"alternate":{"type":"Literal","value":"","raw":"\"\""}},"right":{"type":"Identifier","name":"cls"}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"joinClasses"},"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"as"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"Literal","value":" ","raw":"\" \""}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"as"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"as"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"classTest"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"as"},"property":{"type":"Identifier","name":"i"}}]},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"b"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"b"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":" ","raw":"\" \""},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"as"},"property":{"type":"Identifier","name":"i"}}}}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"b"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"selectInput"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"select"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"ios"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"selectInput"},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"selectionStart"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"selectionEnd"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"value"}},"property":{"type":"Identifier","name":"length"}}}}]},"generator":false,"expression":false,"async":false}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"ie"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"selectInput"},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"select"}},"arguments":[]}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"_e"},"body":{"type":"BlockStatement","body":[]}},"finalizer":null}]},"generator":false,"expression":false,"async":false}}}]},"alternate":null}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"bind"},"params":[{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"args"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Array"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"slice"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"arguments"},{"type":"Literal","value":1,"raw":"1"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"f"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copyObj"},"params":[{"type":"Identifier","name":"obj"},{"type":"Identifier","name":"target"},{"type":"Identifier","name":"overwrite"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"target"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"target"},"right":{"type":"ObjectExpression","properties":[]}}}]},"alternate":null},{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"obj"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"prop"}]},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!==","left":{"type":"Identifier","name":"overwrite"},"right":{"type":"Literal","value":false,"raw":"false"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"target"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"prop"}]},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"target"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"prop"}}}}]},"alternate":null}]},"each":false},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"target"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"countColumn"},"params":[{"type":"Identifier","name":"string"},{"type":"Identifier","name":"end"},{"type":"Identifier","name":"tabSize"},{"type":"Identifier","name":"startIndex"},{"type":"Identifier","name":"startValue"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"end"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"search"}},"arguments":[{"type":"Literal","raw":"/[^\\s\\u00a0]/","regex":{"pattern":"[^\\s\\u00a0]","flags":""}}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"end"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"length"}}}}]},"alternate":null}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"startIndex"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"startValue"},"right":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextTab"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":"\t","raw":"\"\\t\""},{"type":"Identifier","name":"i"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"Identifier","name":"end"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"n"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"i"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"n"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"Identifier","name":"i"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"n"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"tabSize"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"tabSize"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Delayed"},"init":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"id"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Delayed"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"set"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ms"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearTimeout"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"id"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"id"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"Identifier","name":"f"},{"type":"Identifier","name":"ms"}]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"indexOf"},"params":[{"type":"Identifier","name":"array"},{"type":"Identifier","name":"elt"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"elt"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"i"}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scrollerGap"},"init":{"type":"Literal","value":30,"raw":"30"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Pass"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"toString"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"CodeMirror.Pass","raw":"\"CodeMirror.Pass\""}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel_dontScroll"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"scroll"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel_mouse"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"*mouse","raw":"\"*mouse\""},"kind":"init","method":false,"shorthand":false}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel_move"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"+move","raw":"\"+move\""},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findColumn"},"params":[{"type":"Identifier","name":"string"},{"type":"Identifier","name":"goal"},{"type":"Identifier","name":"tabSize"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"col"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextTab"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":"\t","raw":"\"\\t\""},{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"length"}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"skipped"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"Identifier","name":"pos"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"col"},"right":{"type":"Identifier","name":"skipped"}},"right":{"type":"Identifier","name":"goal"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"skipped"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"goal"},"right":{"type":"Identifier","name":"col"}}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"col"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"Identifier","name":"pos"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"col"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"tabSize"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"col"},"right":{"type":"Identifier","name":"tabSize"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"nextTab"},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"col"},"right":{"type":"Identifier","name":"goal"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spaceStrs"},"init":{"type":"ArrayExpression","elements":[{"type":"Literal","value":"","raw":"\"\""}]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"spaceStr"},"params":[{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spaceStrs"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"n"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spaceStrs"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"spaceStrs"}]},"right":{"type":"Literal","value":" ","raw":"\" \""}}]}}]}},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spaceStrs"},"property":{"type":"Identifier","name":"n"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lst"},"params":[{"type":"Identifier","name":"arr"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"arr"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"map"},"params":[{"type":"Identifier","name":"array"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"i"}]}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"out"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"insertSorted"},"params":[{"type":"Identifier","name":"array"},{"type":"Identifier","name":"value"},{"type":"Identifier","name":"score"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"priority"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"score"},"arguments":[{"type":"Identifier","name":"value"}]}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"score"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"pos"}}]},"right":{"type":"Identifier","name":"priority"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"pos"},"prefix":false}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"value"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"nothing"},"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"createObj"},"params":[{"type":"Identifier","name":"base"},{"type":"Identifier","name":"props"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"inst"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Object"},"property":{"type":"Identifier","name":"create"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"inst"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Object"},"property":{"type":"Identifier","name":"create"}},"arguments":[{"type":"Identifier","name":"base"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"nothing"},"property":{"type":"Identifier","name":"prototype"}},"right":{"type":"Identifier","name":"base"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"inst"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"nothing"},"arguments":[]}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"props"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyObj"},"arguments":[{"type":"Identifier","name":"props"},{"type":"Identifier","name":"inst"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"inst"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nonASCIISingleCaseWordChar"},"init":{"type":"Literal","raw":"/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/","regex":{"pattern":"[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]","flags":""}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isWordCharBasic"},"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\w/","regex":{"pattern":"\\w","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"ch"}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":"&#128;","raw":"\"\\x80\""}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ch"},"property":{"type":"Identifier","name":"toUpperCase"}},"arguments":[]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ch"},"property":{"type":"Identifier","name":"toLowerCase"}},"arguments":[]}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"nonASCIISingleCaseWordChar"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"ch"}]}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isWordChar"},"params":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"helper"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"helper"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWordCharBasic"},"arguments":[{"type":"Identifier","name":"ch"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"helper"},"property":{"type":"Identifier","name":"source"}},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":"\\w","raw":"\"\\\\w\""}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWordCharBasic"},"arguments":[{"type":"Identifier","name":"ch"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"helper"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"ch"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isEmpty"},"params":[{"type":"Identifier","name":"obj"}],"body":{"type":"BlockStatement","body":[{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"obj"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"n"}]},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"n"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null}]},"each":false},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"extendingChars"},"init":{"type":"Literal","raw":"/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/","regex":{"pattern":"[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]","flags":""}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isExtendingChar"},"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ch"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},"right":{"type":"Literal","value":768,"raw":"768"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"extendingChars"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"ch"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"skipExtendingChars"},"params":[{"type":"Identifier","name":"str"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"Literal","value":0,"raw":"0"}},"alternate":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"length"}}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"isExtendingChar"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Identifier","name":"pos"}]}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"dir"}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findFirst"},"params":[{"type":"Identifier","name":"pred"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dir"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"from"},"right":{"type":"Identifier","name":"to"}},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"alternate":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"from"},"right":{"type":"Identifier","name":"to"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"from"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"midF"},"init":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"from"},"right":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":2,"raw":"2"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mid"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"ceil"}},"arguments":[{"type":"Identifier","name":"midF"}]},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"floor"}},"arguments":[{"type":"Identifier","name":"midF"}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"mid"},"right":{"type":"Identifier","name":"from"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"pred"},"arguments":[{"type":"Identifier","name":"mid"}]},"consequent":{"type":"Identifier","name":"from"},"alternate":{"type":"Identifier","name":"to"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"pred"},"arguments":[{"type":"Identifier","name":"mid"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"mid"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"mid"},"right":{"type":"Identifier","name":"dir"}}}}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"Display"},"params":[{"type":"Identifier","name":"place"},{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"input"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"input"}},"right":{"type":"Identifier","name":"input"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarFiller"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-scrollbar-filler","raw":"\"CodeMirror-scrollbar-filler\""}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarFiller"}},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-not-content","raw":"\"cm-not-content\""},{"type":"Literal","value":"true","raw":"\"true\""}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutterFiller"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-gutter-filler","raw":"\"CodeMirror-gutter-filler\""}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutterFiller"}},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-not-content","raw":"\"cm-not-content\""},{"type":"Literal","value":"true","raw":"\"true\""}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineDiv"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"eltP"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-code","raw":"\"CodeMirror-code\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"selectionDiv"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"position: relative; z-index: 1","raw":"\"position: relative; z-index: 1\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cursorDiv"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-cursors","raw":"\"CodeMirror-cursors\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"measure"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-measure","raw":"\"CodeMirror-measure\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineMeasure"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-measure","raw":"\"CodeMirror-measure\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineSpace"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"eltP"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"measure"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineMeasure"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"selectionDiv"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cursorDiv"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineDiv"}}]},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"position: relative; outline: none","raw":"\"position: relative; outline: none\""}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lines"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"eltP"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineSpace"}}]},{"type":"Literal","value":"CodeMirror-lines","raw":"\"CodeMirror-lines\""}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"mover"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"lines"}]},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"position: relative","raw":"\"position: relative\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"sizer"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"mover"}}]},{"type":"Literal","value":"CodeMirror-sizer","raw":"\"CodeMirror-sizer\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"sizerWidth"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"heightForcer"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"position: absolute; height: ","raw":"\"position: absolute; height: \""},"right":{"type":"Identifier","name":"scrollerGap"}},"right":{"type":"Literal","value":"px; width: 1px;","raw":"\"px; width: 1px;\""}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutters"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-gutters","raw":"\"CodeMirror-gutters\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineGutter"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"sizer"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"heightForcer"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutters"}}]},{"type":"Literal","value":"CodeMirror-scroll","raw":"\"CodeMirror-scroll\""}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"tabIndex","raw":"\"tabIndex\""},{"type":"Literal","value":"-1","raw":"\"-1\""}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarFiller"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutterFiller"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}}]},{"type":"Literal","value":"CodeMirror","raw":"\"CodeMirror\""}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":8,"raw":"8"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"zIndex"}},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"paddingRight"}},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"webkit"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"gecko"},"right":{"type":"Identifier","name":"mobile"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"draggable"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"place"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"appendChild"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"place"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}}]}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"reportedViewFrom"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"reportedViewTo"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"renderedView"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"externalMeasured"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"viewOffset"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lastWrapHeight"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lastWrapWidth"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"nativeBarWidth"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"barHeight"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"barWidth"}},"right":{"type":"Literal","value":0,"raw":"0"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarsClipped"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineNumWidth"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineNumInnerWidth"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"lineNumChars"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"alignWidgets"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cachedCharWidth"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cachedTextHeight"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cachedPaddingH"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLine"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLineLength"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wheelDX"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wheelDY"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wheelStartY"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"selForContextMenu"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"init"}},"arguments":[{"type":"Identifier","name":"d"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLine"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"There is no line ","raw":"\"There is no line \""},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}}},"right":{"type":"Literal","value":" in the document.","raw":"\" in the document.\""}}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chunk"},"init":{"type":"Identifier","name":"doc"}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"lines"}},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":null,"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"child"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sz"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"chunkSize"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"sz"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"chunk"},"right":{"type":"Identifier","name":"child"}}},{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"sz"}}}]}}]}},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"n"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getBetween"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"end"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"end"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"end"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"text"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"end"},"property":{"type":"Identifier","name":"ch"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"text"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"text"}]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"n"},"prefix":true}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"out"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLines"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"out"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLineHeight"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"height"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"height"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"diff"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"Identifier","name":"line"}}],"kind":"var"},"test":{"type":"Identifier","name":"n"},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"parent"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"diff"}}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineNo"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"parent"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"no"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"lines"}},{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chunk"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"parent"}}}],"kind":"var"},"test":{"type":"Identifier","name":"chunk"},"update":{"type":"SequenceExpression","expressions":[{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"Identifier","name":"chunk"}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"chunk"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"parent"}}}]},"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":null,"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"cur"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"no"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"chunkSize"}},"arguments":[]}}}]}}]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"no"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"first"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineAtHeight"},"params":[{"type":"Identifier","name":"chunk"},{"type":"Identifier","name":"h"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"first"}}}],"kind":"var"},{"type":"LabeledStatement","label":{"type":"Identifier","name":"outer"},"body":{"type":"DoWhileStatement","body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"child"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i$1"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"height"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"h"},"right":{"type":"Identifier","name":"ch"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"chunk"},"right":{"type":"Identifier","name":"child"}}},{"type":"ContinueStatement","label":{"type":"Identifier","name":"outer"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"h"},"right":{"type":"Identifier","name":"ch"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"n"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"chunkSize"}},"arguments":[]}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"n"}}]},"test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"lines"}},"prefix":true}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":null,"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lh"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"h"},"right":{"type":"Identifier","name":"lh"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"h"},"right":{"type":"Identifier","name":"lh"}}}]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"i"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isLine"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"l"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"l"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"l"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineNumberFor"},"params":[{"type":"Identifier","name":"options"},{"type":"Identifier","name":"i"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"String"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"lineNumberFormatter"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"firstLineNumber"}}}]}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"Pos"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"sticky"},"right":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},"consequent":{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":null,"raw":"null"}}},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"ThisExpression"},"right":{"type":"Identifier","name":"Pos"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"line"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"ch"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Identifier","name":"sticky"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"cmp"},"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"line"}}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"ch"}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"equalCursorPos"},"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"sticky"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}]},"right":{"type":"Literal","value":0,"raw":"0"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copyPos"},"params":[{"type":"Identifier","name":"x"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"x"},"property":{"type":"Identifier","name":"line"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"x"},"property":{"type":"Identifier","name":"ch"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"maxPos"},"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Identifier","name":"b"},"alternate":{"type":"Identifier","name":"a"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"minPos"},"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Identifier","name":"a"},"alternate":{"type":"Identifier","name":"b"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clipLine"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"n"},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}]}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clipPos"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"last"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"last"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"last"}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipToLen"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clipToLen"},"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"linelen"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"linelen"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"linelen"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clipPosArray"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"array"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"i"}}]}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"out"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sawReadOnlySpans"},"init":{"type":"Literal","value":false,"raw":"false"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sawCollapsedSpans"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"seeReadOnlySpans"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sawReadOnlySpans"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"seeCollapsedSpans"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sawCollapsedSpans"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"MarkedSpan"},"params":[{"type":"Identifier","name":"marker"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"marker"}},"right":{"type":"Identifier","name":"marker"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"from"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"to"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getMarkedSpanFor"},"params":[{"type":"Identifier","name":"spans"},{"type":"Identifier","name":"marker"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"spans"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"right":{"type":"Identifier","name":"marker"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"span"}}]},"alternate":null}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"removeMarkedSpan"},"params":[{"type":"Identifier","name":"spans"},{"type":"Identifier","name":"span"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"r"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"span"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"r"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"r"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}}]}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"r"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addMarkedSpan"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"span"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"span"}]}]},"alternate":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"span"}]}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"attachLine"}},"arguments":[{"type":"Identifier","name":"line"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"markedSpansBefore"},"params":[{"type":"Identifier","name":"old"},{"type":"Identifier","name":"startCh"},{"type":"Identifier","name":"isInsert"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nw"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"old"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"marker"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startsBefore"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveLeft"}},"consequent":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"startCh"}},"alternate":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"startCh"}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"startsBefore"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"startCh"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"bookmark","raw":"\"bookmark\""}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"isInsert"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"insertLeft"}},"prefix":true}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"endsAfter"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveRight"}},"consequent":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"startCh"}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"startCh"}}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"nw"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nw"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"MarkedSpan"},"arguments":[{"type":"Identifier","name":"marker"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"endsAfter"},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}}}]}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"nw"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"markedSpansAfter"},"params":[{"type":"Identifier","name":"old"},{"type":"Identifier","name":"endCh"},{"type":"Identifier","name":"isInsert"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nw"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"old"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"marker"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"endsAfter"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveRight"}},"consequent":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"endCh"}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"endCh"}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"endsAfter"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"endCh"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"bookmark","raw":"\"bookmark\""}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"isInsert"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"insertLeft"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startsBefore"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveLeft"}},"consequent":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"endCh"}},"alternate":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"endCh"}}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"nw"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nw"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"MarkedSpan"},"arguments":[{"type":"Identifier","name":"marker"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"startsBefore"},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"endCh"}}},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"endCh"}}}]}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"nw"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"stretchSpansOverChange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"full"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldFirst"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"isLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"markedSpans"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldLast"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"isLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"markedSpans"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"oldFirst"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"oldLast"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startCh"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"ch"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"endCh"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"ch"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isInsert"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"first"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"markedSpansBefore"},"arguments":[{"type":"Identifier","name":"oldFirst"},{"type":"Identifier","name":"startCh"},{"type":"Identifier","name":"isInsert"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"markedSpansAfter"},"arguments":[{"type":"Identifier","name":"oldLast"},{"type":"Identifier","name":"endCh"},{"type":"Identifier","name":"isInsert"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sameLine"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"offset"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}}]},"property":{"type":"Identifier","name":"length"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"sameLine"},"consequent":{"type":"Identifier","name":"startCh"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"first"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"first"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"first"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getMarkedSpanFor"},"arguments":[{"type":"Identifier","name":"last"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"startCh"}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"sameLine"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"offset"}}}}}]},"alternate":null}}]},"alternate":null}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"last"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"i$1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span$1"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span$1"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"offset"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span$1"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getMarkedSpanFor"},"arguments":[{"type":"Identifier","name":"first"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span$1"},"property":{"type":"Identifier","name":"marker"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found$1"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span$1"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"offset"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"sameLine"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"first"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"first"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"span$1"}]}}]},"alternate":null}]},"alternate":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span$1"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"offset"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"sameLine"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"first"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"first"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"span$1"}]}}]},"alternate":null}]}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"first"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"first"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearEmptySpans"},"arguments":[{"type":"Identifier","name":"first"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"last"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"last"},"right":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"last"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearEmptySpans"},"arguments":[{"type":"Identifier","name":"last"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newMarkers"},"init":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"first"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"sameLine"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gap"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":2,"raw":"2"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gapMarkers"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"gap"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Identifier","name":"first"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$2"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$2"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"first"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$2"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"first"},"property":{"type":"Identifier","name":"i$2"}},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"gapMarkers"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"gapMarkers"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"MarkedSpan"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"first"},"property":{"type":"Identifier","name":"i$2"}},"property":{"type":"Identifier","name":"marker"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"}]}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$3"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$3"},"right":{"type":"Identifier","name":"gap"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$3"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newMarkers"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"gapMarkers"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newMarkers"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"last"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"newMarkers"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clearEmptySpans"},"params":[{"type":"Identifier","name":"spans"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}}}},"right":{"type":"BinaryExpression","operator":"!==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"clearWhenEmpty"}},"right":{"type":"Literal","value":false,"raw":"false"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":false},{"type":"Literal","value":1,"raw":"1"}]}}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"spans"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"removeReadOnlyRanges"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"markers"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mark"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"marker"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mark"},"property":{"type":"Identifier","name":"readOnly"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"markers"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"markers"},{"type":"Identifier","name":"mark"}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"markers"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"markers"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"mark"}]}}]},"alternate":null}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"markers"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"parts"},"init":{"type":"ArrayExpression","elements":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"from"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"to"},"kind":"init","method":false,"shorthand":false}]}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mk"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"m"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mk"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parts"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"p"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"parts"},"property":{"type":"Identifier","name":"j"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"to"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"from"}}]},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newParts"},"init":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"j"},{"type":"Literal","value":1,"raw":"1"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dfrom"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"from"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dto"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"to"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"to"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dfrom"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mk"},"property":{"type":"Identifier","name":"inclusiveLeft"}},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"dfrom"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newParts"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dto"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mk"},"property":{"type":"Identifier","name":"inclusiveRight"}},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"dto"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newParts"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"to"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"to"}},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parts"},"property":{"type":"Identifier","name":"splice"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"parts"},{"type":"Identifier","name":"newParts"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"j"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newParts"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":3,"raw":"3"}}}}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"parts"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"detachMarkedSpans"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spans"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"spans"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"detachLine"}},"arguments":[{"type":"Identifier","name":"line"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"attachMarkedSpans"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"spans"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"spans"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"attachLine"}},"arguments":[{"type":"Identifier","name":"line"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"right":{"type":"Identifier","name":"spans"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extraLeft"},"params":[{"type":"Identifier","name":"marker"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveLeft"}},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"alternate":{"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extraRight"},"params":[{"type":"Identifier","name":"marker"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveRight"}},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"compareCollapsedMarkers"},"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lenDiff"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"lenDiff"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lenDiff"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"aPos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"find"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bPos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"find"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromCmp"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"aPos"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bPos"},"property":{"type":"Identifier","name":"from"}}]},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraLeft"},"arguments":[{"type":"Identifier","name":"a"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraLeft"},"arguments":[{"type":"Identifier","name":"b"}]}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"fromCmp"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"fromCmp"},"prefix":true}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toCmp"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"aPos"},"property":{"type":"Identifier","name":"to"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bPos"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraRight"},"arguments":[{"type":"Identifier","name":"a"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraRight"},"arguments":[{"type":"Identifier","name":"b"}]}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"toCmp"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"toCmp"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"id"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"id"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"collapsedSpanAtSide"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"start"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sps"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawCollapsedSpans"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"sps"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sp"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sp"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"i"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"collapsed"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"start"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}}},"right":{"type":"Literal","value":null,"raw":"null"}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"compareCollapsedMarkers"},"arguments":[{"type":"Identifier","name":"found"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}}}]},"alternate":null}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"found"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"collapsedSpanAtStart"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtSide"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"collapsedSpanAtEnd"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtSide"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Literal","value":false,"raw":"false"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"collapsedSpanAround"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sps"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawCollapsedSpans"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"sps"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sp"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"collapsed"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"ch"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"ch"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"compareCollapsedMarkers"},"arguments":[{"type":"Identifier","name":"found"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}}}]},"alternate":null}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"found"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"conflictingCollapsedRange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"lineNo$$1"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"marker"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"lineNo$$1"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sps"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawCollapsedSpans"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"sps"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sp"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"collapsed"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromCmp"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"from"}},{"type":"Identifier","name":"from"}]},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraLeft"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraLeft"},"arguments":[{"type":"Identifier","name":"marker"}]}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toCmp"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"to"}},{"type":"Identifier","name":"to"}]},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraRight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"extraRight"},"arguments":[{"type":"Identifier","name":"marker"}]}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"fromCmp"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"toCmp"},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"fromCmp"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"toCmp"},"right":{"type":"Literal","value":0,"raw":"0"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"fromCmp"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"inclusiveRight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveLeft"}}},"consequent":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"to"}},{"type":"Identifier","name":"from"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"to"}},{"type":"Identifier","name":"from"}]},"right":{"type":"Literal","value":0,"raw":"0"}}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"fromCmp"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"inclusiveRight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"inclusiveLeft"}}},"consequent":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"from"}},{"type":"Identifier","name":"to"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"alternate":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"from"}},{"type":"Identifier","name":"to"}]},"right":{"type":"Literal","value":0,"raw":"0"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"visualLine"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"merged"},"init":null}],"kind":"var"},{"type":"WhileStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"merged"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtStart"},"arguments":[{"type":"Identifier","name":"line"}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"merged"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":true,"raw":"true"}]},"property":{"type":"Identifier","name":"line"}}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"line"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"visualLineEnd"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"merged"},"init":null}],"kind":"var"},{"type":"WhileStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"merged"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtEnd"},"arguments":[{"type":"Identifier","name":"line"}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"merged"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":true,"raw":"true"}]},"property":{"type":"Identifier","name":"line"}}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"line"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"visualLineContinued"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"merged"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lines"},"init":null}],"kind":"var"},{"type":"WhileStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"merged"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtEnd"},"arguments":[{"type":"Identifier","name":"line"}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"merged"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":true,"raw":"true"}]},"property":{"type":"Identifier","name":"line"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"lines"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lines"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"line"}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lines"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"visualLineNo"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"lineN"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"lineN"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"vis"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"line"},"right":{"type":"Identifier","name":"vis"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lineN"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"vis"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"visualLineEndNo"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"lineN"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"lineN"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lineN"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"lineN"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"merged"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lineN"}}]},"alternate":null},{"type":"WhileStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"merged"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtEnd"},"arguments":[{"type":"Identifier","name":"line"}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"merged"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":true,"raw":"true"}]},"property":{"type":"Identifier","name":"line"}}}}]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineIsHidden"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sps"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawCollapsedSpans"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"sps"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sp"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sp"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"i"}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"collapsed"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"widgetNode"}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"inclusiveLeft"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHiddenInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"sp"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineIsHiddenInner"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"span"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":true,"raw":"true"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHiddenInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"end"},"property":{"type":"Identifier","name":"line"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"getMarkedSpanFor"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"end"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"markedSpans"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}]}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"inclusiveRight"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sp"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sp"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"property":{"type":"Identifier","name":"i"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"collapsed"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"widgetNode"}},"prefix":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"inclusiveLeft"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"inclusiveRight"}}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHiddenInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"sp"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"heightAtLine"},"params":[{"type":"Identifier","name":"lineObj"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"lineObj"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"h"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chunk"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"parent"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"line"},"right":{"type":"Identifier","name":"lineObj"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"h"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}}}}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"p"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"parent"}}}],"kind":"var"},"test":{"type":"Identifier","name":"p"},"update":{"type":"SequenceExpression","expressions":[{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"chunk"},"right":{"type":"Identifier","name":"p"}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"p"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"chunk"},"property":{"type":"Identifier","name":"parent"}}}]},"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i$1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cur"},"right":{"type":"Identifier","name":"chunk"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"h"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"height"}}}}]}}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"h"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineLength"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":0,"raw":"0"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"len"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"merged"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"Identifier","name":"line"}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"merged"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtStart"},"arguments":[{"type":"Identifier","name":"cur"}]}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"merged"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":true,"raw":"true"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"len"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"ch"}}}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"Identifier","name":"line"}}},{"type":"WhileStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"merged"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAtEnd"},"arguments":[{"type":"Identifier","name":"cur"}]}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found$1"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"merged"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":true,"raw":"true"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"len"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found$1"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"ch"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found$1"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"len"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found$1"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"ch"}}}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"len"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findMaxLine"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLine"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLineLength"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineLength"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLine"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"len"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineLength"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"len"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLineLength"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLineLength"}},"right":{"type":"Identifier","name":"len"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"maxLine"}},"right":{"type":"Identifier","name":"line"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"iterateBidiSections"},"params":[{"type":"Identifier","name":"order"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"order"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Literal","value":"ltr","raw":"\"ltr\""},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"to"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"from"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"from"},"right":{"type":"Identifier","name":"to"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"from"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},{"type":"Identifier","name":"from"}]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},{"type":"Identifier","name":"to"}]},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"Literal","value":"rtl","raw":"\"rtl\""},"alternate":{"type":"Literal","value":"ltr","raw":"\"ltr\""}},{"type":"Identifier","name":"i"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Literal","value":"ltr","raw":"\"ltr\""}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bidiOther"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getBidiPartAt"},"params":[{"type":"Identifier","name":"order"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bidiOther"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"ch"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"ch"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"i"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"ch"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"Identifier","name":"i"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bidiOther"},"right":{"type":"Identifier","name":"i"}}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"ch"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"Identifier","name":"i"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bidiOther"},"right":{"type":"Identifier","name":"i"}}}]}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"found"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Identifier","name":"found"},"alternate":{"type":"Identifier","name":"bidiOther"}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bidiOrdering"},"init":{"type":"CallExpression","callee":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lowTypes"},"init":{"type":"Literal","value":"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN","raw":"\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\""}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arabicTypes"},"init":{"type":"Literal","value":"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111","raw":"\"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\""}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"charType"},"params":[{"type":"Identifier","name":"code"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":247,"raw":"0xf7"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lowTypes"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Identifier","name":"code"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":1424,"raw":"0x590"},"right":{"type":"Identifier","name":"code"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":1524,"raw":"0x5f4"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"R","raw":"\"R\""}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":1536,"raw":"0x600"},"right":{"type":"Identifier","name":"code"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":1785,"raw":"0x6f9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arabicTypes"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":1536,"raw":"0x600"}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":1774,"raw":"0x6ee"},"right":{"type":"Identifier","name":"code"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":2220,"raw":"0x8ac"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"r","raw":"\"r\""}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Literal","value":8192,"raw":"0x2000"},"right":{"type":"Identifier","name":"code"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":8203,"raw":"0x200b"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"w","raw":"\"w\""}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":8204,"raw":"0x200c"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"b","raw":"\"b\""}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"L","raw":"\"L\""}}]}}}}}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bidiRE"},"init":{"type":"Literal","raw":"/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/","regex":{"pattern":"[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]","flags":""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isNeutral"},"init":{"type":"Literal","raw":"/[stwN]/","regex":{"pattern":"[stwN]","flags":""}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isStrong"},"init":{"type":"Literal","raw":"/[LRr]/","regex":{"pattern":"[LRr]","flags":""}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"countsAsLeft"},"init":{"type":"Literal","raw":"/[Lb1n]/","regex":{"pattern":"[Lb1n]","flags":""}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"countsAsNum"},"init":{"type":"Literal","raw":"/[1n]/","regex":{"pattern":"[1n]","flags":""}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"BidiSpan"},"params":[{"type":"Identifier","name":"level"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Identifier","name":"level"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"from"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"to"}}}]},"generator":false,"expression":false,"async":false},{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"str"},{"type":"Identifier","name":"direction"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"outerType"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"direction"},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}},"consequent":{"type":"Literal","value":"L","raw":"\"L\""},"alternate":{"type":"Literal","value":"R","raw":"\"R\""}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"direction"},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bidiRE"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"str"}]},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"len"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"length"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"types"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"len"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"charType"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Identifier","name":"i"}]}]}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prev"},"init":{"type":"Identifier","name":"outerType"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Identifier","name":"len"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"m","raw":"\"m\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$1"}},"right":{"type":"Identifier","name":"prev"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"prev"},"right":{"type":"Identifier","name":"type"}}}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$2"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"Identifier","name":"outerType"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$2"},"right":{"type":"Identifier","name":"len"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$2"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$2"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type$1"},"right":{"type":"Literal","value":"1","raw":"\"1\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cur"},"right":{"type":"Literal","value":"r","raw":"\"r\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$2"}},"right":{"type":"Literal","value":"n","raw":"\"n\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"isStrong"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"type$1"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"Identifier","name":"type$1"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type$1"},"right":{"type":"Literal","value":"r","raw":"\"r\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$2"}},"right":{"type":"Literal","value":"R","raw":"\"R\""}}}]},"alternate":null}]},"alternate":null}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$3"},"init":{"type":"Literal","value":1,"raw":"1"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prev$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$3"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"len"},"right":{"type":"Literal","value":1,"raw":"1"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$3"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type$2"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$3"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type$2"},"right":{"type":"Literal","value":"+","raw":"\"+\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"prev$1"},"right":{"type":"Literal","value":"1","raw":"\"1\""}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i$3"},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"Literal","value":"1","raw":"\"1\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$3"}},"right":{"type":"Literal","value":"1","raw":"\"1\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type$2"},"right":{"type":"Literal","value":",","raw":"\",\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"prev$1"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i$3"},"right":{"type":"Literal","value":1,"raw":"1"}}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"prev$1"},"right":{"type":"Literal","value":"1","raw":"\"1\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"prev$1"},"right":{"type":"Literal","value":"n","raw":"\"n\""}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$3"}},"right":{"type":"Identifier","name":"prev$1"}}}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"prev$1"},"right":{"type":"Identifier","name":"type$2"}}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$4"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$4"},"right":{"type":"Identifier","name":"len"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$4"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type$3"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$4"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type$3"},"right":{"type":"Literal","value":",","raw":"\",\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$4"}},"right":{"type":"Literal","value":"N","raw":"\"N\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type$3"},"right":{"type":"Literal","value":"%","raw":"\"%\""}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i$4"},"right":{"type":"Literal","value":1,"raw":"1"}}},"test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"len"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"end"}},"right":{"type":"Literal","value":"%","raw":"\"%\""}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"end"},"prefix":true},"body":{"type":"BlockStatement","body":[]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"replace"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"i$4"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i$4"},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"Literal","value":"!","raw":"\"!\""}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"len"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"end"}},"right":{"type":"Literal","value":"1","raw":"\"1\""}}}},"consequent":{"type":"Literal","value":"1","raw":"\"1\""},"alternate":{"type":"Literal","value":"N","raw":"\"N\""}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Identifier","name":"i$4"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"Identifier","name":"end"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"j"}},"right":{"type":"Identifier","name":"replace"}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i$4"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"end"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"alternate":null}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$5"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur$1"},"init":{"type":"Identifier","name":"outerType"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$5"},"right":{"type":"Identifier","name":"len"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$5"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type$4"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$5"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cur$1"},"right":{"type":"Literal","value":"L","raw":"\"L\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type$4"},"right":{"type":"Literal","value":"1","raw":"\"1\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$5"}},"right":{"type":"Literal","value":"L","raw":"\"L\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"isStrong"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"type$4"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur$1"},"right":{"type":"Identifier","name":"type$4"}}}]},"alternate":null}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$6"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$6"},"right":{"type":"Identifier","name":"len"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$6"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"isNeutral"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$6"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end$1"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end$1"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i$6"},"right":{"type":"Literal","value":1,"raw":"1"}}},"test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"end$1"},"right":{"type":"Identifier","name":"len"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"isNeutral"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"end$1"}}]}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"end$1"},"prefix":true},"body":{"type":"BlockStatement","body":[]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"before"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"i$6"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i$6"},"right":{"type":"Literal","value":1,"raw":"1"}}},"alternate":{"type":"Identifier","name":"outerType"}},"right":{"type":"Literal","value":"L","raw":"\"L\""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"after"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"end$1"},"right":{"type":"Identifier","name":"len"}},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"end$1"}},"alternate":{"type":"Identifier","name":"outerType"}},"right":{"type":"Literal","value":"L","raw":"\"L\""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"replace$1"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"before"},"right":{"type":"Identifier","name":"after"}},"consequent":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"before"},"consequent":{"type":"Literal","value":"L","raw":"\"L\""},"alternate":{"type":"Literal","value":"R","raw":"\"R\""}},"alternate":{"type":"Identifier","name":"outerType"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j$1"},"init":{"type":"Identifier","name":"i$6"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j$1"},"right":{"type":"Identifier","name":"end$1"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"j$1"}},"right":{"type":"Identifier","name":"replace$1"}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i$6"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"end$1"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"alternate":null}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"m"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$7"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$7"},"right":{"type":"Identifier","name":"len"}},"update":null,"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"countsAsLeft"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$7"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"Identifier","name":"i$7"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$7"},"prefix":true},"test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$7"},"right":{"type":"Identifier","name":"len"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"countsAsLeft"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$7"}}]}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$7"},"prefix":true},"body":{"type":"BlockStatement","body":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"BidiSpan"},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"i$7"}]}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Identifier","name":"i$7"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"at"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$7"},"prefix":true},"test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$7"},"right":{"type":"Identifier","name":"len"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"i$7"}},"right":{"type":"Literal","value":"L","raw":"\"L\""}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$7"},"prefix":true},"body":{"type":"BlockStatement","body":[]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j$2"},"init":{"type":"Identifier","name":"pos"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j$2"},"right":{"type":"Identifier","name":"i$7"}},"update":null,"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"countsAsNum"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"j$2"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"j$2"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"Literal","value":0,"raw":"0"},{"type":"NewExpression","callee":{"type":"Identifier","name":"BidiSpan"},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"j$2"}]}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nstart"},"init":{"type":"Identifier","name":"j$2"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j$2"},"prefix":true},"test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j$2"},"right":{"type":"Identifier","name":"i$7"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"countsAsNum"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"types"},"property":{"type":"Identifier","name":"j$2"}}]}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j$2"},"prefix":true},"body":{"type":"BlockStatement","body":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"Literal","value":0,"raw":"0"},{"type":"NewExpression","callee":{"type":"Identifier","name":"BidiSpan"},"arguments":[{"type":"Literal","value":2,"raw":"2"},{"type":"Identifier","name":"nstart"},{"type":"Identifier","name":"j$2"}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"j$2"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j$2"},"prefix":true}}]}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"i$7"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"Literal","value":0,"raw":"0"},{"type":"NewExpression","callee":{"type":"Identifier","name":"BidiSpan"},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"i$7"}]}]}}]},"alternate":null}]}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"direction"},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"m"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"Literal","raw":"/^\\s+/","regex":{"pattern":"^\\s+","flags":""}}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"unshift"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"BidiSpan"},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}]}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"order"}]},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"m"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"Literal","raw":"/\\s+$/","regex":{"pattern":"\\s+$","flags":""}}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"order"}]},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"BidiSpan"},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"len"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}},{"type":"Identifier","name":"len"}]}]}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"direction"},"right":{"type":"Literal","value":"rtl","raw":"\"rtl\""}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"reverse"}},"arguments":[]},"alternate":{"type":"Identifier","name":"order"}}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},"arguments":[]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getOrder"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"direction"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"order"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"order"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"order"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"order"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"bidiOrdering"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"Identifier","name":"direction"}]}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"order"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"noHandlers"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"on"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"addEventListener"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"addEventListener"}},"arguments":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"},{"type":"Literal","value":false,"raw":"false"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"attachEvent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"attachEvent"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"on","raw":"\"on\""},"right":{"type":"Identifier","name":"type"}},{"type":"Identifier","name":"f"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"map$$1"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"_handlers"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"_handlers"}},"right":{"type":"ObjectExpression","properties":[]}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Identifier","name":"noHandlers"}},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"Identifier","name":"f"}]}}}]}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getHandlers"},"params":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"_handlers"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"_handlers"}},"property":{"type":"Identifier","name":"type"}}},"right":{"type":"Identifier","name":"noHandlers"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"off"},"params":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"removeEventListener"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"removeEventListener"}},"arguments":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"},{"type":"Literal","value":false,"raw":"false"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"detachEvent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"detachEvent"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"on","raw":"\"on\""},"right":{"type":"Identifier","name":"type"}},{"type":"Identifier","name":"f"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"map$$1"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"emitter"},"property":{"type":"Identifier","name":"_handlers"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arr"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"map$$1"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"type"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"arr"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"index"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"arr"},{"type":"Identifier","name":"f"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"index"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"index"}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"index"},"right":{"type":"Literal","value":1,"raw":"1"}}]}]}}}]},"alternate":null}]},"alternate":null}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"signal"},"params":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"handlers"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getHandlers"},"arguments":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"handlers"},"property":{"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"args"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Array"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"slice"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"arguments"},{"type":"Literal","value":2,"raw":"2"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"handlers"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"handlers"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"args"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"signalDOMEvent"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"override"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"e"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"e"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"type"},"computed":false,"value":{"type":"Identifier","name":"e"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"preventDefault"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"defaultPrevented"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"override"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"type"}}},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_defaultPrevented"},"arguments":[{"type":"Identifier","name":"e"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"codemirrorIgnore"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"signalCursorActivity"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arr"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"_handlers"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"_handlers"}},"property":{"type":"Identifier","name":"cursorActivity"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"arr"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"set"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"cursorActivityHandlers"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"cursorActivityHandlers"}},"right":{"type":"ArrayExpression","elements":[]}}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"set"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"i"}}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"set"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"i"}}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"hasHandler"},"params":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getHandlers"},"arguments":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}]},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"eventMixin"},"params":[{"type":"Identifier","name":"ctor"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctor"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"on"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ctor"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"off"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"f"}]}}]},"generator":false,"expression":false,"async":false}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"e_preventDefault"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"preventDefault"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"preventDefault"}},"arguments":[]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"returnValue"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"e_stopPropagation"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"stopPropagation"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"stopPropagation"}},"arguments":[]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"cancelBubble"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"e_defaultPrevented"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"defaultPrevented"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"defaultPrevented"}},"alternate":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"returnValue"}},"right":{"type":"Literal","value":false,"raw":"false"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"e_stop"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_stopPropagation"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"e_target"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"target"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"srcElement"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"e_button"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"b"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"which"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"b"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"button"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b"},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"button"}},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b"},"right":{"type":"Literal","value":3,"raw":"3"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"button"}},"right":{"type":"Literal","value":4,"raw":"4"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b"},"right":{"type":"Literal","value":2,"raw":"2"}}}]},"alternate":null}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"mac"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"ctrlKey"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"b"},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"b"},"right":{"type":"Literal","value":3,"raw":"3"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"b"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dragAndDrop"},"init":{"type":"CallExpression","callee":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"div"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"'div'"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"in","left":{"type":"Literal","value":"draggable","raw":"\"draggable\""},"right":{"type":"Identifier","name":"div"}},"right":{"type":"BinaryExpression","operator":"in","left":{"type":"Literal","value":"dragDrop","raw":"\"dragDrop\""},"right":{"type":"Identifier","name":"div"}}}}]},"generator":false,"expression":false,"async":false},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"zwspSupported"},"init":null}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"zeroWidthElement"},"params":[{"type":"Identifier","name":"measure"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"zwspSupported"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"test"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"Literal","value":"​","raw":"\"\\u200b\""}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"Identifier","name":"measure"},{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"test"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"Literal","value":"x","raw":"\"x\""}]}]}]}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"offsetHeight"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"zwspSupported"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"test"},"property":{"type":"Identifier","name":"offsetWidth"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"test"},"property":{"type":"Identifier","name":"offsetHeight"}},"right":{"type":"Literal","value":2,"raw":"2"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":8,"raw":"8"}}},"prefix":true}}}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"zwspSupported"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"Literal","value":"​","raw":"\"\\u200b\""}]},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"Literal","value":" ","raw":"\"\\u00a0\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"display: inline-block; width: 1px; margin-right: -1px","raw":"\"display: inline-block; width: 1px; margin-right: -1px\""}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-text","raw":"\"cm-text\""},{"type":"Literal","value":"","raw":"\"\""}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"node"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"badBidiRects"},"init":null}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"hasBadBidiRects"},"params":[{"type":"Identifier","name":"measure"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"badBidiRects"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"badBidiRects"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"txt"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"Identifier","name":"measure"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"Literal","value":"AخA","raw":"\"A\\u062eA\""}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"r0"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"range"},"arguments":[{"type":"Identifier","name":"txt"},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":1,"raw":"1"}]},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"r1"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"range"},"arguments":[{"type":"Identifier","name":"txt"},{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":2,"raw":"2"}]},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"Identifier","name":"measure"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"r0"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r0"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r0"},"property":{"type":"Identifier","name":"right"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"badBidiRects"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r1"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"r0"},"property":{"type":"Identifier","name":"right"}}},"right":{"type":"Literal","value":3,"raw":"3"}}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"splitLinesAuto"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","value":"\n\nb","raw":"\"\\n\\nb\""},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"Literal","raw":"/\\n/","regex":{"pattern":"\\n","flags":""}}]},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"string"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"l"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"l"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nl"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""},{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"nl"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nl"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"length"}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"pos"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"nl"},"right":{"type":"Literal","value":1,"raw":"1"}}]},"right":{"type":"Literal","value":"\r","raw":"\"\\r\""}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"nl"},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Identifier","name":"nl"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rt"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":"\r","raw":"\"\\r\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"rt"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"rt"}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"pos"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"rt"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"line"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"nl"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},"alternate":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"string"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"string"},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"Literal","raw":"/\\r\\n?|\\n/","regex":{"pattern":"\\r\\n?|\\n","flags":""}}]}}]},"generator":false,"expression":false,"async":false}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hasSelection"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"getSelection"}},"consequent":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"te"}],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionStart"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionEnd"}}}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]}},"finalizer":null}]},"generator":false,"expression":false,"async":false},"alternate":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"te"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":null}],"kind":"var"},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range$$1"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"ownerDocument"}},"property":{"type":"Identifier","name":"selection"}},"property":{"type":"Identifier","name":"createRange"}},"arguments":[]}}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[]}},"finalizer":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"range$$1"},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"parentElement"}},"arguments":[]},"right":{"type":"Identifier","name":"te"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"compareEndPoints"}},"arguments":[{"type":"Literal","value":"StartToEnd","raw":"\"StartToEnd\""},{"type":"Identifier","name":"range$$1"}]},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"async":false}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hasCopyEvent"},"init":{"type":"CallExpression","callee":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"e"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"in","left":{"type":"Literal","value":"oncopy","raw":"\"oncopy\""},"right":{"type":"Identifier","name":"e"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"oncopy","raw":"\"oncopy\""},{"type":"Literal","value":"return;","raw":"\"return;\""}]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"oncopy"}},"prefix":true},"right":{"type":"Literal","value":"function","raw":"\"function\""}}}]},"generator":false,"expression":false,"async":false},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"badZoomedRects"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"hasBadZoomedRects"},"params":[{"type":"Identifier","name":"measure"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"badZoomedRects"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"badZoomedRects"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"Identifier","name":"measure"},{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"Literal","value":"x","raw":"\"x\""}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"normal"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromRange"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"range"},"arguments":[{"type":"Identifier","name":"node"},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":1,"raw":"1"}]},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"badZoomedRects"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"normal"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromRange"},"property":{"type":"Identifier","name":"left"}}}]},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"modes"},"init":{"type":"ObjectExpression","properties":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mimeModes"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"defineMode"},"params":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"mode"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arguments"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"dependencies"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Array"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"slice"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"arguments"},{"type":"Literal","value":2,"raw":"2"}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modes"},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"mode"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"defineMIME"},"params":[{"type":"Identifier","name":"mime"},{"type":"Identifier","name":"spec"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mimeModes"},"property":{"type":"Identifier","name":"mime"}},"right":{"type":"Identifier","name":"spec"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"resolveMode"},"params":[{"type":"Identifier","name":"spec"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"spec"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mimeModes"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"spec"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spec"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mimeModes"},"property":{"type":"Identifier","name":"spec"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"spec"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mimeModes"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mimeModes"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"found"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"name"},"computed":false,"value":{"type":"Identifier","name":"found"},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spec"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"createObj"},"arguments":[{"type":"Identifier","name":"found"},{"type":"Identifier","name":"spec"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"name"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"spec"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/","regex":{"pattern":"^[\\w\\-]+\\/[\\w\\-]+\\+xml$","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"spec"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolveMode"},"arguments":[{"type":"Literal","value":"application/xml","raw":"\"application/xml\""}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"spec"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^[\\w\\-]+\\/[\\w\\-]+\\+json$/","regex":{"pattern":"^[\\w\\-]+\\/[\\w\\-]+\\+json$","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"spec"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolveMode"},"arguments":[{"type":"Literal","value":"application/json","raw":"\"application/json\""}]}}]},"alternate":null}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"spec"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"name"},"computed":false,"value":{"type":"Identifier","name":"spec"},"kind":"init","method":false,"shorthand":false}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"spec"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"name"},"computed":false,"value":{"type":"Literal","value":"null","raw":"\"null\""},"kind":"init","method":false,"shorthand":false}]}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getMode"},"params":[{"type":"Identifier","name":"options"},{"type":"Identifier","name":"spec"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spec"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolveMode"},"arguments":[{"type":"Identifier","name":"spec"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mfactory"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modes"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"mfactory"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"getMode"},"arguments":[{"type":"Identifier","name":"options"},{"type":"Literal","value":"text/plain","raw":"\"text/plain\""}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"modeObj"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"mfactory"},"arguments":[{"type":"Identifier","name":"options"},{"type":"Identifier","name":"spec"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"modeExtensions"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"exts"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modeExtensions"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}}}}],"kind":"var"},{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"exts"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"exts"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"prop"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"modeObj"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"prop"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modeObj"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"_","raw":"\"_\""},"right":{"type":"Identifier","name":"prop"}}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modeObj"},"property":{"type":"Identifier","name":"prop"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modeObj"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"exts"},"property":{"type":"Identifier","name":"prop"}}}}]},"each":false}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"modeObj"},"property":{"type":"Identifier","name":"name"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"name"}}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"helperType"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"modeObj"},"property":{"type":"Identifier","name":"helperType"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"helperType"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"modeProps"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop$1"},"init":null}],"kind":"var"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"modeProps"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modeObj"},"property":{"type":"Identifier","name":"prop$1"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"modeProps"}},"property":{"type":"Identifier","name":"prop$1"}}}}]},"each":false}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"modeObj"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"modeExtensions"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extendMode"},"params":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"properties"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"exts"},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"modeExtensions"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"mode"}]},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modeExtensions"},"property":{"type":"Identifier","name":"mode"}},"alternate":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"modeExtensions"},"property":{"type":"Identifier","name":"mode"}},"right":{"type":"ObjectExpression","properties":[]}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyObj"},"arguments":[{"type":"Identifier","name":"properties"},{"type":"Identifier","name":"exts"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copyState"},"params":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"state"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"state"},"right":{"type":"Literal","value":true,"raw":"true"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"state"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"copyState"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"copyState"}},"arguments":[{"type":"Identifier","name":"state"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nstate"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"state"},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"val"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"state"},"property":{"type":"Identifier","name":"n"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"Identifier","name":"val"},"right":{"type":"Identifier","name":"Array"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"val"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"val"},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"ArrayExpression","elements":[]}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"nstate"},"property":{"type":"Identifier","name":"n"}},"right":{"type":"Identifier","name":"val"}}}]},"each":false},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"nstate"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"innerMode"},"params":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"state"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"info"},"init":null}],"kind":"var"},{"type":"WhileStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"innerMode"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"info"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"innerMode"}},"arguments":[{"type":"Identifier","name":"state"}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"info"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"mode"}},"right":{"type":"Identifier","name":"mode"}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"state"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"state"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"mode"}}}}]}},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"info"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"mode"},"computed":false,"value":{"type":"Identifier","name":"mode"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"state"},"computed":false,"value":{"type":"Identifier","name":"state"},"kind":"init","method":false,"shorthand":false}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"startState"},"params":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"a1"},{"type":"Identifier","name":"a2"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"startState"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"startState"}},"arguments":[{"type":"Identifier","name":"a1"},{"type":"Identifier","name":"a2"}]},"alternate":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"StringStream"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"string"},{"type":"Identifier","name":"tabSize"},{"type":"Identifier","name":"lineOracle"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"start"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"right":{"type":"Identifier","name":"string"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"tabSize"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"tabSize"},"right":{"type":"Literal","value":8,"raw":"8"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnPos"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnValue"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineOracle"}},"right":{"type":"Identifier","name":"lineOracle"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"eol"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"length"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"sol"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"peek"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]},"right":{"type":"Identifier","name":"undefined"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"next"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"eat"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"match"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ok"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"match"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ok"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"match"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ok"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ch"},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"match"},"property":{"type":"Identifier","name":"test"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"match"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"ch"}]},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"match"},"arguments":[{"type":"Identifier","name":"ch"}]}}}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"ok"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"prefix":true}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"ch"}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"eatWhile"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"match"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"eat"}},"arguments":[{"type":"Identifier","name":"match"}]},"body":{"type":"BlockStatement","body":[]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"start"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"eatSpace"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/[\\s\\u00a0]/","regex":{"pattern":"[\\s\\u00a0]","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]}]},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"pos"}},"prefix":true}}]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"start"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"skipToEnd"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"length"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"skipTo"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Identifier","name":"ch"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"found"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"found"}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"backUp"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"n"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"column"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnPos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"start"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnValue"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"start"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"tabSize"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnPos"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnValue"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnPos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"start"}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastColumnValue"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"tabSize"}}]},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"indentation"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"tabSize"}}]},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"tabSize"}}]},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"match"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pattern"},{"type":"Identifier","name":"consume"},{"type":"Identifier","name":"caseInsensitive"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"pattern"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cased"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"str"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"caseInsensitive"},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"toLowerCase"}},"arguments":[]},"alternate":{"type":"Identifier","name":"str"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"substr"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"substr"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pattern"},"property":{"type":"Identifier","name":"length"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cased"},"arguments":[{"type":"Identifier","name":"substr"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"cased"},"arguments":[{"type":"Identifier","name":"pattern"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!==","left":{"type":"Identifier","name":"consume"},"right":{"type":"Literal","value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pattern"},"property":{"type":"Identifier","name":"length"}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"match"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"Identifier","name":"pattern"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"match"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"match"},"property":{"type":"Identifier","name":"index"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"match"},"right":{"type":"BinaryExpression","operator":"!==","left":{"type":"Identifier","name":"consume"},"right":{"type":"Literal","value":false,"raw":"false"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"match"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"match"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"current"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"start"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"hideFirstChars"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"n"},{"type":"Identifier","name":"inner"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}},"right":{"type":"Identifier","name":"n"}}},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"inner"},"arguments":[]}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineStart"}},"right":{"type":"Identifier","name":"n"}}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"lookAhead"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oracle"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineOracle"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"oracle"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oracle"},"property":{"type":"Identifier","name":"lookAhead"}},"arguments":[{"type":"Identifier","name":"n"}]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"StringStream"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"baseToken"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oracle"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineOracle"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"oracle"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oracle"},"property":{"type":"Identifier","name":"baseToken"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"SavedContext"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"state"},{"type":"Identifier","name":"lookAhead"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"Identifier","name":"state"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lookAhead"}},"right":{"type":"Identifier","name":"lookAhead"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Context"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"state"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"lookAhead"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"Identifier","name":"state"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"right":{"type":"Identifier","name":"doc"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"line"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxLookAhead"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"lookAhead"},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokens"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokenPos"}},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Context"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"lookAhead"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"getLine"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"n"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"line"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxLookAhead"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxLookAhead"}},"right":{"type":"Identifier","name":"n"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"line"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Context"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"baseToken"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokens"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokens"}},"property":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokenPos"}}},"right":{"type":"Identifier","name":"n"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"baseTokenPos"}},"right":{"type":"Literal","value":2,"raw":"2"}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokens"}},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokenPos"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"type"},"computed":false,"value":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"type"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"type"},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/( |^)overlay .*/","regex":{"pattern":"( |^)overlay .*","flags":""}},{"type":"Literal","value":"","raw":"\"\""}]}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"size"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokens"}},"property":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"baseTokenPos"}}},"right":{"type":"Identifier","name":"n"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Context"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"nextLine"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}},"prefix":false}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxLookAhead"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxLookAhead"}},"prefix":false}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Context"},"property":{"type":"Identifier","name":"fromSaved"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"saved"},{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"Identifier","name":"saved"},"right":{"type":"Identifier","name":"SavedContext"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Context"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"copyState"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"saved"},"property":{"type":"Identifier","name":"state"}}]},{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"saved"},"property":{"type":"Identifier","name":"lookAhead"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Context"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"copyState"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}},{"type":"Identifier","name":"saved"}]},{"type":"Identifier","name":"line"}]}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Context"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"save"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"copy"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"state"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"!==","left":{"type":"Identifier","name":"copy"},"right":{"type":"Literal","value":false,"raw":"false"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyState"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"mode"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}}]},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxLookAhead"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"NewExpression","callee":{"type":"Identifier","name":"SavedContext"},"arguments":[{"type":"Identifier","name":"state"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxLookAhead"}}]},"alternate":{"type":"Identifier","name":"state"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"highlightLine"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"context"},{"type":"Identifier","name":"forceToEnd"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"st"},"init":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"modeGen"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineClasses"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runMode"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"mode"}},{"type":"Identifier","name":"context"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"end"},{"type":"Identifier","name":"style"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"st"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"end"},{"type":"Identifier","name":"style"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"lineClasses"},{"type":"Identifier","name":"forceToEnd"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"state"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loop"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"o"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"baseTokens"}},"right":{"type":"Identifier","name":"st"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"overlay"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overlays"}},"property":{"type":"Identifier","name":"o"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":1,"raw":"1"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"at"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runMode"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"overlay"},"property":{"type":"Identifier","name":"mode"}},{"type":"Identifier","name":"context"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"end"},{"type":"Identifier","name":"style"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"Identifier","name":"i"}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"end"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i_end"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"st"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"i_end"},"right":{"type":"Identifier","name":"end"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"st"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"i"},{"type":"Literal","value":1,"raw":"1"},{"type":"Identifier","name":"end"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"st"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"Identifier","name":"i_end"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":2,"raw":"2"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"at"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"end"},{"type":"Identifier","name":"i_end"}]}}}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"style"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"overlay"},"property":{"type":"Identifier","name":"opaque"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"st"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"start"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"start"}},{"type":"Identifier","name":"end"},{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"overlay ","raw":"\"overlay \""},"right":{"type":"Identifier","name":"style"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":2,"raw":"2"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ForStatement","init":null,"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"start"},"right":{"type":"Identifier","name":"i"}},"update":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":2,"raw":"2"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"st"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"st"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"cur"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"cur"},"right":{"type":"Literal","value":" ","raw":"\" \""}},"alternate":{"type":"Literal","value":"","raw":"\"\""}},"right":{"type":"Literal","value":"overlay ","raw":"\"overlay \""}},"right":{"type":"Identifier","name":"style"}}}}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"lineClasses"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"Identifier","name":"state"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"baseTokens"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"baseTokenPos"}},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"o"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"o"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overlays"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"o"},"prefix":true},"body":{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"loop"},"arguments":[{"type":"Identifier","name":"o"}]}}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"styles"},"computed":false,"value":{"type":"Identifier","name":"st"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"classes"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineClasses"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineClasses"},"property":{"type":"Identifier","name":"textClass"}}},"consequent":{"type":"Identifier","name":"lineClasses"},"alternate":{"type":"Literal","value":null,"raw":"null"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLineStyles"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"updateFrontier"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"modeGen"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"context"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getContextBefore"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"resetState"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"maxHighlightLength"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyState"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"mode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"highlightLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"context"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"resetState"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"Identifier","name":"resetState"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"save"}},"arguments":[{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"resetState"},"prefix":true}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"styles"}}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"classes"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"classes"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"updateFrontier"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"highlightFrontier"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"modeFrontier"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"modeFrontier"}},{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"highlightFrontier"}},"prefix":true}]}}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getContextBefore"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"n"},{"type":"Identifier","name":"precise"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}},"property":{"type":"Identifier","name":"startState"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Context"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":true,"raw":"true"},{"type":"Identifier","name":"n"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findStartLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"n"},{"type":"Identifier","name":"precise"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"saved"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"start"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":1,"raw":"1"}}]},"property":{"type":"Identifier","name":"stateAfter"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"context"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"saved"},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Context"},"property":{"type":"Identifier","name":"fromSaved"}},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"saved"},{"type":"Identifier","name":"start"}]},"alternate":{"type":"NewExpression","callee":{"type":"Identifier","name":"Context"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"startState"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}}]},{"type":"Identifier","name":"start"}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"Identifier","name":"start"},{"type":"Identifier","name":"n"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"processLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"Identifier","name":"context"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"pos"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"pos"},"right":{"type":"Literal","value":5,"raw":"5"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"save"}},"arguments":[]},"alternate":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"nextLine"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"precise"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeFrontier"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"context"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"processLine"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"context"},{"type":"Identifier","name":"startAt"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mode"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"mode"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stream"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"StringStream"},"arguments":[{"type":"Identifier","name":"text"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}},{"type":"Identifier","name":"context"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"startAt"},"right":{"type":"Literal","value":0,"raw":"0"}}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"text"},"right":{"type":"Literal","value":"","raw":"\"\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"callBlankLine"},"arguments":[{"type":"Identifier","name":"mode"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]}}]},"alternate":null},{"type":"WhileStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"eol"}},"arguments":[]},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"readToken"},"arguments":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"stream"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"callBlankLine"},"params":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"state"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"blankLine"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"blankLine"}},"arguments":[{"type":"Identifier","name":"state"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"innerMode"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"inner"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"innerMode"},"arguments":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"state"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"inner"},"property":{"type":"Identifier","name":"mode"}},"property":{"type":"Identifier","name":"blankLine"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"inner"},"property":{"type":"Identifier","name":"mode"}},"property":{"type":"Identifier","name":"blankLine"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"inner"},"property":{"type":"Identifier","name":"state"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"readToken"},"params":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"stream"},{"type":"Identifier","name":"state"},{"type":"Identifier","name":"inner"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":10,"raw":"10"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"inner"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"inner"},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"innerMode"},"arguments":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"state"}]},"property":{"type":"Identifier","name":"mode"}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"style"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"token"}},"arguments":[{"type":"Identifier","name":"stream"},{"type":"Identifier","name":"state"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"style"}}]},"alternate":null}]}},{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Mode ","raw":"\"Mode \""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"name"}}},"right":{"type":"Literal","value":" failed to advance stream.","raw":"\" failed to advance stream.\""}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Token"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"stream"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"state"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"start"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"end"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"string"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"current"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"Identifier","name":"state"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"takeToken"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"precise"},{"type":"Identifier","name":"asArray"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mode"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"style"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"context"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getContextBefore"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"precise"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stream"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"StringStream"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}},{"type":"Identifier","name":"context"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tokens"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"asArray"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"tokens"},"right":{"type":"ArrayExpression","elements":[]}}}]},"alternate":null},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"asArray"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"eol"}},"arguments":[]},"prefix":true}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"style"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"readToken"},"arguments":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"stream"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]}}},{"type":"IfStatement","test":{"type":"Identifier","name":"asArray"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"tokens"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Token"},"arguments":[{"type":"Identifier","name":"stream"},{"type":"Identifier","name":"style"},{"type":"CallExpression","callee":{"type":"Identifier","name":"copyState"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]}]}]}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"asArray"},"consequent":{"type":"Identifier","name":"tokens"},"alternate":{"type":"NewExpression","callee":{"type":"Identifier","name":"Token"},"arguments":[{"type":"Identifier","name":"stream"},{"type":"Identifier","name":"style"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extractLineClasses"},"params":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"output"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"type"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineClass"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"type"},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"Literal","raw":"/(?:^|\\s+)line-(background-)?(\\S+)/","regex":{"pattern":"(?:^|\\s+)line-(background-)?(\\S+)","flags":""}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"lineClass"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"type"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"type"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineClass"},"property":{"type":"Identifier","name":"index"}}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"type"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineClass"},"property":{"type":"Identifier","name":"index"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lineClass"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}}]}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lineClass"},"property":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"Literal","value":"bgClass","raw":"\"bgClass\""},"alternate":{"type":"Literal","value":"textClass","raw":"\"textClass\""}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"output"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"output"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lineClass"},"property":{"type":"Literal","value":2,"raw":"2"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"NewExpression","callee":{"type":"Identifier","name":"RegExp"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"(?:^|s)","raw":"\"(?:^|\\s)\""},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lineClass"},"property":{"type":"Literal","value":2,"raw":"2"}}},"right":{"type":"Literal","value":"(?:$|s)","raw":"\"(?:$|\\s)\""}}]},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"output"},"property":{"type":"Identifier","name":"prop"}}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"output"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":" ","raw":"\" \""},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lineClass"},"property":{"type":"Literal","value":2,"raw":"2"}}}}}]},"alternate":null}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"type"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"runMode"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"context"},{"type":"Identifier","name":"f"},{"type":"Identifier","name":"lineClasses"},{"type":"Identifier","name":"forceToEnd"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"flattenSpans"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"flattenSpans"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"flattenSpans"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"flattenSpans"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"flattenSpans"}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curStart"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curStyle"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stream"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"StringStream"},"arguments":[{"type":"Identifier","name":"text"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}},{"type":"Identifier","name":"context"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"style"},"init":null}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"inner"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"addModeClass"}},"right":{"type":"ArrayExpression","elements":[{"type":"Literal","value":null,"raw":"null"}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"text"},"right":{"type":"Literal","value":"","raw":"\"\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extractLineClasses"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"callBlankLine"},"arguments":[{"type":"Identifier","name":"mode"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]},{"type":"Identifier","name":"lineClasses"}]}}]},"alternate":null},{"type":"WhileStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"eol"}},"arguments":[]},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"maxHighlightLength"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"flattenSpans"},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"forceToEnd"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"processLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"context"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"style"},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"style"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"extractLineClasses"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"readToken"},"arguments":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"stream"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}},{"type":"Identifier","name":"inner"}]},{"type":"Identifier","name":"lineClasses"}]}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"inner"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mName"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"inner"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"name"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"mName"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"style"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"m-","raw":"\"m-\""},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"style"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"mName"},"right":{"type":"Literal","value":" ","raw":"\" \""}},"right":{"type":"Identifier","name":"style"}},"alternate":{"type":"Identifier","name":"mName"}}}}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"flattenSpans"},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"curStyle"},"right":{"type":"Identifier","name":"style"}}},"consequent":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"curStart"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"curStart"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"curStart"},"right":{"type":"Literal","value":5000,"raw":"5000"}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"Identifier","name":"curStart"},{"type":"Identifier","name":"curStyle"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"curStyle"},"right":{"type":"Identifier","name":"style"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"start"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}}}}]}},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"curStart"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"pos"}},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"curStart"},"right":{"type":"Literal","value":5000,"raw":"5000"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"curStyle"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"curStart"},"right":{"type":"Identifier","name":"pos"}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findStartLine"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"n"},{"type":"Identifier","name":"precise"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"minindent"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"minline"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lim"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"precise"},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"n"},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"mode"}},"property":{"type":"Identifier","name":"innerMode"}},"consequent":{"type":"Literal","value":1000,"raw":"1000"},"alternate":{"type":"Literal","value":100,"raw":"100"}}}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"search"},"init":{"type":"Identifier","name":"n"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"search"},"right":{"type":"Identifier","name":"lim"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"search"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"search"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"search"},"right":{"type":"Literal","value":1,"raw":"1"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"after"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"after"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"precise"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"search"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"Identifier","name":"after"},"right":{"type":"Identifier","name":"SavedContext"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"after"},"property":{"type":"Identifier","name":"lookAhead"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeFrontier"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"search"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"indented"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"minline"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"minindent"},"right":{"type":"Identifier","name":"indented"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"minline"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"search"},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"minindent"},"right":{"type":"Identifier","name":"indented"}}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"minline"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"retreatFrontier"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeFrontier"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeFrontier"}},{"type":"Identifier","name":"n"}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"highlightFrontier"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":10,"raw":"10"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"line"},"right":{"type":"Identifier","name":"start"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"line"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"saved"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}]},"property":{"type":"Identifier","name":"stateAfter"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"saved"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"Identifier","name":"saved"},"right":{"type":"Identifier","name":"SavedContext"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"saved"},"property":{"type":"Identifier","name":"lookAhead"}}},"right":{"type":"Identifier","name":"n"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"line"},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"highlightFrontier"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"highlightFrontier"}},{"type":"Identifier","name":"start"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Line"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"markedSpans"},{"type":"Identifier","name":"estimateHeight"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"Identifier","name":"text"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"attachMarkedSpans"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"markedSpans"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"estimateHeight"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateHeight"},"arguments":[{"type":"ThisExpression"}]},"alternate":{"type":"Literal","value":1,"raw":"1"}}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Line"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"lineNo"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"ThisExpression"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventMixin"},"arguments":[{"type":"Identifier","name":"Line"}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLine"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"markedSpans"},{"type":"Identifier","name":"estimateHeight"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"Identifier","name":"text"}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"order"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"order"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"detachMarkedSpans"},"arguments":[{"type":"Identifier","name":"line"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"attachMarkedSpans"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"markedSpans"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"estHeight"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"estimateHeight"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateHeight"},"arguments":[{"type":"Identifier","name":"line"}]},"alternate":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"estHeight"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"estHeight"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"cleanUpLine"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"detachMarkedSpans"},"arguments":[{"type":"Identifier","name":"line"}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"styleToClassCache"},"init":{"type":"ObjectExpression","properties":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"styleToClassCacheWithMode"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"interpretTokenStyle"},"params":[{"type":"Identifier","name":"style"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"style"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^\\s*$/","regex":{"pattern":"^\\s*$","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"style"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cache"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"addModeClass"}},"consequent":{"type":"Identifier","name":"styleToClassCacheWithMode"},"alternate":{"type":"Identifier","name":"styleToClassCache"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"cache"},"property":{"type":"Identifier","name":"style"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"cache"},"property":{"type":"Identifier","name":"style"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"style"},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/\\S+/g","regex":{"pattern":"\\S+","flags":"g"}},{"type":"Literal","value":"cm-$&amp;","raw":"\"cm-$&amp;\""}]}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"buildLineContent"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"content"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"eltP"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"Literal","value":"padding-right: .1px","raw":"\"padding-right: .1px\""},"alternate":{"type":"Literal","value":null,"raw":"null"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"builder"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"pre"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"eltP"},"arguments":[{"type":"Literal","value":"pre","raw":"\"pre\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"content"}]},{"type":"Literal","value":"CodeMirror-line","raw":"\"CodeMirror-line\""}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"content"},"computed":false,"value":{"type":"Identifier","name":"content"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"col"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"pos"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cm"},"computed":false,"value":{"type":"Identifier","name":"cm"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"trailingSpace"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"splitSpaces"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getOption"}},"arguments":[{"type":"Literal","value":"lineWrapping","raw":"\"lineWrapping\""}]},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"length"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"i"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"addToken"}},"right":{"type":"Identifier","name":"buildToken"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasBadBidiRects"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"measure"}}]},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"order"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"addToken"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildTokenBadBidi"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"addToken"}},{"type":"Identifier","name":"order"}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"allowFrontierUpdate"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"lineView"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"externalMeasured"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"insertLineContent"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"builder"},{"type":"CallExpression","callee":{"type":"Identifier","name":"getLineStyles"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"allowFrontierUpdate"}]}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"property":{"type":"Identifier","name":"bgClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"joinClasses"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"property":{"type":"Identifier","name":"bgClass"}},{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"Literal","value":"","raw":"\"\""}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"property":{"type":"Identifier","name":"textClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"joinClasses"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"property":{"type":"Identifier","name":"textClass"}},{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"Literal","value":"","raw":"\"\""}}]}}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"content"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"zeroWidthElement"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"measure"}}]}]}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"map"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"cache"}},"right":{"type":"ObjectExpression","properties":[]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"maps"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"maps"}},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"caches"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"caches"}},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[]}]}}]}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"content"}},"property":{"type":"Identifier","name":"lastChild"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\bcm-tab\\b/","regex":{"pattern":"\\bcm-tab\\b","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"className"}}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"querySelector"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"querySelector"}},"arguments":[{"type":"Literal","value":".cm-tab","raw":"\".cm-tab\""}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"content"}},"property":{"type":"Identifier","name":"className"}},"right":{"type":"Literal","value":"cm-tab-wrap-hack","raw":"\"cm-tab-wrap-hack\""}}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"renderLine","raw":"\"renderLine\""},{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pre"}}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pre"}},"property":{"type":"Identifier","name":"className"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"joinClasses"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pre"}},"property":{"type":"Identifier","name":"className"}},{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"Literal","value":"","raw":"\"\""}}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"builder"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"defaultSpecialCharPlaceholder"},"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"token"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"Literal","value":"•","raw":"\"\\u2022\""},{"type":"Literal","value":"cm-invalidchar","raw":"\"cm-invalidchar\""}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"token"},"property":{"type":"Identifier","name":"title"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"\\u","raw":"\"\\\\u\""},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ch"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},"property":{"type":"Identifier","name":"toString"}},"arguments":[{"type":"Literal","value":16,"raw":"16"}]}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"token"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"aria-label","raw":"\"aria-label\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"token"},"property":{"type":"Identifier","name":"title"}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"token"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"buildToken"},"params":[{"type":"Identifier","name":"builder"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"style"},{"type":"Identifier","name":"startStyle"},{"type":"Identifier","name":"endStyle"},{"type":"Identifier","name":"title"},{"type":"Identifier","name":"css"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"text"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"displayText"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"splitSpaces"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"splitSpaces"},"arguments":[{"type":"Identifier","name":"text"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"trailingSpace"}}]},"alternate":{"type":"Identifier","name":"text"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"special"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"specialChars"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mustWrap"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"content"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"special"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"text"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"col"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"content"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"Identifier","name":"displayText"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}},{"type":"Identifier","name":"content"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mustWrap"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"content"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createDocumentFragment"}},"arguments":[]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"Literal","value":true,"raw":"true"},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"special"},"property":{"type":"Identifier","name":"lastIndex"}},"right":{"type":"Identifier","name":"pos"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"m"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"special"},"property":{"type":"Identifier","name":"exec"}},"arguments":[{"type":"Identifier","name":"text"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"skipped"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"m"},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"index"}},"right":{"type":"Identifier","name":"pos"}},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"pos"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"skipped"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"txt"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"displayText"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"pos"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"skipped"}}]}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"txt"}]}]}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"txt"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"skipped"}},{"type":"Identifier","name":"txt"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"col"}},"right":{"type":"Identifier","name":"skipped"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"skipped"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"m"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"pos"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"skipped"},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"txt$1"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Literal","value":"\t","raw":"\"\\t\""}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tabSize"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tabWidth"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"tabSize"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"col"}},"right":{"type":"Identifier","name":"tabSize"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"txt$1"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"CallExpression","callee":{"type":"Identifier","name":"spaceStr"},"arguments":[{"type":"Identifier","name":"tabWidth"}]},{"type":"Literal","value":"cm-tab","raw":"\"cm-tab\""}]}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"txt$1"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"role","raw":"\"role\""},{"type":"Literal","value":"presentation","raw":"\"presentation\""}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"txt$1"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-text","raw":"\"cm-text\""},{"type":"Literal","value":"\t","raw":"\"\\t\""}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"col"}},"right":{"type":"Identifier","name":"tabWidth"}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Literal","value":"\r","raw":"\"\\r\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Literal","value":"\n","raw":"\"\\n\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"txt$1"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Literal","value":"\r","raw":"\"\\r\""}},"consequent":{"type":"Literal","value":"␍","raw":"\"\\u240d\""},"alternate":{"type":"Literal","value":"␤","raw":"\"\\u2424\""}},{"type":"Literal","value":"cm-invalidchar","raw":"\"cm-invalidchar\""}]}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"txt$1"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-text","raw":"\"cm-text\""},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"col"}},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"txt$1"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"specialCharPlaceholder"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"txt$1"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-text","raw":"\"cm-text\""},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":0,"raw":"0"}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"txt$1"}]}]}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"content"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"txt$1"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"col"}},"right":{"type":"Literal","value":1,"raw":"1"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Identifier","name":"txt$1"}]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"prefix":false}}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"trailingSpace"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"displayText"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},"right":{"type":"Literal","value":32,"raw":"32"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"style"},"right":{"type":"Identifier","name":"startStyle"}},"right":{"type":"Identifier","name":"endStyle"}},"right":{"type":"Identifier","name":"mustWrap"}},"right":{"type":"Identifier","name":"css"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fullStyle"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"style"},"right":{"type":"Literal","value":"","raw":"\"\""}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"startStyle"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"fullStyle"},"right":{"type":"Identifier","name":"startStyle"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"endStyle"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"fullStyle"},"right":{"type":"Identifier","name":"endStyle"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"token"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"content"}]},{"type":"Identifier","name":"fullStyle"},{"type":"Identifier","name":"css"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"title"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"token"},"property":{"type":"Identifier","name":"title"}},"right":{"type":"Identifier","name":"title"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"content"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"token"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"content"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"content"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"splitSpaces"},"params":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"trailingBefore"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/  /","regex":{"pattern":"  ","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"text"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"text"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spaceBefore"},"init":{"type":"Identifier","name":"trailingBefore"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"Literal","value":"","raw":"\"\""}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Identifier","name":"i"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":" ","raw":"\" \""}},"right":{"type":"Identifier","name":"spaceBefore"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}]},"right":{"type":"Literal","value":32,"raw":"32"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":" ","raw":"\"\\u00a0\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"result"},"right":{"type":"Identifier","name":"ch"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spaceBefore"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":" ","raw":"\" \""}}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"buildTokenBadBidi"},"params":[{"type":"Identifier","name":"inner"},{"type":"Identifier","name":"order"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"builder"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"style"},{"type":"Identifier","name":"startStyle"},{"type":"Identifier","name":"endStyle"},{"type":"Identifier","name":"title"},{"type":"Identifier","name":"css"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"style"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"style"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"style"},"right":{"type":"Literal","value":" cm-force-border","raw":"\" cm-force-border\""}},"alternate":{"type":"Literal","value":"cm-force-border","raw":"\"cm-force-border\""}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"start"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}}}],"kind":"var"},{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"part"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"i"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"start"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"start"}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"end"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"inner"},"arguments":[{"type":"Identifier","name":"builder"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"style"},{"type":"Identifier","name":"startStyle"},{"type":"Identifier","name":"endStyle"},{"type":"Identifier","name":"title"},{"type":"Identifier","name":"css"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"inner"},"arguments":[{"type":"Identifier","name":"builder"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"start"}}]},{"type":"Identifier","name":"style"},{"type":"Identifier","name":"startStyle"},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"title"},{"type":"Identifier","name":"css"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"startStyle"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"text"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"start"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}}}}]}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"buildCollapsedSpan"},"params":[{"type":"Identifier","name":"builder"},{"type":"Identifier","name":"size"},{"type":"Identifier","name":"marker"},{"type":"Identifier","name":"ignoreWidget"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widget"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ignoreWidget"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"widgetNode"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"widget"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"map"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"size"}},{"type":"Identifier","name":"widget"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ignoreWidget"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"needsContentAttribute"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"widget"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"widget"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"content"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createElement"}},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""}]}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-marker","raw":"\"cm-marker\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"id"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"widget"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"setUneditable"}},"arguments":[{"type":"Identifier","name":"widget"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"content"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"widget"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"size"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"trailingSpace"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"insertLineContent"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"builder"},{"type":"Identifier","name":"styles"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spans"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"allText"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"at"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"spans"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":1,"raw":"1"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"styles"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":2,"raw":"2"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"addToken"}},"arguments":[{"type":"Identifier","name":"builder"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"allText"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"at"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"Identifier","name":"i$1"}}}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"interpretTokenStyle"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}}]}]}}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"len"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"allText"},"property":{"type":"Identifier","name":"length"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":1,"raw":"1"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"Literal","value":"","raw":"\"\""}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"style"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"css"},"init":null}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextChange"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spanStyle"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spanEndStyle"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spanStartStyle"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"title"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"collapsed"},"init":null}],"kind":"var"},{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"nextChange"},"right":{"type":"Identifier","name":"pos"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spanStyle"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spanEndStyle"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spanStartStyle"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"title"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"css"},"right":{"type":"Literal","value":"","raw":"\"\""}}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapsed"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nextChange"},"right":{"type":"Identifier","name":"Infinity"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"foundBookmarks"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"endStyles"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sp"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"j"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"m"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"bookmark","raw":"\"bookmark\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"pos"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"widgetNode"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"foundBookmarks"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"m"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"pos"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"pos"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"collapsed"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"pos"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"pos"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"pos"}}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"nextChange"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nextChange"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spanEndStyle"},"right":{"type":"Literal","value":"","raw":"\"\""}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"className"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"spanStyle"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":" ","raw":"\" \""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"className"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"css"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"css"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"css"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"css"},"right":{"type":"Literal","value":";","raw":"\";\""}},"alternate":{"type":"Literal","value":"","raw":"\"\""}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"css"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"startStyle"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"pos"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"spanStartStyle"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":" ","raw":"\" \""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"startStyle"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"endStyle"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"nextChange"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"endStyles"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"endStyles"},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"endStyle"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"title"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"title"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"title"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"title"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"collapsed"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"collapsed"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"compareCollapsedMarkers"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"marker"}},{"type":"Identifier","name":"m"}]},"right":{"type":"Literal","value":0,"raw":"0"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapsed"},"right":{"type":"Identifier","name":"sp"}}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"pos"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"nextChange"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nextChange"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}}}}]},"alternate":null}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"endStyles"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"endStyles"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"j$1"},"right":{"type":"Literal","value":2,"raw":"2"}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"endStyles"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"j$1"},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"Identifier","name":"nextChange"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"spanEndStyle"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":" ","raw":"\" \""},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"endStyles"},"property":{"type":"Identifier","name":"j$1"}}}}}]},"alternate":null}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"collapsed"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"pos"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j$2"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j$2"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"foundBookmarks"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j$2"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildCollapsedSpan"},"arguments":[{"type":"Identifier","name":"builder"},{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"foundBookmarks"},"property":{"type":"Identifier","name":"j$2"}}]}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"collapsed"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Identifier","name":"pos"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildCollapsedSpan"},"arguments":[{"type":"Identifier","name":"builder"},{"type":"BinaryExpression","operator":"-","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"len"},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"to"}}},"right":{"type":"Identifier","name":"pos"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"marker"}},{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"pos"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapsed"},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"len"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"upto"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"len"},{"type":"Identifier","name":"nextChange"}]}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"Literal","value":true,"raw":"true"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"text"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"collapsed"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tokenText"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"upto"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"upto"},"right":{"type":"Identifier","name":"pos"}}]},"alternate":{"type":"Identifier","name":"text"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"addToken"}},"arguments":[{"type":"Identifier","name":"builder"},{"type":"Identifier","name":"tokenText"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"style"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"style"},"right":{"type":"Identifier","name":"spanStyle"}},"alternate":{"type":"Identifier","name":"spanStyle"}},{"type":"Identifier","name":"spanStartStyle"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"tokenText"},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"Identifier","name":"nextChange"}},"consequent":{"type":"Identifier","name":"spanEndStyle"},"alternate":{"type":"Literal","value":"","raw":"\"\""}},{"type":"Identifier","name":"title"},{"type":"Identifier","name":"css"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"upto"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"text"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"upto"},"right":{"type":"Identifier","name":"pos"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"upto"}}},{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"end"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"spanStartStyle"},"right":{"type":"Literal","value":"","raw":"\"\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"text"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"allText"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"at"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"style"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"interpretTokenStyle"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"builder"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}}]}}}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"LineView"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"lineN"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"line"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"rest"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLineContinued"},"arguments":[{"type":"Identifier","name":"line"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"rest"}},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"rest"}}]}]},"right":{"type":"Identifier","name":"lineN"}},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hidden"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"buildViewArray"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"array"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextPos"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Identifier","name":"from"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"to"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"nextPos"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"LineView"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"}]},{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"nextPos"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"size"}}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"view"}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"array"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"operationGroup"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"pushOperation"},"params":[{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"operationGroup"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"operationGroup"},"property":{"type":"Identifier","name":"ops"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"op"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"ownsGroup"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"operationGroup"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"ops"},"computed":false,"value":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"op"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delayedCallbacks"},"computed":false,"value":{"type":"ArrayExpression","elements":[]},"kind":"init","method":false,"shorthand":false}]}}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"fireCallbacksForOps"},"params":[{"type":"Identifier","name":"group"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"callbacks"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"group"},"property":{"type":"Identifier","name":"delayedCallbacks"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"DoWhileStatement","body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":null,"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"callbacks"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"callbacks"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Literal","value":null,"raw":"null"}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"group"},"property":{"type":"Identifier","name":"ops"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"op"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"group"},"property":{"type":"Identifier","name":"ops"}},"property":{"type":"Identifier","name":"j"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cursorActivityHandlers"}},"consequent":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cursorActivityCalled"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cursorActivityHandlers"}},"property":{"type":"Identifier","name":"length"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cursorActivityHandlers"}},"property":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cursorActivityCalled"}},"prefix":false}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cm"}}]}}]}}]},"alternate":null}]}}]},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"callbacks"},"property":{"type":"Identifier","name":"length"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"finishOperation"},"params":[{"type":"Identifier","name":"op"},{"type":"Identifier","name":"endCb"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"group"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"ownsGroup"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"group"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"fireCallbacksForOps"},"arguments":[{"type":"Identifier","name":"group"}]}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"operationGroup"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endCb"},"arguments":[{"type":"Identifier","name":"group"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"orphanDelayedCallbacks"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"signalLater"},"params":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arr"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getHandlers"},"arguments":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"args"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Array"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"slice"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"arguments"},{"type":"Literal","value":2,"raw":"2"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"list"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"operationGroup"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"list"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"operationGroup"},"property":{"type":"Identifier","name":"delayedCallbacks"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"orphanDelayedCallbacks"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"list"},"right":{"type":"Identifier","name":"orphanDelayedCallbacks"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"list"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"orphanDelayedCallbacks"},"right":{"type":"ArrayExpression","elements":[]}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"Identifier","name":"fireOrphanDelayed"},{"type":"Literal","value":0,"raw":"0"}]}}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loop"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"i"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"list"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"loop"},"arguments":[{"type":"Identifier","name":"i"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"fireOrphanDelayed"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delayed"},"init":{"type":"Identifier","name":"orphanDelayedCallbacks"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"orphanDelayedCallbacks"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"delayed"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"delayed"},"property":{"type":"Identifier","name":"i"}},"arguments":[]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLineForChanges"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"dims"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}},"property":{"type":"Identifier","name":"j"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"text","raw":"\"text\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineText"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"gutter","raw":"\"gutter\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineGutter"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"dims"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"class","raw":"\"class\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineClasses"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"widget","raw":"\"widget\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineWidgets"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"}]}}]},"alternate":null}}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"ensureLineWrapped"},"params":[{"type":"Identifier","name":"lineView"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"position: relative","raw":"\"position: relative\""}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"parentNode"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"replaceChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":8,"raw":"8"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"zIndex"}},"right":{"type":"Literal","value":2,"raw":"2"}}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLineBackground"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cls"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"bgClass"}},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"Literal","value":" ","raw":"\" \""}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"bgClass"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"cls"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"cls"},"right":{"type":"Literal","value":" CodeMirror-linebackground","raw":"\" CodeMirror-linebackground\""}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"background"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"cls"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"background"}},"property":{"type":"Identifier","name":"className"}},"right":{"type":"Identifier","name":"cls"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"background"}},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"background"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"background"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"cls"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrap"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureLineWrapped"},"arguments":[{"type":"Identifier","name":"lineView"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"background"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrap"},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"cls"}]},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrap"},"property":{"type":"Identifier","name":"firstChild"}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"setUneditable"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"background"}}]}}]},"alternate":null}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLineContent"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ext"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"externalMeasured"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ext"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"externalMeasured"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"measure"}}}},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"built"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildLineContent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLineText"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cls"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"className"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"built"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLineContent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"pre"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"replaceChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"pre"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"pre"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"bgClass"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"textClass"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"bgClass"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"textClass"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineClasses"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"cls"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"className"}},"right":{"type":"Identifier","name":"cls"}}}]},"alternate":null}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLineClasses"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineBackground"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"wrapClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureLineWrapped"},"arguments":[{"type":"Identifier","name":"lineView"}]},"property":{"type":"Identifier","name":"className"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"wrapClass"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"className"}},"right":{"type":"Literal","value":"","raw":"\"\""}}}]},"alternate":null}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"textClass"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"textClass"}},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"Literal","value":" ","raw":"\" \""}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"textClass"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"className"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"textClass"},"right":{"type":"Literal","value":"","raw":"\"\""}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLineGutter"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"dims"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutter"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutter"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutterBackground"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutterBackground"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutterBackground"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"gutterClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrap"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureLineWrapped"},"arguments":[{"type":"Identifier","name":"lineView"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutterBackground"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"CodeMirror-gutter-background ","raw":"\"CodeMirror-gutter-background \""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"gutterClass"}}},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"left: ","raw":"\"left: \""},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"fixedPos"}},"alternate":{"type":"UnaryExpression","operator":"-","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterTotalWidth"}},"prefix":true}}},"right":{"type":"Literal","value":"px; width: ","raw":"\"px; width: \""}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterTotalWidth"}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"setUneditable"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutterBackground"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrap"},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutterBackground"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"markers"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"gutterMarkers"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineNumbers"}},"right":{"type":"Identifier","name":"markers"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrap$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureLineWrapped"},"arguments":[{"type":"Identifier","name":"lineView"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gutterWrap"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutter"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-gutter-wrapper","raw":"\"CodeMirror-gutter-wrapper\""},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"left: ","raw":"\"left: \""},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"fixedPos"}},"alternate":{"type":"UnaryExpression","operator":"-","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterTotalWidth"}},"prefix":true}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"setUneditable"}},"arguments":[{"type":"Identifier","name":"gutterWrap"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrap$1"},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"Identifier","name":"gutterWrap"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"gutterClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"gutterWrap"},"property":{"type":"Identifier","name":"className"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":" ","raw":"\" \""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"gutterClass"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineNumbers"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"markers"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Literal","value":"CodeMirror-linenumbers","raw":"\"CodeMirror-linenumbers\""}},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"lineNumber"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"gutterWrap"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNumberFor"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},{"type":"Identifier","name":"lineN"}]},{"type":"Literal","value":"CodeMirror-linenumber CodeMirror-gutter-elt","raw":"\"CodeMirror-linenumber CodeMirror-gutter-elt\""},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"left: ","raw":"\"left: \""},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterLeft"}},"property":{"type":"Literal","value":"CodeMirror-linenumbers","raw":"\"CodeMirror-linenumbers\""}}},"right":{"type":"Literal","value":"px; width: ","raw":"\"px; width: \""}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineNumInnerWidth"}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}]}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"markers"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"k"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"k"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"id"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"k"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"id"}]},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"id"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"found"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"gutterWrap"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"found"}]},{"type":"Literal","value":"CodeMirror-gutter-elt","raw":"\"CodeMirror-gutter-elt\""},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"left: ","raw":"\"left: \""},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterLeft"}},"property":{"type":"Identifier","name":"id"}}},"right":{"type":"Literal","value":"px; width: ","raw":"\"px; width: \""}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterWidth"}},"property":{"type":"Identifier","name":"id"}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}]}]}}]},"alternate":null}]}}]},"alternate":null}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateLineWidgets"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"alignable"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"alignable"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"firstChild"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"next"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},"test":{"type":"Identifier","name":"node"},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"node"},"right":{"type":"Identifier","name":"next"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"next"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nextSibling"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"className"}},"right":{"type":"Literal","value":"CodeMirror-linewidget","raw":"\"CodeMirror-linewidget\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"Identifier","name":"node"}]}}]},"alternate":null}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"insertLineWidgets"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"buildLineElement"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"dims"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"built"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLineContent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"pre"}}}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"bgClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"bgClass"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"textClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"textClass"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineClasses"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineGutter"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"dims"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"insertLineWidgets"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"}]}},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"insertLineWidgets"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"insertLineWidgetsFor"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"insertLineWidgetsFor"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"},{"type":"Literal","value":false,"raw":"false"}]}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"insertLineWidgetsFor"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"},{"type":"Identifier","name":"allowAbove"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrap"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureLineWrapped"},"arguments":[{"type":"Identifier","name":"lineView"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ws"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ws"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widget"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ws"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"node"}}]},{"type":"Literal","value":"CodeMirror-linewidget","raw":"\"CodeMirror-linewidget\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"handleMouseEvents"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-ignore-events","raw":"\"cm-ignore-events\""},{"type":"Literal","value":"true","raw":"\"true\""}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"positionLineWidget"},"arguments":[{"type":"Identifier","name":"widget"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"setUneditable"}},"arguments":[{"type":"Identifier","name":"node"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"allowAbove"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"above"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrap"},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"Identifier","name":"node"},{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"gutter"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrap"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"node"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"widget"},{"type":"Literal","value":"redraw","raw":"\"redraw\""}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"positionLineWidget"},"params":[{"type":"Identifier","name":"widget"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"dims"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"noHScroll"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"alignable"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"alignable"}},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"node"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"width"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"wrapperWidth"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"fixedPos"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"coverGutter"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"width"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterTotalWidth"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"paddingLeft"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterTotalWidth"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"width"},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"coverGutter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"zIndex"}},"right":{"type":"Literal","value":5,"raw":"5"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"position"}},"right":{"type":"Literal","value":"relative","raw":"\"relative\""}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"noHScroll"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"marginLeft"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"-","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dims"},"property":{"type":"Identifier","name":"gutterTotalWidth"}},"prefix":true},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":null}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"widgetHeight"},"params":[{"type":"Identifier","name":"widget"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"height"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"cm"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":0,"raw":"0"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"contains"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"node"}}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"parentStyle"},"init":{"type":"Literal","value":"position: relative;","raw":"\"position: relative;\""}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"coverGutter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"parentStyle"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"margin-left: -","raw":"\"margin-left: -\""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"offsetWidth"}}},"right":{"type":"Literal","value":"px;","raw":"\"px;\""}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"noHScroll"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"parentStyle"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"width: ","raw":"\"width: \""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientWidth"}}},"right":{"type":"Literal","value":"px;","raw":"\"px;\""}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"measure"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"node"}}]},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"parentStyle"}]}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"offsetHeight"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"eventInWidget"},"params":[{"type":"Identifier","name":"display"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_target"},"arguments":[{"type":"Identifier","name":"e"}]}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"parentNode"}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"n"},"prefix":true},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"getAttribute"}},"arguments":[{"type":"Literal","value":"cm-ignore-events","raw":"\"cm-ignore-events\""}]},"right":{"type":"Literal","value":"true","raw":"\"true\""}}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"parentNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"mover"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"paddingTop"},"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"offsetTop"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"paddingVert"},"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"mover"}},"property":{"type":"Identifier","name":"offsetHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"offsetHeight"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"paddingH"},"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedPaddingH"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedPaddingH"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"e"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"measure"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"pre","raw":"\"pre\""},{"type":"Literal","value":"x","raw":"\"x\""}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"style"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"getComputedStyle"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"getComputedStyle"}},"arguments":[{"type":"Identifier","name":"e"}]},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"currentStyle"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"data"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"parseInt"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"style"},"property":{"type":"Identifier","name":"paddingLeft"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"parseInt"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"style"},"property":{"type":"Identifier","name":"paddingRight"}}]},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isNaN"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"data"},"property":{"type":"Identifier","name":"left"}}]},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isNaN"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"data"},"property":{"type":"Identifier","name":"right"}}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedPaddingH"}},"right":{"type":"Identifier","name":"data"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"data"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"scrollGap"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"scrollerGap"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"nativeBarWidth"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"displayWidth"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientWidth"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barWidth"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"displayHeight"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientHeight"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barHeight"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"ensureLineHeights"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"rect"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrapping"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curWidth"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"wrapping"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayWidth"},"arguments":[{"type":"Identifier","name":"cm"}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"heights"}},"prefix":true},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"wrapping"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"Identifier","name":"curWidth"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"heights"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"heights"}},"right":{"type":"ArrayExpression","elements":[]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"wrapping"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"Identifier","name":"curWidth"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rects"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"getClientRects"}},"arguments":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rects"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"rects"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"next"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"rects"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"next"},"property":{"type":"Identifier","name":"bottom"}}}]},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"heights"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"next"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"Literal","value":2,"raw":"2"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}}}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"heights"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"mapFromLineView"},"params":[{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"lineN"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"line"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"map"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"map"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cache"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"cache"}},"kind":"init","method":false,"shorthand":false}]}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"line"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"map"},"computed":false,"value":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"maps"}},"property":{"type":"Identifier","name":"i"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cache"},"computed":false,"value":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"caches"}},"property":{"type":"Identifier","name":"i"}},"kind":"init","method":false,"shorthand":false}]}}]},"alternate":null}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"i$1"}}]},"right":{"type":"Identifier","name":"lineN"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"map"},"computed":false,"value":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"maps"}},"property":{"type":"Identifier","name":"i$1"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cache"},"computed":false,"value":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"caches"}},"property":{"type":"Identifier","name":"i$1"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"before"},"computed":false,"value":{"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateExternalMeasurement"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"line"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineN"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"externalMeasured"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"LineView"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"lineN"}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"lineN"}},"right":{"type":"Identifier","name":"lineN"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"built"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"built"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildLineContent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"view"}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"pre"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineMeasure"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"built"},"property":{"type":"Identifier","name":"pre"}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"view"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"measureChar"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareMeasureForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"}]},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findViewForLine"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineN"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"lineN"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"lineN"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}},"property":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewIndex"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineN"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ext"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"externalMeasured"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ext"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"lineN"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"lineN"}}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"lineN"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"lineN"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"size"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"ext"}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"prepareMeasureForLine"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineN"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineN"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"view"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"text"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"view"},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"view"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"changes"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineForChanges"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"view"},{"type":"Identifier","name":"lineN"},{"type":"CallExpression","callee":{"type":"Identifier","name":"getDimensions"},"arguments":[{"type":"Identifier","name":"cm"}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceUpdate"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"view"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"view"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateExternalMeasurement"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"info"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"mapFromLineView"},"arguments":[{"type":"Identifier","name":"view"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"lineN"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"line"},"computed":false,"value":{"type":"Identifier","name":"line"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"view"},"computed":false,"value":{"type":"Identifier","name":"view"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"rect"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"map"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"map"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cache"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"cache"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"before"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"before"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"hasHeights"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"measureCharPrepared"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"prepared"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"},{"type":"Identifier","name":"varHeight"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"before"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"key"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"ch"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"bias"},"right":{"type":"Literal","value":"","raw":"\"\""}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"cache"}},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"key"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"cache"}},"property":{"type":"Identifier","name":"key"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"rect"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"rect"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"hasHeights"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureLineHeights"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"view"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"rect"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"hasHeights"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharInner"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"prepared"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"}]}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"bogus"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"cache"}},"property":{"type":"Identifier","name":"key"}},"right":{"type":"Identifier","name":"found"}}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"left"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"right"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"varHeight"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"rtop"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"top"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"varHeight"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"rbottom"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"bottom"}}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nullRect"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"nodeAndOffsetInLineMap"},"params":[{"type":"Identifier","name":"map$$1"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"collapse"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mStart"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mEnd"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":3,"raw":"3"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mStart"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"i"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mEnd"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"mStart"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"left","raw":"\"left\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"mEnd"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"mStart"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":3,"raw":"3"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"mEnd"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":3,"raw":"3"}}},"right":{"type":"Identifier","name":"ch"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"mEnd"},"right":{"type":"Identifier","name":"mStart"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"end"},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"mEnd"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"right","raw":"\"right\""}}}]},"alternate":null}]},"alternate":null}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"node"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":2,"raw":"2"}}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"mStart"},"right":{"type":"Identifier","name":"mEnd"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bias"},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"insertLeft"}},"consequent":{"type":"Literal","value":"left","raw":"\"left\""},"alternate":{"type":"Literal","value":"right","raw":"\"right\""}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Identifier","name":"bias"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bias"},"right":{"type":"Literal","value":"left","raw":"\"left\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":2,"raw":"2"}}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":3,"raw":"3"}}}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}},"property":{"type":"Identifier","name":"insertLeft"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"node"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":3,"raw":"3"}},"right":{"type":"Literal","value":2,"raw":"2"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"left","raw":"\"left\""}}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bias"},"right":{"type":"Literal","value":"right","raw":"\"right\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"mEnd"},"right":{"type":"Identifier","name":"mStart"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":3,"raw":"3"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":3,"raw":"3"}}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":4,"raw":"4"}}}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":5,"raw":"5"}}},"property":{"type":"Identifier","name":"insertLeft"}},"prefix":true}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"node"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":3,"raw":"3"}},"right":{"type":"Literal","value":2,"raw":"2"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"right","raw":"\"right\""}}}]}}]},"alternate":null},{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"node"},"computed":false,"value":{"type":"Identifier","name":"node"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"start"},"computed":false,"value":{"type":"Identifier","name":"start"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"end"},"computed":false,"value":{"type":"Identifier","name":"end"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"collapse"},"computed":false,"value":{"type":"Identifier","name":"collapse"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"coverStart"},"computed":false,"value":{"type":"Identifier","name":"mStart"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"coverEnd"},"computed":false,"value":{"type":"Identifier","name":"mEnd"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getUsefulRect"},"params":[{"type":"Identifier","name":"rects"},{"type":"Identifier","name":"bias"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rect"},"init":{"type":"Identifier","name":"nullRect"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bias"},"right":{"type":"Literal","value":"left","raw":"\"left\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rects"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"rects"},"property":{"type":"Identifier","name":"i"}}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rects"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"rects"},"property":{"type":"Identifier","name":"i$1"}}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"rect"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"measureCharInner"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"prepared"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"place"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeAndOffsetInLineMap"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"map"}},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"node"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"start"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"end"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"collapse"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"collapse"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rect"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":4,"raw":"4"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"start"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"isExtendingChar"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"coverStart"}},"right":{"type":"Identifier","name":"start"}}]}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"start"},"prefix":true}}]}},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"coverStart"}},"right":{"type":"Identifier","name":"end"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"coverEnd"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"isExtendingChar"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"coverStart"}},"right":{"type":"Identifier","name":"end"}}]}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"end"},"prefix":true}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"end"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"coverEnd"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"place"},"property":{"type":"Identifier","name":"coverStart"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getUsefulRect"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"range"},"arguments":[{"type":"Identifier","name":"node"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"end"}]},"property":{"type":"Identifier","name":"getClientRects"}},"arguments":[]},{"type":"Identifier","name":"bias"}]}}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"start"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"right","raw":"\"right\""}}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":11,"raw":"11"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"maybeUpdateRectForZooming"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"measure"}},{"type":"Identifier","name":"rect"}]}}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bias"},"right":{"type":"Literal","value":"right","raw":"\"right\""}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rects"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rects"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"getClientRects"}},"arguments":[]}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"rects"},"property":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bias"},"right":{"type":"Literal","value":"right","raw":"\"right\""}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rects"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}}]}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"start"},"prefix":true}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"rect"},"prefix":true},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"prefix":true}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rSpan"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"getClientRects"}},"arguments":[]},"property":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"rSpan"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rSpan"},"property":{"type":"Identifier","name":"left"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rSpan"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"charWidth"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rSpan"},"property":{"type":"Identifier","name":"top"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rSpan"},"property":{"type":"Identifier","name":"bottom"}},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"Identifier","name":"nullRect"}}}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rtop"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"rect"}},"property":{"type":"Identifier","name":"top"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rbot"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"rect"}},"property":{"type":"Identifier","name":"top"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mid"},"init":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"rtop"},"right":{"type":"Identifier","name":"rbot"}},"right":{"type":"Literal","value":2,"raw":"2"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"heights"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"heights"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":null,"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"heights"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"mid"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"heights"},"property":{"type":"Identifier","name":"i"}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"i"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"heights"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}},"alternate":{"type":"Literal","value":0,"raw":"0"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bot"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"heights"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"right","raw":"\"right\""}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"rect"}},"property":{"type":"Identifier","name":"left"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"left","raw":"\"left\""}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prepared"},"property":{"type":"Identifier","name":"rect"}},"property":{"type":"Identifier","name":"left"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"Identifier","name":"bot"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"bogus"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"singleCursorHeightPerLine"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"rtop"}},"right":{"type":"Identifier","name":"rtop"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"rbottom"}},"right":{"type":"Identifier","name":"rbot"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"maybeUpdateRectForZooming"},"params":[{"type":"Identifier","name":"measure"},{"type":"Identifier","name":"rect"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"screen"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"screen"},"property":{"type":"Identifier","name":"logicalXDPI"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"screen"},"property":{"type":"Identifier","name":"logicalXDPI"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"screen"},"property":{"type":"Identifier","name":"deviceXDPI"}}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasBadZoomedRects"},"arguments":[{"type":"Identifier","name":"measure"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"rect"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scaleX"},"init":{"type":"BinaryExpression","operator":"/","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"screen"},"property":{"type":"Identifier","name":"logicalXDPI"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"screen"},"property":{"type":"Identifier","name":"deviceXDPI"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scaleY"},"init":{"type":"BinaryExpression","operator":"/","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"screen"},"property":{"type":"Identifier","name":"logicalYDPI"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"screen"},"property":{"type":"Identifier","name":"deviceYDPI"}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"scaleX"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Identifier","name":"scaleX"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"scaleY"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Identifier","name":"scaleY"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clearLineMeasurementCacheFor"},"params":[{"type":"Identifier","name":"lineView"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"cache"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"heights"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"caches"}},"property":{"type":"Identifier","name":"i"}},"right":{"type":"ObjectExpression","properties":[]}}}]}}]},"alternate":null}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clearLineMeasurementCache"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"externalMeasure"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineMeasure"}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearLineMeasurementCacheFor"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"i"}}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clearCaches"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearLineMeasurementCache"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cachedCharWidth"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cachedTextHeight"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cachedPaddingH"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineNumChars"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"pageScrollX"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"chrome"},"right":{"type":"Identifier","name":"android"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"-","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]},"property":{"type":"Identifier","name":"left"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"parseInt"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getComputedStyle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}}]},"property":{"type":"Identifier","name":"marginLeft"}}]}},"prefix":true}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"pageXOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"documentElement"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}}},"property":{"type":"Identifier","name":"scrollLeft"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"pageScrollY"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"chrome"},"right":{"type":"Identifier","name":"android"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"-","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"parseInt"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getComputedStyle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}}]},"property":{"type":"Identifier","name":"marginTop"}}]}},"prefix":true}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"pageYOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"documentElement"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}}},"property":{"type":"Identifier","name":"scrollTop"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"widgetTopHeight"},"params":[{"type":"Identifier","name":"lineObj"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"widgets"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"above"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"height"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetHeight"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"i"}}]}}}]},"alternate":null}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"height"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"intoCoordSystem"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"rect"},{"type":"Identifier","name":"context"},{"type":"Identifier","name":"includeWidgets"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"includeWidgets"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetTopHeight"},"arguments":[{"type":"Identifier","name":"lineObj"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"height"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Identifier","name":"height"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"line","raw":"\"line\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"rect"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"context"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"local","raw":"\"local\""}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"yOff"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"Identifier","name":"lineObj"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"local","raw":"\"local\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"yOff"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingTop"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"yOff"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewOffset"}}}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"page","raw":"\"page\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"window","raw":"\"window\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lOff"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"yOff"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lOff"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"window","raw":"\"window\""}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"pageScrollY"},"arguments":[]}}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"xOff"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lOff"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"window","raw":"\"window\""}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"pageScrollX"},"arguments":[]}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"xOff"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Identifier","name":"xOff"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"yOff"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Identifier","name":"yOff"}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"rect"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"fromCoordSystem"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"coords"},{"type":"Identifier","name":"context"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"div","raw":"\"div\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"coords"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"left"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"top"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"page","raw":"\"page\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"left"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"pageScrollX"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"top"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"pageScrollY"},"arguments":[]}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"context"},"right":{"type":"Literal","value":"local","raw":"\"local\""}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"context"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"localBox"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"left"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"localBox"},"property":{"type":"Identifier","name":"left"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"localBox"},"property":{"type":"Identifier","name":"top"}}}}]},"alternate":null}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineSpaceBox"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"left"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineSpaceBox"},"property":{"type":"Identifier","name":"left"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineSpaceBox"},"property":{"type":"Identifier","name":"top"}}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"charCoords"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"context"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"bias"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"lineObj"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"intoCoordSystem"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"CallExpression","callee":{"type":"Identifier","name":"measureChar"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},{"type":"Identifier","name":"bias"}]},{"type":"Identifier","name":"context"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"cursorCoords"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"context"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"varHeight"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"preparedMeasure"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"preparedMeasure"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareMeasureForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"}]}}}]},"alternate":null},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"get"},"params":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"right"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"m"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"ch"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"right"},"consequent":{"type":"Literal","value":"right","raw":"\"right\""},"alternate":{"type":"Literal","value":"left","raw":"\"left\""}},{"type":"Identifier","name":"varHeight"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"right"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"right"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"left"}}}}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"intoCoordSystem"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"m"},{"type":"Identifier","name":"context"}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"lineObj"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sticky"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"sticky"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"after","raw":"\"after\""}}}]},"alternate":null}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"order"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"get"},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Identifier","name":"ch"}},{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}}]}}]},"alternate":null},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getBidi"},"params":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"partPos"},{"type":"Identifier","name":"invert"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"partPos"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"right"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"get"},"arguments":[{"type":"ConditionalExpression","test":{"type":"Identifier","name":"invert"},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Identifier","name":"ch"}},{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"right"},"right":{"type":"Identifier","name":"invert"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"partPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBidiPartAt"},"arguments":[{"type":"Identifier","name":"order"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"other"},"init":{"type":"Identifier","name":"bidiOther"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"val"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBidi"},"arguments":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"partPos"},{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"other"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"val"},"property":{"type":"Identifier","name":"other"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBidi"},"arguments":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"other"},{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"val"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"estimateCoords"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"}]}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"charWidth"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineObj"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"Identifier","name":"lineObj"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingTop"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Identifier","name":"left"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"Identifier","name":"left"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"height"}}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"PosWithInfo"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"},{"type":"Identifier","name":"outside"},{"type":"Identifier","name":"xRel"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"xRel"}},"right":{"type":"Identifier","name":"xRel"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"outside"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"outside"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"coordsChar"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"y"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewOffset"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"y"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"PosWithInfo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":true,"raw":"true"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineN"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineAtHeight"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"y"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"lineN"},"right":{"type":"Identifier","name":"last"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"PosWithInfo"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"last"}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":true,"raw":"true"},{"type":"Literal","value":1,"raw":"1"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"x"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"x"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineObj"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"lineN"}]}}],"kind":"var"},{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"coordsCharInner"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"collapsed"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"collapsedSpanAround"},"arguments":[{"type":"Identifier","name":"lineObj"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"xRel"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"collapsed"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"found"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rangeEnd"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"collapsed"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":1,"raw":"1"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rangeEnd"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"lineN"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"rangeEnd"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineN"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rangeEnd"},"property":{"type":"Identifier","name":"line"}}}]}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"wrappedLineExtent"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"y"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"y"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetTopHeight"},"arguments":[{"type":"Identifier","name":"lineObj"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"begin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findFirst"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"preparedMeasure"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":1,"raw":"1"}}]},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Identifier","name":"y"}}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"end"},{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"findFirst"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"ch"}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"y"}}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"begin"},{"type":"Identifier","name":"end"}]}}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"begin"},"computed":false,"value":{"type":"Identifier","name":"begin"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"end"},"computed":false,"value":{"type":"Identifier","name":"end"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"wrappedLineExtentChar"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"target"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"preparedMeasure"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"preparedMeasure"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareMeasureForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"targetTop"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"intoCoordSystem"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"target"}]},{"type":"Literal","value":"line","raw":"\"line\""}]},"property":{"type":"Identifier","name":"top"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrappedLineExtent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"targetTop"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"boxIsAfter"},"params":[{"type":"Identifier","name":"box"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"},{"type":"Identifier","name":"left"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Identifier","name":"y"}},"consequent":{"type":"Literal","value":false,"raw":"false"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"y"}},"consequent":{"type":"Literal","value":true,"raw":"true"},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"left"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"left"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"right"}}},"right":{"type":"Identifier","name":"x"}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"coordsCharInner"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"lineNo$$1"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"y"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"Identifier","name":"lineObj"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"preparedMeasure"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareMeasureForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widgetHeight$$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetTopHeight"},"arguments":[{"type":"Identifier","name":"lineObj"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"begin"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ltr"},"init":{"type":"Literal","value":true,"raw":"true"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"lineObj"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"order"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"CallExpression","callee":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"consequent":{"type":"Identifier","name":"coordsBidiPartWrapped"},"alternate":{"type":"Identifier","name":"coordsBidiPart"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"lineNo$$1"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"order"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ltr"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"begin"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chAround"},"init":{"type":"Literal","value":null,"raw":"null"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"boxAround"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findFirst"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"box"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"ch"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"widgetHeight$$1"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Identifier","name":"widgetHeight$$1"}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"boxIsAfter"},"arguments":[{"type":"Identifier","name":"box"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"},{"type":"Literal","value":false,"raw":"false"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"y"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"x"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"chAround"},"right":{"type":"Identifier","name":"ch"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"boxAround"},"right":{"type":"Identifier","name":"box"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"begin"},{"type":"Identifier","name":"end"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"baseX"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sticky"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"outside"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"boxAround"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"atLeft"},"init":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"x"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"boxAround"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"boxAround"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Identifier","name":"x"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"atStart"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"atLeft"},"right":{"type":"Identifier","name":"ltr"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"chAround"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"atStart"},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"Literal","value":1,"raw":"1"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sticky"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"atStart"},"consequent":{"type":"Literal","value":"after","raw":"\"after\""},"alternate":{"type":"Literal","value":"before","raw":"\"before\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"baseX"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"atLeft"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"boxAround"},"property":{"type":"Identifier","name":"left"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"boxAround"},"property":{"type":"Identifier","name":"right"}}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ltr"},"prefix":true},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"end"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"begin"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"ch"},"prefix":false}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sticky"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":"after","raw":"\"after\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"Literal","value":"before","raw":"\"before\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"preparedMeasure"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"ch"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}]},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Identifier","name":"widgetHeight$$1"}},"right":{"type":"Identifier","name":"y"}},"right":{"type":"Identifier","name":"ltr"}},"consequent":{"type":"Literal","value":"after","raw":"\"after\""},"alternate":{"type":"Literal","value":"before","raw":"\"before\""}}}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"coords"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"lineNo$$1"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}]},{"type":"Literal","value":"line","raw":"\"line\""},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"baseX"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"left"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"outside"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"y"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"y"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"bottom"}}}}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipExtendingChars"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},{"type":"Identifier","name":"ch"},{"type":"Literal","value":1,"raw":"1"}]}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"PosWithInfo"},"arguments":[{"type":"Identifier","name":"lineNo$$1"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"},{"type":"Identifier","name":"outside"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"x"},"right":{"type":"Identifier","name":"baseX"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"coordsBidiPart"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"lineNo$$1"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"order"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"index"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findFirst"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"i"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ltr"},"init":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"boxIsAfter"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"lineNo$$1"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"Literal","value":"before","raw":"\"before\""},"alternate":{"type":"Literal","value":"after","raw":"\"after\""}}]},{"type":"Literal","value":"line","raw":"\"line\""},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"}]},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"index"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"index"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ltr"},"init":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"lineNo$$1"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"Literal","value":"after","raw":"\"after\""},"alternate":{"type":"Literal","value":"before","raw":"\"before\""}}]},{"type":"Literal","value":"line","raw":"\"line\""},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"boxIsAfter"},"arguments":[{"type":"Identifier","name":"start"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"},{"type":"Literal","value":true,"raw":"true"}]},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"y"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"part"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"index"},"right":{"type":"Literal","value":1,"raw":"1"}}}}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"part"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"coordsBidiPartWrapped"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"_lineNo"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"order"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ref"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrappedLineExtent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"preparedMeasure"},{"type":"Identifier","name":"y"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"begin"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ref"},"property":{"type":"Identifier","name":"begin"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ref"},"property":{"type":"Identifier","name":"end"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\s/","regex":{"pattern":"\\s","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"end"},"right":{"type":"Literal","value":1,"raw":"1"}}]}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"end"},"prefix":false}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"Literal","value":null,"raw":"null"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"closestDist"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"p"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"end"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"begin"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ltr"},"init":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"endX"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"preparedMeasure"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"end"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Identifier","name":"begin"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"p"},"property":{"type":"Identifier","name":"from"}}]}}]},"property":{"type":"Identifier","name":"right"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dist"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"endX"},"right":{"type":"Identifier","name":"x"}},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"x"},"right":{"type":"Identifier","name":"endX"}},"right":{"type":"Literal","value":1000000000,"raw":"1e9"}},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"endX"},"right":{"type":"Identifier","name":"x"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"part"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"closestDist"},"right":{"type":"Identifier","name":"dist"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"part"},"right":{"type":"Identifier","name":"p"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"closestDist"},"right":{"type":"Identifier","name":"dist"}}}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"part"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"part"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"begin"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"part"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"begin"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"level"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"end"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"part"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"end"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"level"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"part"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"measureText"},"init":null}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"textHeight"},"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedTextHeight"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedTextHeight"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"measureText"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"measureText"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"pre","raw":"\"pre\""}]}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":49,"raw":"49"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measureText"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"Literal","value":"x","raw":"\"x\""}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measureText"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"br","raw":"\"br\""}]}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measureText"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"Literal","value":"x","raw":"\"x\""}]}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"measure"}},{"type":"Identifier","name":"measureText"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"BinaryExpression","operator":"/","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measureText"},"property":{"type":"Identifier","name":"offsetHeight"}},"right":{"type":"Literal","value":50,"raw":"50"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"height"},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedTextHeight"}},"right":{"type":"Identifier","name":"height"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"measure"}}]}},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"height"},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"charWidth"},"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedCharWidth"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedCharWidth"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"anchor"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"Literal","value":"xxxxxxxxxx","raw":"\"xxxxxxxxxx\""}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pre"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"pre","raw":"\"pre\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"anchor"}]}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"measure"}},{"type":"Identifier","name":"pre"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rect"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"width"},"init":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"Literal","value":10,"raw":"10"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"width"},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cachedCharWidth"}},"right":{"type":"Identifier","name":"width"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"width"},"right":{"type":"Literal","value":10,"raw":"10"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getDimensions"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":{"type":"ObjectExpression","properties":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"width"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gutterLeft"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"clientLeft"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"firstChild"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"Identifier","name":"n"},"update":{"type":"SequenceExpression","expressions":[{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"nextSibling"}}},{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true}]},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"left"},"property":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"i"}}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"offsetLeft"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"clientLeft"}}},"right":{"type":"Identifier","name":"gutterLeft"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"width"},"property":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"i"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"n"},"property":{"type":"Identifier","name":"clientWidth"}}}}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"fixedPos"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"compensateForHScroll"},"arguments":[{"type":"Identifier","name":"d"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"gutterTotalWidth"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"offsetWidth"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"gutterLeft"},"computed":false,"value":{"type":"Identifier","name":"left"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"gutterWidth"},"computed":false,"value":{"type":"Identifier","name":"width"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"wrapperWidth"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientWidth"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"compensateForHScroll"},"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]},"property":{"type":"Identifier","name":"left"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"estimateHeight"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"th"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"textHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrapping"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"perLine"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"wrapping"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":5,"raw":"5"},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"/","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientWidth"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"charWidth"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}},"right":{"type":"Literal","value":3,"raw":"3"}}]}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"line"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":0,"raw":"0"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widgetsHeight"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"height"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"widgetsHeight"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"height"}}}}]},"alternate":null}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"wrapping"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"widgetsHeight"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"ceil"}},"arguments":[{"type":"BinaryExpression","operator":"/","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"perLine"}}]},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Identifier","name":"th"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"widgetsHeight"},"right":{"type":"Identifier","name":"th"}}}]}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"estimateLineHeights"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"est"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateHeight"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"estHeight"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"est"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"estHeight"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"estHeight"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"posFromMouse"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"liberal"},{"type":"Identifier","name":"forRect"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"liberal"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_target"},"arguments":[{"type":"Identifier","name":"e"}]},"property":{"type":"Identifier","name":"getAttribute"}},"arguments":[{"type":"Literal","value":"cm-not-content","raw":"\"cm-not-content\""}]},"right":{"type":"Literal","value":"true","raw":"\"true\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"x"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"y"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"space"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"x"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientX"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"space"},"property":{"type":"Identifier","name":"left"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"y"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientY"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"space"},"property":{"type":"Identifier","name":"top"}}}}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]}},"finalizer":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"coords"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"coordsChar"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"forRect"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"xRel"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"ch"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"colDiff"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"length"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"length"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"coords"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"line"}},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"round"}},"arguments":[{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"x"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingH"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"charWidth"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}}]},"right":{"type":"Identifier","name":"colDiff"}}]}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"coords"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findViewIndex"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"size"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"i"}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateSelection"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"showSelection"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"prepareSelection"}},"arguments":[]}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"prepareSelection"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"primary"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"primary"},"right":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},"consequent":{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"primary"},"right":{"type":"Literal","value":true,"raw":"true"}}},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curFragment"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"cursors"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createDocumentFragment"}},"arguments":[]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"selFragment"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"selection"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createDocumentFragment"}},"arguments":[]}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"primary"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"collapsed"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"empty"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"collapsed"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"showCursorWhenSelecting"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawSelectionCursor"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},{"type":"Identifier","name":"curFragment"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"collapsed"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawSelectionRange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"range$$1"},{"type":"Identifier","name":"selFragment"}]}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"drawSelectionCursor"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"head"},{"type":"Identifier","name":"output"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"head"},{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"singleCursorHeightPerLine"}},"prefix":true}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cursor"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"output"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":" ","raw":"\"\\u00a0\""},{"type":"Literal","value":"CodeMirror-cursor","raw":"\"CodeMirror-cursor\""}]}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cursor"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cursor"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cursor"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"top"}}}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"cursorHeight"}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"other"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"otherCursor"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"output"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":" ","raw":"\"\\u00a0\""},{"type":"Literal","value":"CodeMirror-cursor CodeMirror-secondarycursor","raw":"\"CodeMirror-cursor CodeMirror-secondarycursor\""}]}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"otherCursor"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"otherCursor"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"other"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"otherCursor"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"other"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"otherCursor"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"other"}},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"other"}},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"Literal","value":0.85,"raw":".85"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"cmpCoords"},"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"left"}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"drawSelectionRange"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"range$$1"},{"type":"Identifier","name":"output"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fragment"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createDocumentFragment"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"padding"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingH"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"leftSide"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"padding"},"property":{"type":"Identifier","name":"left"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rightSide"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizerWidth"}},{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayWidth"},"arguments":[{"type":"Identifier","name":"cm"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"offsetLeft"}}}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"padding"},"property":{"type":"Identifier","name":"right"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"docLTR"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"add"},"params":[{"type":"Identifier","name":"left"},{"type":"Identifier","name":"top"},{"type":"Identifier","name":"width"},{"type":"Identifier","name":"bottom"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"top"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"top"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"top"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"round"}},"arguments":[{"type":"Identifier","name":"top"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bottom"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"round"}},"arguments":[{"type":"Identifier","name":"bottom"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fragment"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-selected","raw":"\"CodeMirror-selected\""},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"position: absolute; left: ","raw":"\"position: absolute; left: \""},"right":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":"px;\n                             top: ","raw":"\"px;\\n                             top: \""}},"right":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":"px; width: ","raw":"\"px; width: \""}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"width"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"rightSide"},"right":{"type":"Identifier","name":"left"}},"alternate":{"type":"Identifier","name":"width"}}},"right":{"type":"Literal","value":"px;\n                             height: ","raw":"\"px;\\n                             height: \""}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"bottom"},"right":{"type":"Identifier","name":"top"}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}]}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"drawForLine"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"fromArg"},{"type":"Identifier","name":"toArg"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineObj"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineLen"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":null}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"coords"},"params":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"bias"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"charCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"}]},{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"bias"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"wrapX"},"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"side"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"extent"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrappedLineExtentChar"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"side"},"right":{"type":"Literal","value":"after","raw":"\"after\""}}},"consequent":{"type":"Literal","value":"left","raw":"\"left\""},"alternate":{"type":"Literal","value":"right","raw":"\"right\""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"side"},"right":{"type":"Literal","value":"after","raw":"\"after\""}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"extent"},"property":{"type":"Identifier","name":"begin"}},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"extent"},"property":{"type":"Identifier","name":"end"}},"right":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\s/","regex":{"pattern":"\\s","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"extent"},"property":{"type":"Identifier","name":"end"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}]},"consequent":{"type":"Literal","value":2,"raw":"2"},"alternate":{"type":"Literal","value":1,"raw":"1"}}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"coords"},"arguments":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"prop"}]},"property":{"type":"Identifier","name":"prop"}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"lineObj"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"direction"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"iterateBidiSections"},"arguments":[{"type":"Identifier","name":"order"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"fromArg"},"right":{"type":"Literal","value":0,"raw":"0"}},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"toArg"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Identifier","name":"lineLen"},"alternate":{"type":"Identifier","name":"toArg"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"i"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ltr"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"coords"},"arguments":[{"type":"Identifier","name":"from"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"Literal","value":"left","raw":"\"left\""},"alternate":{"type":"Literal","value":"right","raw":"\"right\""}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"coords"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"to"},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"Literal","value":"right","raw":"\"right\""},"alternate":{"type":"Literal","value":"left","raw":"\"left\""}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"openStart"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"fromArg"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"from"},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"openEnd"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"toArg"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"lineLen"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"first"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"order"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toPos"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"openLeft"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"docLTR"},"consequent":{"type":"Identifier","name":"openStart"},"alternate":{"type":"Identifier","name":"openEnd"}},"right":{"type":"Identifier","name":"first"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"openRight"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"docLTR"},"consequent":{"type":"Identifier","name":"openEnd"},"alternate":{"type":"Identifier","name":"openStart"}},"right":{"type":"Identifier","name":"last"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"openLeft"},"consequent":{"type":"Identifier","name":"leftSide"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"Identifier","name":"fromPos"},"alternate":{"type":"Identifier","name":"toPos"}},"property":{"type":"Identifier","name":"left"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"right"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"openRight"},"consequent":{"type":"Identifier","name":"rightSide"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"Identifier","name":"toPos"},"alternate":{"type":"Identifier","name":"fromPos"}},"property":{"type":"Identifier","name":"right"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"Identifier","name":"left"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"top"}},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"right"},"right":{"type":"Identifier","name":"left"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"bottom"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"topLeft"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"topRight"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"botLeft"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"botRight"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"ltr"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"topLeft"},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"docLTR"},"right":{"type":"Identifier","name":"openStart"}},"right":{"type":"Identifier","name":"first"}},"consequent":{"type":"Identifier","name":"leftSide"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"left"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"topRight"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"docLTR"},"consequent":{"type":"Identifier","name":"rightSide"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrapX"},"arguments":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"dir"},{"type":"Literal","value":"before","raw":"\"before\""}]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"botLeft"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"docLTR"},"consequent":{"type":"Identifier","name":"leftSide"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrapX"},"arguments":[{"type":"Identifier","name":"to"},{"type":"Identifier","name":"dir"},{"type":"Literal","value":"after","raw":"\"after\""}]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"botRight"},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"docLTR"},"right":{"type":"Identifier","name":"openEnd"}},"right":{"type":"Identifier","name":"last"}},"consequent":{"type":"Identifier","name":"rightSide"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toPos"},"property":{"type":"Identifier","name":"right"}}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"topLeft"},"right":{"type":"ConditionalExpression","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"docLTR"},"prefix":true},"consequent":{"type":"Identifier","name":"leftSide"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrapX"},"arguments":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"dir"},{"type":"Literal","value":"before","raw":"\"before\""}]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"topRight"},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"docLTR"},"prefix":true},"right":{"type":"Identifier","name":"openStart"}},"right":{"type":"Identifier","name":"first"}},"consequent":{"type":"Identifier","name":"rightSide"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"right"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"botLeft"},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"docLTR"},"prefix":true},"right":{"type":"Identifier","name":"openEnd"}},"right":{"type":"Identifier","name":"last"}},"consequent":{"type":"Identifier","name":"leftSide"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toPos"},"property":{"type":"Identifier","name":"left"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"botRight"},"right":{"type":"ConditionalExpression","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"docLTR"},"prefix":true},"consequent":{"type":"Identifier","name":"rightSide"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrapX"},"arguments":[{"type":"Identifier","name":"to"},{"type":"Identifier","name":"dir"},{"type":"Literal","value":"after","raw":"\"after\""}]}}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"Identifier","name":"topLeft"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"top"}},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"topRight"},"right":{"type":"Identifier","name":"topLeft"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"bottom"}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toPos"},"property":{"type":"Identifier","name":"top"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"Identifier","name":"leftSide"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromPos"},"property":{"type":"Identifier","name":"bottom"}},{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toPos"},"property":{"type":"Identifier","name":"top"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"Identifier","name":"botLeft"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toPos"},"property":{"type":"Identifier","name":"top"}},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"botRight"},"right":{"type":"Identifier","name":"botLeft"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toPos"},"property":{"type":"Identifier","name":"bottom"}}]}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"start"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmpCoords"},"arguments":[{"type":"Identifier","name":"fromPos"},{"type":"Identifier","name":"start"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"Identifier","name":"fromPos"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmpCoords"},"arguments":[{"type":"Identifier","name":"toPos"},{"type":"Identifier","name":"start"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"Identifier","name":"toPos"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"end"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmpCoords"},"arguments":[{"type":"Identifier","name":"fromPos"},{"type":"Identifier","name":"end"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"fromPos"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmpCoords"},"arguments":[{"type":"Identifier","name":"toPos"},{"type":"Identifier","name":"end"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"toPos"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"start"},"computed":false,"value":{"type":"Identifier","name":"start"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"end"},"computed":false,"value":{"type":"Identifier","name":"end"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sFrom"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sTo"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sFrom"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sTo"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawForLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sFrom"},"property":{"type":"Identifier","name":"line"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sFrom"},"property":{"type":"Identifier","name":"ch"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sTo"},"property":{"type":"Identifier","name":"ch"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromLine"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sFrom"},"property":{"type":"Identifier","name":"line"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toLine"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sTo"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"singleVLine"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"fromLine"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"toLine"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"leftEnd"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawForLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sFrom"},"property":{"type":"Identifier","name":"line"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sFrom"},"property":{"type":"Identifier","name":"ch"}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"singleVLine"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"fromLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Literal","value":null,"raw":"null"}}]},"property":{"type":"Identifier","name":"end"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rightStart"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawForLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sTo"},"property":{"type":"Identifier","name":"line"}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"singleVLine"},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"Literal","value":null,"raw":"null"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sTo"},"property":{"type":"Identifier","name":"ch"}}]},"property":{"type":"Identifier","name":"start"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"singleVLine"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rightStart"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":2,"raw":"2"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"right"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"top"}},{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"bottom"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"Identifier","name":"leftSide"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rightStart"},"property":{"type":"Identifier","name":"top"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rightStart"},"property":{"type":"Identifier","name":"left"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rightStart"},"property":{"type":"Identifier","name":"bottom"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"right"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"top"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rightStart"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"right"}}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"bottom"}}]}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rightStart"},"property":{"type":"Identifier","name":"top"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"add"},"arguments":[{"type":"Identifier","name":"leftSide"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leftEnd"},"property":{"type":"Identifier","name":"bottom"}},{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rightStart"},"property":{"type":"Identifier","name":"top"}}]}}]},"alternate":null}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"output"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"fragment"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"restartBlink"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearInterval"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"blinker"}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"on"},"init":{"type":"Literal","value":true,"raw":"true"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cursorDiv"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"visibility"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"cursorBlinkRate"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"blinker"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setInterval"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cursorDiv"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"visibility"}},"right":{"type":"ConditionalExpression","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"on"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"on"},"prefix":true}},"consequent":{"type":"Literal","value":"","raw":"\"\""},"alternate":{"type":"Literal","value":"hidden","raw":"\"hidden\""}}}}]},"generator":false,"expression":false,"async":false},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"cursorBlinkRate"}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"cursorBlinkRate"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cursorDiv"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"visibility"}},"right":{"type":"Literal","value":"hidden","raw":"\"hidden\""}}}]},"alternate":null}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"ensureFocus"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"onFocus"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"delayBlurEvent"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"delayingBlurEvent"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"delayingBlurEvent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"delayingBlurEvent"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"onBlur"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":100,"raw":"100"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onFocus"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"delayingBlurEvent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"delayingBlurEvent"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"readOnly"}},"right":{"type":"Literal","value":"nocursor","raw":"\"nocursor\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"focus","raw":"\"focus\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},{"type":"Literal","value":"CodeMirror-focused","raw":"\"CodeMirror-focused\""}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"selForContextMenu"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":20,"raw":"20"}]}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"receivedFocus"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"restartBlink"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onBlur"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"delayingBlurEvent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"blur","raw":"\"blur\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rmClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},{"type":"Literal","value":"CodeMirror-focused","raw":"\"CodeMirror-focused\""}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearInterval"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"blinker"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":150,"raw":"150"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateHeightsInViewport"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prevBottom"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"offsetTop"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"hidden"}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":8,"raw":"8"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bot"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"offsetTop"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"offsetHeight"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"height"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"bot"},"right":{"type":"Identifier","name":"prevBottom"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"prevBottom"},"right":{"type":"Identifier","name":"bot"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"box"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"height"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"top"}}}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"height"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"height"},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"height"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"textHeight"},"arguments":[{"type":"Identifier","name":"display"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"diff"},"right":{"type":"Literal","value":0.005,"raw":".005"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"diff"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":0.005,"raw":".005"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"height"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateWidgetHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"rest"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateWidgetHeight"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"j"}}]}}]}}]},"alternate":null}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateWidgetHeight"},"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"w"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"parent"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"w"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"parentNode"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"parent"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"w"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parent"},"property":{"type":"Identifier","name":"offsetHeight"}}}}]},"alternate":null}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"visibleLines"},"params":[{"type":"Identifier","name":"display"},{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"viewport"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"viewport"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"top"}}]},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"top"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"floor"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"top"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingTop"},"arguments":[{"type":"Identifier","name":"display"}]}}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bottom"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"viewport"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"bottom"}},"alternate":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineAtHeight"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"top"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineAtHeight"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"bottom"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"viewport"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"ensure"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ensureFrom"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"ensure"}},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ensureTo"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"ensure"}},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ensureFrom"},"right":{"type":"Identifier","name":"from"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"Identifier","name":"ensureFrom"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineAtHeight"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"ensureFrom"}]}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"ensureTo"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}]},"right":{"type":"Identifier","name":"to"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineAtHeight"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"ensureTo"}]}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"ensureTo"}}}]},"alternate":null}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"from"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Identifier","name":"to"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"from"},"right":{"type":"Literal","value":1,"raw":"1"}}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"alignHorizontally"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"alignWidgets"}},"prefix":true},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"firstChild"}},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"comp"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"compensateForHScroll"},"arguments":[{"type":"Identifier","name":"display"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollLeft"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gutterW"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"offsetWidth"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"comp"},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"hidden"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"gutter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"gutter"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"left"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"gutterBackground"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"gutterBackground"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"left"}}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"align"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"alignable"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"align"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"align"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"align"},"property":{"type":"Identifier","name":"j"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"left"}}}]}}]},"alternate":null}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"comp"},"right":{"type":"Identifier","name":"gutterW"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"maybeUpdateLineNumberWidth"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineNumbers"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNumberFor"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineNumChars"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"test"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Identifier","name":"last"}]}]},{"type":"Literal","value":"CodeMirror-linenumber CodeMirror-gutter-elt","raw":"\"CodeMirror-linenumber CodeMirror-gutter-elt\""}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"innerW"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"test"},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"offsetWidth"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"padding"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"test"},"property":{"type":"Identifier","name":"offsetWidth"}},"right":{"type":"Identifier","name":"innerW"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineGutter"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineNumInnerWidth"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Identifier","name":"innerW"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineGutter"}},"property":{"type":"Identifier","name":"offsetWidth"}},"right":{"type":"Identifier","name":"padding"}}]},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineNumWidth"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineNumInnerWidth"}},"right":{"type":"Identifier","name":"padding"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineNumChars"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineNumInnerWidth"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"length"}},"alternate":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineGutter"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineNumWidth"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateGutterSpace"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"maybeScrollWindow"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"rect"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"scrollCursorIntoView","raw":"\"scrollCursorIntoView\""}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"box"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doScroll"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"doScroll"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"innerHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"documentElement"}},"property":{"type":"Identifier","name":"clientHeight"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"doScroll"},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"doScroll"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"phantom"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scrollNode"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":"​","raw":"\"\\u200b\""},{"type":"Literal","value":null,"raw":"null"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"position: absolute;\n                         top: ","raw":"\"position: absolute;\\n                         top: \""},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewOffset"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingTop"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}}},"right":{"type":"Literal","value":"px;\n                         height: ","raw":"\"px;\\n                         height: \""}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"barHeight"}}}},"right":{"type":"Literal","value":"px;\n                         left: ","raw":"\"px;\\n                         left: \""}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"Literal","value":"px; width: ","raw":"\"px; width: \""}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":2,"raw":"2"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}}}]}},"right":{"type":"Literal","value":"px;","raw":"\"px;\""}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"scrollNode"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollNode"},"property":{"type":"Identifier","name":"scrollIntoView"}},"arguments":[{"type":"Identifier","name":"doScroll"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"Identifier","name":"scrollNode"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"scrollPosIntoView"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"end"},{"type":"Identifier","name":"margin"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"margin"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"margin"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rect"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"end"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Literal","value":"before","raw":"\"before\""}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}},{"type":"Literal","value":"after","raw":"\"after\""}]},"alternate":{"type":"Identifier","name":"pos"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Literal","value":"before","raw":"\"before\""}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":"before","raw":"\"before\""}]},"alternate":{"type":"Identifier","name":"pos"}}}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"limit"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"limit"},"right":{"type":"Literal","value":5,"raw":"5"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"limit"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changed"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"coords"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"endCoords"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"end"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"pos"}}},"consequent":{"type":"Identifier","name":"coords"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"end"}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rect"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"left"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"endCoords"},"property":{"type":"Identifier","name":"left"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"top"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"endCoords"},"property":{"type":"Identifier","name":"top"}}]},"right":{"type":"Identifier","name":"margin"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"left"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"endCoords"},"property":{"type":"Identifier","name":"left"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"bottom"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"endCoords"},"property":{"type":"Identifier","name":"bottom"}}]},"right":{"type":"Identifier","name":"margin"}},"kind":"init","method":false,"shorthand":false}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scrollPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"calculateScrollPos"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"rect"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startTop"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startLeft"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollTop"}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"startTop"}}]},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"changed"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollLeft"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollLeft"}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"startLeft"}}]},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"changed"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"changed"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"rect"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"scrollIntoView"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"rect"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scrollPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"calculateScrollPos"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"rect"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollTop"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollLeft"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scrollPos"},"property":{"type":"Identifier","name":"scrollLeft"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"calculateScrollPos"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"rect"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"snapMargin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"textHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"screentop"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollTop"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"screen"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayHeight"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"Identifier","name":"screen"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"screen"}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"docBottom"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingVert"},"arguments":[{"type":"Identifier","name":"display"}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"atTop"},"init":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"snapMargin"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"atBottom"},"init":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"docBottom"},"right":{"type":"Identifier","name":"snapMargin"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"screentop"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"atTop"},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"screentop"},"right":{"type":"Identifier","name":"screen"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newTop"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"top"}},{"type":"BinaryExpression","operator":"-","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"atBottom"},"consequent":{"type":"Identifier","name":"docBottom"},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"bottom"}}},"right":{"type":"Identifier","name":"screen"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"newTop"},"right":{"type":"Identifier","name":"screentop"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"newTop"}}}]},"alternate":null}]},"alternate":null}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"screenleft"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollLeft"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollLeft"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"screenw"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayWidth"},"arguments":[{"type":"Identifier","name":"cm"}]},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"offsetWidth"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tooWide"},"init":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"Identifier","name":"screenw"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"tooWide"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"screenw"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":10,"raw":"10"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"screenleft"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"tooWide"},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"Literal","value":10,"raw":"10"}}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"screenw"},"right":{"type":"Identifier","name":"screenleft"}},"right":{"type":"Literal","value":3,"raw":"3"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rect"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"tooWide"},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"Literal","value":10,"raw":"10"}}},"right":{"type":"Identifier","name":"screenw"}}}}]},"alternate":null}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addToScrollTop"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"top"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"top"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolveScrollToPos"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollTop"}}},"right":{"type":"Identifier","name":"top"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"ensureCursorVisible"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolveScrollToPos"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getCursor"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollToPos"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"cur"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"cur"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"margin"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"cursorScrollMargin"}},"kind":"init","method":false,"shorthand":false}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"scrollToCoords"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"x"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"y"},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolveScrollToPos"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"x"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"x"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"y"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"y"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"scrollToRange"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"range$$1"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolveScrollToPos"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollToPos"}},"right":{"type":"Identifier","name":"range$$1"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"resolveScrollToPos"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollToPos"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"range$$1"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollToPos"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToCoordsRange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"margin"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"scrollToCoordsRange"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"margin"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"calculateScrollPos"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"left"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"left"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"top"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"top"}}]},"right":{"type":"Identifier","name":"margin"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"right"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"right"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"bottom"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"bottom"}}]},"right":{"type":"Identifier","name":"margin"}},"kind":"init","method":false,"shorthand":false}]}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sPos"},"property":{"type":"Identifier","name":"scrollLeft"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sPos"},"property":{"type":"Identifier","name":"scrollTop"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateScrollTop"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"val"}}]},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"gecko"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDisplaySimple"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"val"},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"gecko"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDisplaySimple"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startWorker"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":100,"raw":"100"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setScrollTop"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"},{"type":"Identifier","name":"forceScroll"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"val"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientHeight"}}},{"type":"Identifier","name":"val"}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"val"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"forceScroll"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"val"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"setScrollTop"}},"arguments":[{"type":"Identifier","name":"val"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"val"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"val"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setScrollLeft"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"},{"type":"Identifier","name":"isScroller"},{"type":"Identifier","name":"forceScroll"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"val"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"val"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientWidth"}}}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"isScroller"},"consequent":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"val"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}}},"alternate":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"val"}}]},"right":{"type":"Literal","value":2,"raw":"2"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"forceScroll"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"val"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"alignHorizontally"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"val"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"val"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"setScrollLeft"}},"arguments":[{"type":"Identifier","name":"val"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"measureForScrollbars"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gutterW"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"offsetWidth"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"docH"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"round"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingVert"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"clientHeight"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientHeight"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"viewHeight"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scrollWidth"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollWidth"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"clientWidth"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientWidth"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"viewWidth"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientWidth"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"barLeft"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}},"consequent":{"type":"Identifier","name":"gutterW"},"alternate":{"type":"Literal","value":0,"raw":"0"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"docHeight"},"computed":false,"value":{"type":"Identifier","name":"docH"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scrollHeight"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"docH"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"barHeight"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"nativeBarWidth"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"nativeBarWidth"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"gutterWidth"},"computed":false,"value":{"type":"Identifier","name":"gutterW"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"NativeScrollbars"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"place"},{"type":"Identifier","name":"scroll"},{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"vert"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"min-width: 1px","raw":"\"min-width: 1px\""}]}]},{"type":"Literal","value":"CodeMirror-vscrollbar","raw":"\"CodeMirror-vscrollbar\""}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"horiz"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"height: 100%; min-height: 1px","raw":"\"height: 100%; min-height: 1px\""}]}]},{"type":"Literal","value":"CodeMirror-hscrollbar","raw":"\"CodeMirror-hscrollbar\""}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"vert"},"property":{"type":"Identifier","name":"tabIndex"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"horiz"},"property":{"type":"Identifier","name":"tabIndex"}},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"place"},"arguments":[{"type":"Identifier","name":"vert"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"place"},"arguments":[{"type":"Identifier","name":"horiz"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"vert"},{"type":"Literal","value":"scroll","raw":"\"scroll\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"vert"},"property":{"type":"Identifier","name":"clientHeight"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scroll"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"vert"},"property":{"type":"Identifier","name":"scrollTop"}},{"type":"Literal","value":"vertical","raw":"\"vertical\""}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"horiz"},{"type":"Literal","value":"scroll","raw":"\"scroll\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"horiz"},"property":{"type":"Identifier","name":"clientWidth"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scroll"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"horiz"},"property":{"type":"Identifier","name":"scrollLeft"}},{"type":"Literal","value":"horizontal","raw":"\"horizontal\""}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"checkedZeroWidth"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":8,"raw":"8"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"minHeight"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"minWidth"}},"right":{"type":"Literal","value":"18px","raw":"\"18px\""}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NativeScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"update"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"measure"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"needsH"},"init":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"scrollWidth"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"clientWidth"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"needsV"},"init":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"scrollHeight"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"clientHeight"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sWidth"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"nativeBarWidth"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"needsV"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"block","raw":"\"block\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"needsH"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"sWidth"},"right":{"type":"Literal","value":"px","raw":"\"px\""}},"alternate":{"type":"Literal","value":"0","raw":"\"0\""}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"totalHeight"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"viewHeight"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"needsH"},"consequent":{"type":"Identifier","name":"sWidth"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"scrollHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"clientHeight"}}},"right":{"type":"Identifier","name":"totalHeight"}}]},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Literal","value":"0","raw":"\"0\""}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"needsH"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"block","raw":"\"block\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"right"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"needsV"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"sWidth"},"right":{"type":"Literal","value":"px","raw":"\"px\""}},"alternate":{"type":"Literal","value":"0","raw":"\"0\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"barLeft"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"totalWidth"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"viewWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"barLeft"}}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"needsV"},"consequent":{"type":"Identifier","name":"sWidth"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"scrollWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"clientWidth"}}},"right":{"type":"Identifier","name":"totalWidth"}}]},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"Literal","value":"0","raw":"\"0\""}}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"checkedZeroWidth"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"clientHeight"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"sWidth"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"zeroWidthHack"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"checkedZeroWidth"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"needsV"},"consequent":{"type":"Identifier","name":"sWidth"},"alternate":{"type":"Literal","value":0,"raw":"0"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"needsH"},"consequent":{"type":"Identifier","name":"sWidth"},"alternate":{"type":"Literal","value":0,"raw":"0"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NativeScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"setScrollLeft"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"pos"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Identifier","name":"pos"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"disableHoriz"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"enableZeroWidthBar"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"disableHoriz"}},{"type":"Literal","value":"horiz","raw":"\"horiz\""}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NativeScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"setScrollTop"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"pos"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"pos"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"disableVert"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"enableZeroWidthBar"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"disableVert"}},{"type":"Literal","value":"vert","raw":"\"vert\""}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NativeScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"zeroWidthHack"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"w"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"mac"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"mac_geMountainLion"},"prefix":true}},"consequent":{"type":"Literal","value":"12px","raw":"\"12px\""},"alternate":{"type":"Literal","value":"18px","raw":"\"18px\""}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"Identifier","name":"w"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"pointerEvents"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"pointerEvents"}},"right":{"type":"Literal","value":"none","raw":"\"none\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"disableHoriz"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Delayed"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"disableVert"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Delayed"},"arguments":[]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NativeScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"enableZeroWidthBar"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"bar"},{"type":"Identifier","name":"delay"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bar"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"pointerEvents"}},"right":{"type":"Literal","value":"auto","raw":"\"auto\""}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"maybeDisable"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"box"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bar"},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"elt$$1"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"vert","raw":"\"vert\""}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"elementFromPoint"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"bottom"}}},"right":{"type":"Literal","value":2,"raw":"2"}}]},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"elementFromPoint"}},"arguments":[{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"Literal","value":2,"raw":"2"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"box"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"elt$$1"},"right":{"type":"Identifier","name":"bar"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bar"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"pointerEvents"}},"right":{"type":"Literal","value":"none","raw":"\"none\""}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"delay"},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Literal","value":1000,"raw":"1000"},{"type":"Identifier","name":"maybeDisable"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"delay"},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Literal","value":1000,"raw":"1000"},{"type":"Identifier","name":"maybeDisable"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NativeScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"clear"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"parent"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}},"property":{"type":"Identifier","name":"parentNode"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parent"},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"horiz"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parent"},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"vert"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"NullScrollbars"},"init":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NullScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"update"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NullScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"setScrollLeft"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NullScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"setScrollTop"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"NullScrollbars"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"clear"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateScrollbars"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"measure"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"measure"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"measure"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureForScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startWidth"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barWidth"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startHeight"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barHeight"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbarsInner"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"measure"}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":4,"raw":"4"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"startWidth"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barWidth"}}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"startHeight"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barHeight"}}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"startWidth"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barWidth"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateHeightsInViewport"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbarsInner"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"measureForScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"startWidth"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barWidth"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"startHeight"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barHeight"}}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateScrollbarsInner"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"measure"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sizes"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"update"}},"arguments":[{"type":"Identifier","name":"measure"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"paddingRight"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"barWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"right"}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"paddingBottom"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"barHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"bottom"}}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"heightForcer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"borderBottom"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Literal","value":"px solid transparent","raw":"\"px solid transparent\""}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"bottom"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"block","raw":"\"block\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"","raw":"\"\""}}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"coverGutterNextToScrollbar"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"fixedGutter"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutterFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"block","raw":"\"block\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutterFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sizes"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutterFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"gutterWidth"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"gutterFiller"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"","raw":"\"\""}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scrollbarModel"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Literal","value":"native","raw":"\"native\""},"computed":false,"value":{"type":"Identifier","name":"NativeScrollbars"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"null","raw":"\"null\""},"computed":false,"value":{"type":"Identifier","name":"NullScrollbars"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"initScrollbars"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"addClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rmClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"addClass"}}]}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"right":{"type":"NewExpression","callee":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"scrollbarModel"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"scrollbarStyle"}}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"Identifier","name":"node"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbarFiller"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"node"},{"type":"Literal","value":"mousedown","raw":"\"mousedown\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-not-content","raw":"\"cm-not-content\""},{"type":"Literal","value":"true","raw":"\"true\""}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"axis"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"axis"},"right":{"type":"Literal","value":"horizontal","raw":"\"horizontal\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollLeft"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"cm"}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"addClass"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"addClass"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextOpId"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"startOperation"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"cm"},"computed":false,"value":{"type":"Identifier","name":"cm"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"viewChanged"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"startHeight"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"forceUpdate"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"updateInput"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"typing"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"changeObjs"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cursorActivityHandlers"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cursorActivityCalled"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"selectionChanged"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"updateMaxLine"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scrollLeft"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scrollTop"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scrollToPos"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"focus"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"id"},"computed":false,"value":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"nextOpId"},"prefix":true},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"pushOperation"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOperation"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"op"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"op"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"finishOperation"},"arguments":[{"type":"Identifier","name":"op"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"group"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"group"},"property":{"type":"Identifier","name":"ops"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"group"},"property":{"type":"Identifier","name":"ops"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperations"},"arguments":[{"type":"Identifier","name":"group"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOperations"},"params":[{"type":"Identifier","name":"group"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ops"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"group"},"property":{"type":"Identifier","name":"ops"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation_R1"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"i"}}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation_W1"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"i$1"}}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$2"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$2"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$2"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation_R2"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"i$2"}}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$3"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$3"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$3"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation_W2"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"i$3"}}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$4"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$4"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$4"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation_finish"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ops"},"property":{"type":"Identifier","name":"i$4"}}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOperation_R1"},"params":[{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"maybeClipScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updateMaxLine"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"findMaxLine"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"mustUpdate"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"viewChanged"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"forceUpdate"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"update"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"mustUpdate"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"DisplayUpdate"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"mustUpdate"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollTop"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"ensure"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"kind":"init","method":false,"shorthand":false}]}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"forceUpdate"}}]}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOperation_W1"},"params":[{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updatedDisplay"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"mustUpdate"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDisplayIfNeeded"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cm"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"update"}}]}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOperation_R2"},"params":[{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updatedDisplay"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateHeightsInViewport"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"barMeasure"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureForScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"adjustWidthTo"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureChar"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLine"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLine"}},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}]},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":3,"raw":"3"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"sizerWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"adjustWidthTo"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"barMeasure"}},"property":{"type":"Identifier","name":"scrollWidth"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientWidth"}},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"offsetLeft"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"adjustWidthTo"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barWidth"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maxScrollLeft"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"offsetLeft"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"adjustWidthTo"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayWidth"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updatedDisplay"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"selectionChanged"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"preparedSelection"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"prepareSelection"}},"arguments":[]}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOperation_W2"},"params":[{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"adjustWidthTo"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"minWidth"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"adjustWidthTo"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maxScrollLeft"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollLeft"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollLeft"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maxScrollLeft"}}]},{"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"takeFocus"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"preparedSelection"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"showSelection"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"preparedSelection"}},{"type":"Identifier","name":"takeFocus"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updatedDisplay"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"startHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbars"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"barMeasure"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updatedDisplay"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setDocumentHeight"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"barMeasure"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"selectionChanged"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"restartBlink"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updateInput"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"typing"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"takeFocus"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureFocus"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cm"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOperation_finish"},"params":[{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"updatedDisplay"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"postUpdateDisplay"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"update"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartY"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollTop"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"forceScroll"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollLeft"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollLeft"}},{"type":"Literal","value":true,"raw":"true"},{"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rect"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollPosIntoView"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"property":{"type":"Identifier","name":"from"}}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"property":{"type":"Identifier","name":"to"}}]},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"scrollToPos"}},"property":{"type":"Identifier","name":"margin"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"maybeScrollWindow"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"rect"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hidden"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeHiddenMarkers"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"unhidden"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeUnhiddenMarkers"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"hidden"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hidden"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"hidden"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"hidden"},"property":{"type":"Identifier","name":"i"}},{"type":"Literal","value":"hide","raw":"\"hide\""}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"unhidden"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"unhidden"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"unhidden"},"property":{"type":"Identifier","name":"i$1"}},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"unhidden"},"property":{"type":"Identifier","name":"i$1"}},{"type":"Literal","value":"unhide","raw":"\"unhide\""}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"offsetHeight"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"changeObjs"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"changes","raw":"\"changes\""},{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"changeObjs"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"update"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"update"}},"property":{"type":"Identifier","name":"finish"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"runInOp"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[]}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"operation"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"f"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"arguments"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"f"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"arguments"}]}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"methodOp"},"params":[{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"curOp"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"f"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"arguments"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startOperation"},"arguments":[{"type":"ThisExpression"}]}},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"f"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"arguments"}]}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation"},"arguments":[{"type":"ThisExpression"}]}}]}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"docMethodOp"},"params":[{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"cm"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"f"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"arguments"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"f"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"arguments"}]}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"regChange"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"lendiff"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"from"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"to"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"size"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"lendiff"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lendiff"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"lendiff"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"Identifier","name":"from"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"Identifier","name":"from"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"viewChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawCollapsedSpans"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"from"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawCollapsedSpans"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLineEndNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"lendiff"}}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"Identifier","name":"lendiff"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"lendiff"}}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cut"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"viewCuttingPoint"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"to"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"lendiff"}},{"type":"Literal","value":1,"raw":"1"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"cut"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cut"},"property":{"type":"Identifier","name":"index"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cut"},"property":{"type":"Identifier","name":"lineN"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"lendiff"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cut$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"viewCuttingPoint"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"from"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"cut$1"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cut$1"},"property":{"type":"Identifier","name":"index"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cut$1"},"property":{"type":"Identifier","name":"lineN"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cutTop"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"viewCuttingPoint"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"from"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cutBot"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"viewCuttingPoint"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"to"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"lendiff"}},{"type":"Literal","value":1,"raw":"1"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cutTop"},"right":{"type":"Identifier","name":"cutBot"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cutTop"},"property":{"type":"Identifier","name":"index"}}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"buildViewArray"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cutTop"},"property":{"type":"Identifier","name":"lineN"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cutBot"},"property":{"type":"Identifier","name":"lineN"}}]}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cutBot"},"property":{"type":"Identifier","name":"index"}}]}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"lendiff"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}]}}}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ext"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"externalMeasured"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"ext"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"lineN"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"lineN"}},"right":{"type":"Identifier","name":"lendiff"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"from"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"lineN"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"size"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"externalMeasured"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"regLineChange"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"viewChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ext"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"externalMeasured"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ext"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"lineN"}}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"line"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"lineN"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ext"},"property":{"type":"Identifier","name":"size"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"externalMeasured"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineView"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewIndex"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arr"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}},"right":{"type":"ArrayExpression","elements":[]}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"arr"},{"type":"Identifier","name":"type"}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"arr"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"type"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"resetView"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewOffset"}},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"viewCuttingPoint"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"oldN"},{"type":"Identifier","name":"newN"},{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"index"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewIndex"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"oldN"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"sawCollapsedSpans"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"newN"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"size"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"index"},"computed":false,"value":{"type":"Identifier","name":"index"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"lineN"},"computed":false,"value":{"type":"Identifier","name":"newN"},"kind":"init","method":false,"shorthand":false}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"index"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"size"}}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"oldN"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"index"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"diff"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"index"}},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Identifier","name":"oldN"}}}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"index"},"prefix":false}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"diff"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"oldN"}}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"oldN"},"right":{"type":"Identifier","name":"diff"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"newN"},"right":{"type":"Identifier","name":"diff"}}}]},"alternate":null},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"newN"}]},"right":{"type":"Identifier","name":"newN"}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"index"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"newN"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dir"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"index"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}},"property":{"type":"Identifier","name":"size"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"index"},"right":{"type":"Identifier","name":"dir"}}}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"index"},"computed":false,"value":{"type":"Identifier","name":"index"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"lineN"},"computed":false,"value":{"type":"Identifier","name":"newN"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"adjustView"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildViewArray"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"Identifier","name":"from"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"Identifier","name":"from"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildViewArray"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"Identifier","name":"from"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewIndex"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"}]}]}}}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"Identifier","name":"from"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"to"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"buildViewArray"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},{"type":"Identifier","name":"to"}]}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"to"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewIndex"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"to"}]}]}}}]},"alternate":null}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"to"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"countDirtyView"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dirty"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineView"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"hidden"}},"prefix":true},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"dirty"},"prefix":true}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"dirty"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"startWorker"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"time"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"highlightFrontier"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"highlight"}},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Identifier","name":"time"},{"type":"CallExpression","callee":{"type":"Identifier","name":"bind"},"arguments":[{"type":"Identifier","name":"highlightWorker"},{"type":"Identifier","name":"cm"}]}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"highlightWorker"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"highlightFrontier"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"workTime"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"context"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getContextBefore"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"highlightFrontier"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changedLines"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Literal","value":500,"raw":"500"}}]},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldStyles"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"resetState"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"maxHighlightLength"}}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyState"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}}]},"alternate":{"type":"Literal","value":null,"raw":"null"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"highlighted"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"highlightLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"context"},{"type":"Literal","value":true,"raw":"true"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"resetState"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"Identifier","name":"resetState"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"highlighted"},"property":{"type":"Identifier","name":"styles"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldCls"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newCls"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"highlighted"},"property":{"type":"Identifier","name":"classes"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"newCls"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"right":{"type":"Identifier","name":"newCls"}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"oldCls"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styleClasses"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ischange"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"oldStyles"},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldStyles"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"property":{"type":"Identifier","name":"length"}}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"oldCls"},"right":{"type":"Identifier","name":"newCls"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"oldCls"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"newCls"},"prefix":true}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldCls"},"property":{"type":"Identifier","name":"bgClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newCls"},"property":{"type":"Identifier","name":"bgClass"}}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldCls"},"property":{"type":"Identifier","name":"textClass"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newCls"},"property":{"type":"Identifier","name":"textClass"}}}}}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ischange"},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldStyles"},"property":{"type":"Identifier","name":"length"}}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ischange"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"oldStyles"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"property":{"type":"Identifier","name":"i"}}}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"ischange"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"changedLines"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"save"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"nextLine"}},"arguments":[]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"maxHighlightLength"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"processLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"Identifier","name":"context"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"%","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":5,"raw":"5"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"save"}},"arguments":[]},"alternate":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"nextLine"}},"arguments":[]}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true},"right":{"type":"Identifier","name":"end"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startWorker"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"workDelay"}}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"highlightFrontier"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeFrontier"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeFrontier"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"context"},"property":{"type":"Identifier","name":"line"}}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"changedLines"},"property":{"type":"Identifier","name":"length"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"changedLines"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"changedLines"},"property":{"type":"Identifier","name":"i"}},{"type":"Literal","value":"text","raw":"\"text\""}]}}]}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"DisplayUpdate"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"viewport"},{"type":"Identifier","name":"force"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"viewport"}},"right":{"type":"Identifier","name":"viewport"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"visible"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visibleLines"},"arguments":[{"type":"Identifier","name":"display"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"viewport"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"editorIsHidden"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"offsetWidth"}},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapperHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapperWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientWidth"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"oldDisplayWidth"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayWidth"},"arguments":[{"type":"Identifier","name":"cm"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"force"}},"right":{"type":"Identifier","name":"force"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"dims"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getDimensions"},"arguments":[{"type":"Identifier","name":"cm"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"events"}},"right":{"type":"ArrayExpression","elements":[]}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"DisplayUpdate"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"signal"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"emitter"},{"type":"Identifier","name":"type"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"events"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"arguments"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"DisplayUpdate"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"finish"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"events"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"signal"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"events"}},"property":{"type":"Identifier","name":"i"}}]}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"maybeClipScrollbars"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scrollbarsClipped"}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"offsetWidth"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"nativeBarWidth"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"offsetWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientWidth"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"heightForcer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"marginBottom"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"-","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"nativeBarWidth"}},"prefix":true},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"borderRightWidth"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scrollbarsClipped"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"selectionSnapshot"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"hasFocus"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"active"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"active"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"contains"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}},{"type":"Identifier","name":"active"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"activeElt"},"computed":false,"value":{"type":"Identifier","name":"active"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"getSelection"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"extend"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"contains"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"anchorNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"anchorOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorOffset"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"focusNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusNode"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"focusOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusOffset"}}}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"restoreSelection"},"params":[{"type":"Identifier","name":"snapshot"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"snapshot"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"activeElt"}},"prefix":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"activeElt"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"activeElt"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"anchorNode"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"contains"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"anchorNode"}}]}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"contains"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"focusNode"}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createRange"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"setEnd"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"anchorNode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"anchorOffset"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"collapse"}},"arguments":[{"type":"Literal","value":false,"raw":"false"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"removeAllRanges"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"addRange"}},"arguments":[{"type":"Identifier","name":"range$$1"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"extend"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"focusNode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"snapshot"},"property":{"type":"Identifier","name":"focusOffset"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateDisplayIfNeeded"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"update"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"editorIsHidden"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"force"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"visible"}},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"visible"}},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"renderedView"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"countDirtyView"},"arguments":[{"type":"Identifier","name":"cm"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"maybeUpdateLineNumberWidth"},"arguments":[{"type":"Identifier","name":"cm"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetView"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"dims"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getDimensions"},"arguments":[{"type":"Identifier","name":"cm"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"visible"}},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"viewportMargin"}}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"end"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"visible"}},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"viewportMargin"}}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"Identifier","name":"from"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"Literal","value":20,"raw":"20"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"to"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":20,"raw":"20"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"end"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"sawCollapsedSpans"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"from"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLineEndNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"to"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"different"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lastWrapHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"wrapperHeight"}}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lastWrapWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"wrapperWidth"}}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"adjustView"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewOffset"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}]}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"mover"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewOffset"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toUpdate"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"countDirtyView"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"different"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"toUpdate"},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"force"}},"prefix":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"renderedView"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"selSnapshot"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"selectionSnapshot"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"toUpdate"},"right":{"type":"Literal","value":4,"raw":"4"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"none","raw":"\"none\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"patchDisplay"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"dims"}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"toUpdate"},"right":{"type":"Literal","value":4,"raw":"4"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"","raw":"\"\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"renderedView"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"restoreSelection"},"arguments":[{"type":"Identifier","name":"selSnapshot"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cursorDiv"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"selectionDiv"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"minHeight"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"IfStatement","test":{"type":"Identifier","name":"different"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lastWrapHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"wrapperHeight"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lastWrapWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"wrapperWidth"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startWorker"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":400,"raw":"400"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"updateLineNumbers"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"postUpdateDisplay"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"update"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"viewport"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"viewport"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"first"},"init":{"type":"Literal","value":true,"raw":"true"}}],"kind":"var"},"test":null,"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"first"},"right":{"type":"Literal","value":false,"raw":"false"}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"first"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"oldDisplayWidth"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayWidth"},"arguments":[{"type":"Identifier","name":"cm"}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"viewport"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"viewport"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"paddingVert"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayHeight"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"viewport"},"property":{"type":"Identifier","name":"top"}}]},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"visible"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"visibleLines"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"viewport"}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"visible"}},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"visible"}},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDisplayIfNeeded"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"update"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateHeightsInViewport"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"barMeasure"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureForScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateSelection"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbars"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"barMeasure"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setDocumentHeight"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"barMeasure"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"force"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"signal"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"update","raw":"\"update\""},{"type":"Identifier","name":"cm"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"reportedViewFrom"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"reportedViewTo"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"signal"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"viewportChange","raw":"\"viewportChange\""},{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"reportedViewFrom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"reportedViewTo"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateDisplaySimple"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"viewport"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"update"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"DisplayUpdate"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"viewport"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDisplayIfNeeded"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"update"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateHeightsInViewport"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"postUpdateDisplay"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"update"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"barMeasure"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureForScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateSelection"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbars"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"barMeasure"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setDocumentHeight"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"barMeasure"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"update"},"property":{"type":"Identifier","name":"finish"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"patchDisplay"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"updateNumbersFrom"},{"type":"Identifier","name":"dims"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineNumbers"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineNumbers"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"container"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"container"},"property":{"type":"Identifier","name":"firstChild"}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"rm"},"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"next"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nextSibling"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"webkit"},"right":{"type":"Identifier","name":"mac"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"currentWheelTarget"}},"right":{"type":"Identifier","name":"node"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"none","raw":"\"none\""}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"Identifier","name":"node"}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"next"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineN"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineView"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"hidden"}},"consequent":{"type":"EmptyStatement"},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"parentNode"}},"right":{"type":"Identifier","name":"container"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"buildLineElement"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"dims"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"container"},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"Identifier","name":"node"},{"type":"Identifier","name":"cur"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"cur"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"rm"},"arguments":[{"type":"Identifier","name":"cur"}]}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"updateNumber"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"lineNumbers"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"updateNumbersFrom"},"right":{"type":"Literal","value":null,"raw":"null"}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"updateNumbersFrom"},"right":{"type":"Identifier","name":"lineN"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"lineNumber"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"changes"}},{"type":"Literal","value":"gutter","raw":"\"gutter\""}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"updateNumber"},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineForChanges"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"lineN"},{"type":"Identifier","name":"dims"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"updateNumber"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"lineNumber"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"lineNumber"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createTextNode"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNumberFor"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},{"type":"Identifier","name":"lineN"}]}]}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"nextSibling"}}}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"lineN"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"size"}}}}]}},{"type":"WhileStatement","test":{"type":"Identifier","name":"cur"},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"rm"},"arguments":[{"type":"Identifier","name":"cur"}]}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateGutterSpace"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"width"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"offsetWidth"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"marginLeft"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"width"},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setDocumentHeight"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"measure"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"minHeight"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"docHeight"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"heightForcer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"docHeight"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"docHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barHeight"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"Identifier","name":"cm"}]}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateGutters"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gutters"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"gutters"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"specs"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildren"},"arguments":[{"type":"Identifier","name":"gutters"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":null,"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"specs"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gutterClass"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"specs"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gElt"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"gutters"},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"CodeMirror-gutter ","raw":"\"CodeMirror-gutter \""},"right":{"type":"Identifier","name":"gutterClass"}}]}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"gutterClass"},"right":{"type":"Literal","value":"CodeMirror-linenumbers","raw":"\"CodeMirror-linenumbers\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineGutter"}},"right":{"type":"Identifier","name":"gElt"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"gElt"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineNumWidth"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":null}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"gutters"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"i"},"consequent":{"type":"Literal","value":"","raw":"\"\""},"alternate":{"type":"Literal","value":"none","raw":"\"none\""}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateGutterSpace"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setGuttersForLineNumbers"},"params":[{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"gutters"}},{"type":"Literal","value":"CodeMirror-linenumbers","raw":"\"CodeMirror-linenumbers\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"found"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"lineNumbers"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"gutters"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"Literal","value":"CodeMirror-linenumbers","raw":"\"CodeMirror-linenumbers\""}]}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"found"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"lineNumbers"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"gutters"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"found"},{"type":"Literal","value":1,"raw":"1"}]}}]},"alternate":null}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wheelSamples"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wheelPixelsPerUnit"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"ie"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":0.53,"raw":".53"},"prefix":true}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"gecko"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"Literal","value":15,"raw":"15"}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"chrome"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":0.7,"raw":".7"},"prefix":true}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"safari"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"right":{"type":"Literal","value":3,"raw":"3"}}}}]},"alternate":null}}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"wheelEventDelta"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dx"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"wheelDeltaX"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dy"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"wheelDeltaY"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dx"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"detail"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"axis"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"HORIZONTAL_AXIS"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dx"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"detail"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dy"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"detail"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"axis"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"VERTICAL_AXIS"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dy"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"detail"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dy"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dy"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"wheelDelta"}}}}]},"alternate":null}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"x"},"computed":false,"value":{"type":"Identifier","name":"dx"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"y"},"computed":false,"value":{"type":"Identifier","name":"dy"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"wheelEventPixels"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delta"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"wheelEventDelta"},"arguments":[{"type":"Identifier","name":"e"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"*=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"delta"},"property":{"type":"Identifier","name":"x"}},"right":{"type":"Identifier","name":"wheelPixelsPerUnit"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"*=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"delta"},"property":{"type":"Identifier","name":"y"}},"right":{"type":"Identifier","name":"wheelPixelsPerUnit"}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"delta"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onScrollWheel"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delta"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"wheelEventDelta"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dx"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"delta"},"property":{"type":"Identifier","name":"x"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dy"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"delta"},"property":{"type":"Identifier","name":"y"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scroll"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"canScrollX"},"init":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"clientWidth"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"canScrollY"},"init":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"clientHeight"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"dx"},"right":{"type":"Identifier","name":"canScrollX"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"dy"},"right":{"type":"Identifier","name":"canScrollY"}}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"dy"},"right":{"type":"Identifier","name":"mac"}},"right":{"type":"Identifier","name":"webkit"}},"consequent":{"type":"BlockStatement","body":[{"type":"LabeledStatement","label":{"type":"Identifier","name":"outer"},"body":{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"target"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"cur"},"right":{"type":"Identifier","name":"scroll"}},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"parentNode"}}},"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"node"}},"right":{"type":"Identifier","name":"cur"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"currentWheelTarget"}},"right":{"type":"Identifier","name":"cur"}}},{"type":"BreakStatement","label":{"type":"Identifier","name":"outer"}}]},"alternate":null}]}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"dx"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"gecko"},"prefix":true}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"presto"},"prefix":true}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"dy"},"right":{"type":"Identifier","name":"canScrollY"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dy"},"right":{"type":"Identifier","name":"wheelPixelsPerUnit"}}}]}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollLeft"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dx"},"right":{"type":"Identifier","name":"wheelPixelsPerUnit"}}}]}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"dy"},"prefix":true},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"dy"},"right":{"type":"Identifier","name":"canScrollY"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"dy"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pixels"},"init":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dy"},"right":{"type":"Identifier","name":"wheelPixelsPerUnit"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bot"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pixels"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"top"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"top"},"right":{"type":"Identifier","name":"pixels"}},"right":{"type":"Literal","value":50,"raw":"50"}}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bot"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"bot"},"right":{"type":"Identifier","name":"pixels"}},"right":{"type":"Literal","value":50,"raw":"50"}}]}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDisplaySimple"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"Identifier","name":"bot"},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"wheelSamples"},"right":{"type":"Literal","value":20,"raw":"20"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollLeft"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartY"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollTop"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDX"}},"right":{"type":"Identifier","name":"dx"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDY"}},"right":{"type":"Identifier","name":"dy"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"movedX"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"movedY"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroll"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartY"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sample"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"movedY"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDY"}}},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"movedY"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDY"}}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"movedX"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDX"}}},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"movedX"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDX"}}}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartX"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelStartY"}},"right":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"sample"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"wheelPixelsPerUnit"},"right":{"type":"Identifier","name":"wheelSamples"}},"right":{"type":"Identifier","name":"sample"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"wheelSamples"},"right":{"type":"Literal","value":1,"raw":"1"}}}}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"wheelSamples"},"prefix":true}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":200,"raw":"200"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDX"}},"right":{"type":"Identifier","name":"dx"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wheelDY"}},"right":{"type":"Identifier","name":"dy"}}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Selection"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ranges"},{"type":"Identifier","name":"primIndex"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"right":{"type":"Identifier","name":"ranges"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"primIndex"}},"right":{"type":"Identifier","name":"primIndex"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Selection"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"primary"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"primIndex"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Selection"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"equals"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"other"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"other"},"right":{"type":"ThisExpression"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"primIndex"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"primIndex"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"here"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"there"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"equalCursorPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"here"},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"there"},"property":{"type":"Identifier","name":"anchor"}}]},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"equalCursorPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"here"},"property":{"type":"Identifier","name":"head"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"there"},"property":{"type":"Identifier","name":"head"}}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Selection"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"deepCopy"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"copyPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"anchor"}}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"copyPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"head"}}]}]}}}]}},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Selection"},"arguments":[{"type":"Identifier","name":"out"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"primIndex"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Selection"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"somethingSelected"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"empty"}},"arguments":[]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Selection"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"contains"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"end"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"end"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"Identifier","name":"pos"}}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"end"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}]},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"i"}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}]},"generator":false,"expression":false,"async":false}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Range"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"anchor"}},"right":{"type":"Identifier","name":"anchor"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"head"}},"right":{"type":"Identifier","name":"head"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Range"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"from"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"minPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"head"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Range"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"to"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"maxPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"head"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Range"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"empty"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"anchor"}},"property":{"type":"Identifier","name":"line"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"anchor"}},"property":{"type":"Identifier","name":"ch"}}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"normalizeSelection"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"ranges"},{"type":"Identifier","name":"primIndex"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mayTouch"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cm"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"selectionsMayTouch"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prim"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"primIndex"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"sort"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"a"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"primIndex"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"ranges"},{"type":"Identifier","name":"prim"}]}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":1,"raw":"1"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prev"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"mayTouch"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"empty"}},"arguments":[]},"prefix":true}},"consequent":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"diff"},"right":{"type":"Literal","value":0,"raw":"0"}},"alternate":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"diff"},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"minPos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"maxPos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"inv"},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"empty"}},"arguments":[]},"consequent":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"head"}}},"alternate":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"head"}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"primIndex"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"primIndex"},"prefix":true}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":true},{"type":"Literal","value":2,"raw":"2"},{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"ConditionalExpression","test":{"type":"Identifier","name":"inv"},"consequent":{"type":"Identifier","name":"to"},"alternate":{"type":"Identifier","name":"from"}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"inv"},"consequent":{"type":"Identifier","name":"from"},"alternate":{"type":"Identifier","name":"to"}}]}]}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Selection"},"arguments":[{"type":"Identifier","name":"ranges"},{"type":"Identifier","name":"primIndex"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"simpleSelection"},"params":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Selection"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"anchor"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"head"},"right":{"type":"Identifier","name":"anchor"}}]}]},{"type":"Literal","value":0,"raw":"0"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"changeEnd"},"params":[{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}}]},"property":{"type":"Identifier","name":"length"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"ch"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"adjustForChange"},"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeEnd"},"arguments":[{"type":"Identifier","name":"change"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}}},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"ch"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeEnd"},"arguments":[{"type":"Identifier","name":"change"}]},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"ch"}}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"computeSelAfterChange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"adjustForChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}},{"type":"Identifier","name":"change"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"adjustForChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"Identifier","name":"change"}]}]}]}}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"out"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"offsetPos"},"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"old"},{"type":"Identifier","name":"nw"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"nw"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"ch"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"nw"},"property":{"type":"Identifier","name":"ch"}}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"nw"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"line"}}}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"computeReplacedSel"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"changes"},{"type":"Identifier","name":"hint"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldPrev"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"Literal","value":0,"raw":"0"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newPrev"},"init":{"type":"Identifier","name":"oldPrev"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"changes"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"change"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"changes"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"offsetPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"Identifier","name":"oldPrev"},{"type":"Identifier","name":"newPrev"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"offsetPos"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"changeEnd"},"arguments":[{"type":"Identifier","name":"change"}]},{"type":"Identifier","name":"oldPrev"},{"type":"Identifier","name":"newPrev"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"oldPrev"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"newPrev"},"right":{"type":"Identifier","name":"to"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"hint"},"right":{"type":"Literal","value":"around","raw":"\"around\""}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"inv"},"init":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"ConditionalExpression","test":{"type":"Identifier","name":"inv"},"consequent":{"type":"Identifier","name":"to"},"alternate":{"type":"Identifier","name":"from"}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"inv"},"consequent":{"type":"Identifier","name":"from"},"alternate":{"type":"Identifier","name":"to"}}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"from"}]}}}]}}]}},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Selection"},"arguments":[{"type":"Identifier","name":"out"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"loadMode"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"mode"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getMode"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"modeOption"}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetModeState"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"resetModeState"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"styles"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"modeFrontier"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"highlightFrontier"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startWorker"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":100,"raw":"100"}]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"modeGen"}},"prefix":false}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isWholeLineUpdate"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}}]},"right":{"type":"Literal","value":"","raw":"\"\""}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"wholeLineUpdateBefore"}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"updateDoc"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"markedSpans"},{"type":"Identifier","name":"estimateHeight$$1"}],"body":{"type":"BlockStatement","body":[{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"spansFor"},"params":[{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"markedSpans"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markedSpans"},"property":{"type":"Identifier","name":"n"}},"alternate":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"update"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"spans"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLine"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"spans"},{"type":"Identifier","name":"estimateHeight$$1"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Literal","value":"change","raw":"\"change\""},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"change"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"linesFor"},"params":[{"type":"Identifier","name":"start"},{"type":"Identifier","name":"end"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Identifier","name":"start"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"end"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Line"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"i"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"spansFor"},"arguments":[{"type":"Identifier","name":"i"}]},{"type":"Identifier","name":"estimateHeight$$1"}]}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"firstLine"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastLine"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastText"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"text"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastSpans"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"spansFor"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nlines"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"full"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"insert"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"CallExpression","callee":{"type":"Identifier","name":"linesFor"},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"remove"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWholeLineUpdate"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"added"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"linesFor"},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"update"},"arguments":[{"type":"Identifier","name":"lastLine"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastLine"},"property":{"type":"Identifier","name":"text"}},{"type":"Identifier","name":"lastSpans"}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"nlines"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"remove"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"nlines"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"added"},"property":{"type":"Identifier","name":"length"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"insert"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"added"}]}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"firstLine"},"right":{"type":"Identifier","name":"lastLine"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"update"},"arguments":[{"type":"Identifier","name":"firstLine"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"firstLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}}]},"right":{"type":"Identifier","name":"lastText"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"firstLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}}]}},{"type":"Identifier","name":"lastSpans"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"added$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"linesFor"},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"added$1"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Line"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"lastText"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"firstLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}}]}},{"type":"Identifier","name":"lastSpans"},{"type":"Identifier","name":"estimateHeight$$1"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"update"},"arguments":[{"type":"Identifier","name":"firstLine"},{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"firstLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}}]},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"text"},"property":{"type":"Literal","value":0,"raw":"0"}}},{"type":"CallExpression","callee":{"type":"Identifier","name":"spansFor"},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"insert"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Identifier","name":"added$1"}]}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"update"},"arguments":[{"type":"Identifier","name":"firstLine"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"firstLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}}]},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"text"},"property":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}}]}},{"type":"CallExpression","callee":{"type":"Identifier","name":"spansFor"},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"remove"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Identifier","name":"nlines"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"update"},"arguments":[{"type":"Identifier","name":"firstLine"},{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"firstLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}}]},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"text"},"property":{"type":"Literal","value":0,"raw":"0"}}},{"type":"CallExpression","callee":{"type":"Identifier","name":"spansFor"},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"update"},"arguments":[{"type":"Identifier","name":"lastLine"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"lastText"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastLine"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}}]}},{"type":"Identifier","name":"lastSpans"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"added$2"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"linesFor"},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"nlines"},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"remove"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"nlines"},"right":{"type":"Literal","value":1,"raw":"1"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"insert"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Identifier","name":"added$2"}]}}]}}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"change","raw":"\"change\""},{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"linkedDocs"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"f"},{"type":"Identifier","name":"sharedHistOnly"}],"body":{"type":"BlockStatement","body":[{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"propagate"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"skip"},{"type":"Identifier","name":"sharedHist"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"linked"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"linked"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rel"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"linked"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rel"},"property":{"type":"Identifier","name":"doc"}},"right":{"type":"Identifier","name":"skip"}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"shared"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sharedHist"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rel"},"property":{"type":"Identifier","name":"sharedHist"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sharedHistOnly"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"shared"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rel"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"shared"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"propagate"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rel"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"shared"}]}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"propagate"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"attachDoc"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"doc"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"Literal","value":"This document is already in use.","raw":"\"This document is already in use.\""}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"right":{"type":"Identifier","name":"doc"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"Identifier","name":"cm"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateLineHeights"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"loadMode"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setDirectionClass"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"findMaxLine"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"mode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeOption"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setDirectionClass"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"Literal","value":"rtl","raw":"\"rtl\""}},"consequent":{"type":"Identifier","name":"addClass"},"alternate":{"type":"Identifier","name":"rmClass"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}},{"type":"Literal","value":"CodeMirror-rtl","raw":"\"CodeMirror-rtl\""}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"directionChanged"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setDirectionClass"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"History"},"params":[{"type":"Identifier","name":"startGen"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"done"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"undone"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"undoDepth"}},"right":{"type":"Identifier","name":"Infinity"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastModTime"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastSelTime"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastOp"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastSelOp"}},"right":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastOrigin"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastSelOrigin"}},"right":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"generation"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"maxGeneration"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"startGen"},"right":{"type":"Literal","value":1,"raw":"1"}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"historyChangeFromChange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"histChange"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeEnd"},"arguments":[{"type":"Identifier","name":"change"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBetween"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"attachLocalSpans"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"histChange"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"linkedDocs"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"attachLocalSpans"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"histChange"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"histChange"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clearSelectionEvents"},"params":[{"type":"Identifier","name":"array"}],"body":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"length"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"array"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"ranges"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"pop"}},"arguments":[]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lastChangeEvent"},"params":[{"type":"Identifier","name":"hist"},{"type":"Identifier","name":"force"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"force"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearSelectionEvents"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]},"property":{"type":"Identifier","name":"ranges"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":2,"raw":"2"}}},"property":{"type":"Identifier","name":"ranges"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"pop"}},"arguments":[]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]}}]},"alternate":null}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addChangeToHistory"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"selAfter"},{"type":"Identifier","name":"opId"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hist"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"time"},"init":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":null}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastOp"}},"right":{"type":"Identifier","name":"opId"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastOrigin"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},"right":{"type":"Literal","value":"+","raw":"\"+\""}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastModTime"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"time"},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"historyEventDelay"}},"alternate":{"type":"Literal","value":500,"raw":"500"}}}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},"right":{"type":"Literal","value":"*","raw":"\"*\""}}}}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lastChangeEvent"},"arguments":[{"type":"Identifier","name":"hist"},{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastOp"}},"right":{"type":"Identifier","name":"opId"}}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"last"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"changes"}}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeEnd"},"arguments":[{"type":"Identifier","name":"change"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"changes"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"historyChangeFromChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}]}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"before"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"before"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"before"},"property":{"type":"Identifier","name":"ranges"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"pushSelectionToHistory"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"changes"},"computed":false,"value":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"historyChangeFromChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"generation"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"generation"}},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"cur"}]}},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undoDepth"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"shift"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"ranges"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"shift"}},"arguments":[]}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"selAfter"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"generation"}},"right":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"maxGeneration"}},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastModTime"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelTime"}},"right":{"type":"Identifier","name":"time"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastOp"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelOp"}},"right":{"type":"Identifier","name":"opId"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastOrigin"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelOrigin"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"last"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"historyAdded","raw":"\"historyAdded\""}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"selectionEventCanBeMerged"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"origin"},{"type":"Identifier","name":"prev"},{"type":"Identifier","name":"sel"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"origin"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":"*","raw":"\"*\""}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":"+","raw":"\"+\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"BinaryExpression","operator":"-","left":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"lastSelTime"}}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"historyEventDelay"}},"alternate":{"type":"Literal","value":500,"raw":"500"}}}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addSelectionToHistory"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"opId"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hist"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"origin"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"origin"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"opId"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelOp"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"origin"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelOrigin"}},"right":{"type":"Identifier","name":"origin"}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastModTime"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelTime"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastOrigin"}},"right":{"type":"Identifier","name":"origin"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"selectionEventCanBeMerged"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"origin"},{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]},{"type":"Identifier","name":"sel"}]}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"Identifier","name":"sel"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"pushSelectionToHistory"},"arguments":[{"type":"Identifier","name":"sel"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelTime"}},"right":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelOrigin"}},"right":{"type":"Identifier","name":"origin"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelOp"}},"right":{"type":"Identifier","name":"opId"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"BinaryExpression","operator":"!==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"clearRedo"}},"right":{"type":"Literal","value":false,"raw":"false"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearSelectionEvents"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"pushSelectionToHistory"},"params":[{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"dest"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"dest"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"top"},"property":{"type":"Identifier","name":"ranges"}}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"top"},"property":{"type":"Identifier","name":"equals"}},"arguments":[{"type":"Identifier","name":"sel"}]}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dest"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"sel"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"attachLocalSpans"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"existing"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"change"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"spans_","raw":"\"spans_\""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"id"}}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"Identifier","name":"from"}]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},{"type":"Identifier","name":"to"}]},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"existing"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"existing"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"change"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"spans_","raw":"\"spans_\""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"id"}}}},"right":{"type":"ObjectExpression","properties":[]}}}},"property":{"type":"Identifier","name":"n"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"n"},"prefix":true}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"removeClearedSpans"},"params":[{"type":"Identifier","name":"spans"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"spans"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"explicitlyCleared"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"out"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"out"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"i"}]}}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"out"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}}]}}]},"alternate":null}}]}},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"out"},"prefix":true},"consequent":{"type":"Identifier","name":"spans"},"alternate":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"length"}},"consequent":{"type":"Identifier","name":"out"},"alternate":{"type":"Literal","value":null,"raw":"null"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getOldSpans"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"change"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"spans_","raw":"\"spans_\""},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"id"}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nw"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"nw"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"removeClearedSpans"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"i"}}]}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"nw"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"mergeOldSpans"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"old"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOldSpans"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stretched"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"stretchSpansOverChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"old"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"stretched"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"stretched"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"old"}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldCur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stretchCur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"stretched"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"oldCur"},"right":{"type":"Identifier","name":"stretchCur"}},"consequent":{"type":"BlockStatement","body":[{"type":"LabeledStatement","label":{"type":"Identifier","name":"spans"},"body":{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stretchCur"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"stretchCur"},"property":{"type":"Identifier","name":"j"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"k"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"k"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldCur"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"k"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"oldCur"},"property":{"type":"Identifier","name":"k"}},"property":{"type":"Identifier","name":"marker"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":{"type":"Identifier","name":"spans"}}]},"alternate":null}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldCur"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"span"}]}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"stretchCur"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"stretchCur"}}}]},"alternate":null}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"old"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copyHistoryArray"},"params":[{"type":"Identifier","name":"events"},{"type":"Identifier","name":"newGroup"},{"type":"Identifier","name":"instantiateSel"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"copy"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"events"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"event"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"events"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ranges"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ConditionalExpression","test":{"type":"Identifier","name":"instantiateSel"},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Selection"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"deepCopy"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"event"}]},"alternate":{"type":"Identifier","name":"event"}}]}},{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changes"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"changes"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newChanges"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"changes"},"computed":false,"value":{"type":"Identifier","name":"newChanges"},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"changes"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"change"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"changes"},"property":{"type":"Identifier","name":"j"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"m"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newChanges"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"newGroup"},"consequent":{"type":"BlockStatement","body":[{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"change"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"m"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prop"},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"Literal","raw":"/^spans_(\\d+)$/","regex":{"pattern":"^spans_(\\d+)$","flags":""}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"newGroup"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Number"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"m"},"property":{"type":"Literal","value":1,"raw":"1"}}]}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"newChanges"}]},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"prop"}}}},{"type":"ExpressionStatement","expression":{"type":"UnaryExpression","operator":"delete","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"prop"}},"prefix":true}}]},"alternate":null}]},"alternate":null}]},"each":false}]},"alternate":null}]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"copy"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extendRange"},"params":[{"type":"Identifier","name":"range"},{"type":"Identifier","name":"head"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"extend"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"extend"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"anchor"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"other"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"posBefore"},"init":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"head"},{"type":"Identifier","name":"anchor"}]},"right":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"posBefore"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"other"},{"type":"Identifier","name":"anchor"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"anchor"},"right":{"type":"Identifier","name":"head"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"head"},"right":{"type":"Identifier","name":"other"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"posBefore"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"head"},{"type":"Identifier","name":"other"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"head"},"right":{"type":"Identifier","name":"other"}}}]},"alternate":null}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"other"},"right":{"type":"Identifier","name":"head"}},{"type":"Identifier","name":"head"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extendSelection"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"head"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"options"},{"type":"Identifier","name":"extend"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"extend"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"extend"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"extend"}}}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"NewExpression","callee":{"type":"Identifier","name":"Selection"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"extendRange"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]},{"type":"Identifier","name":"head"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"extend"}]}]},{"type":"Literal","value":0,"raw":"0"}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extendSelections"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"heads"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"extend"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"extend"}}}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendRange"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"heads"},"property":{"type":"Identifier","name":"i"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"extend"}]}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newSel"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"out"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"newSel"},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"replaceOneSelection"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"i"},{"type":"Identifier","name":"range"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"range"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"ranges"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setSimpleSelection"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"filterSelectionChange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"obj"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"ranges"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"update"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ranges"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"ranges"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"anchor"}}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"head"}}]}]}}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"origin"}}},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"beforeSelectionChange","raw":"\"beforeSelectionChange\""},{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"obj"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Literal","value":"beforeSelectionChange","raw":"\"beforeSelectionChange\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"obj"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"ranges"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"ranges"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"sel"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setSelectionReplaceHistory"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"done"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"done"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"done"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"last"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"last"},"property":{"type":"Identifier","name":"ranges"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"done"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"done"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"Identifier","name":"sel"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionNoUndo"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setSelection"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionNoUndo"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addSelectionToHistory"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"id"}},"alternate":{"type":"Identifier","name":"NaN"}},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setSelectionNoUndo"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"beforeSelectionChange","raw":"\"beforeSelectionChange\""}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Literal","value":"beforeSelectionChange","raw":"\"beforeSelectionChange\""}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sel"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"filterSelectionChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"options"}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bias"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"bias"}}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"primary"}},"arguments":[]},"property":{"type":"Identifier","name":"head"}},{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]},"property":{"type":"Identifier","name":"head"}}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"alternate":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"bias"},{"type":"Literal","value":true,"raw":"true"}]}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"BinaryExpression","operator":"===","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"scroll"}},"right":{"type":"Literal","value":false,"raw":"false"}}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureCursorVisible"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setSelectionInner"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"equals"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"right":{"type":"Identifier","name":"sel"}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"updateInput"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"selectionChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalCursorActivity"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"cursorActivity","raw":"\"cursorActivity\""},{"type":"Identifier","name":"doc"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"reCheckSelection"},"params":[{"type":"Identifier","name":"doc"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":false,"raw":"false"}]}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"skipAtomicInSelection"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"bias"},{"type":"Identifier","name":"mayClear"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"old"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newAnchor"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomic"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}},{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"old"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"anchor"}}},{"type":"Identifier","name":"bias"},{"type":"Identifier","name":"mayClear"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newHead"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomic"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"old"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"head"}}},{"type":"Identifier","name":"bias"},{"type":"Identifier","name":"mayClear"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"out"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"newAnchor"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"newHead"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"out"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"out"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"i"}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"newAnchor"},{"type":"Identifier","name":"newHead"}]}}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"out"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"out"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"primIndex"}}]},"alternate":{"type":"Identifier","name":"sel"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"skipAtomicInner"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"oldPos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"mayClear"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sp"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"m"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"marker"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"inclusiveLeft"}},"consequent":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}},"alternate":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"inclusiveRight"}},"consequent":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sp"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"mayClear"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"m"},{"type":"Literal","value":"beforeCursorEnter","raw":"\"beforeCursorEnter\""}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"explicitlyCleared"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":true}},{"type":"ContinueStatement","label":null}]}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"atomic"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"oldPos"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"near"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"IfStatement","test":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"inclusiveRight"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"inclusiveLeft"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"near"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"movePos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"near"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"dir"},"prefix":true},{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"near"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"near"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}}},"consequent":{"type":"Identifier","name":"line"},"alternate":{"type":"Literal","value":null,"raw":"null"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"near"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"near"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"diff"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"near"},{"type":"Identifier","name":"oldPos"}]}}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"diff"},"right":{"type":"Literal","value":0,"raw":"0"}},"alternate":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"diff"},"right":{"type":"Literal","value":0,"raw":"0"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"near"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"mayClear"}]}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"far"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"alternate":{"type":"Literal","value":1,"raw":"1"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"inclusiveLeft"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"inclusiveRight"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"far"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"movePos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"far"},{"type":"Identifier","name":"dir"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"far"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"Identifier","name":"line"},"alternate":{"type":"Literal","value":null,"raw":"null"}}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"far"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"far"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"mayClear"}]},"alternate":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"skipAtomic"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"oldPos"},{"type":"Identifier","name":"bias"},{"type":"Identifier","name":"mayClear"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dir"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"bias"},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"oldPos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"mayClear"}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"mayClear"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"oldPos"},{"type":"Identifier","name":"dir"},{"type":"Literal","value":true,"raw":"true"}]}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"oldPos"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"dir"},"prefix":true},{"type":"Identifier","name":"mayClear"}]}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"mayClear"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomicInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"oldPos"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"dir"},"prefix":true},{"type":"Literal","value":true,"raw":"true"}]}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cantEdit"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"found"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"movePos"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"line"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"dir"}}]}}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"selectAll"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setSelection"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"firstLine"}},"arguments":[]},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}]},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"filterChange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"update"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"obj"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"canceled"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cancel"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"canceled"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"update"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"update"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"text"},{"type":"Identifier","name":"origin"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"from"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"to"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"to"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"text"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"text"}},"right":{"type":"Identifier","name":"text"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!==","left":{"type":"Identifier","name":"origin"},"right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"origin"}},"right":{"type":"Identifier","name":"origin"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"beforeChange","raw":"\"beforeChange\""},{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"obj"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Literal","value":"beforeChange","raw":"\"beforeChange\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"obj"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"canceled"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"to"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"text"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"obj"},"property":{"type":"Identifier","name":"origin"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"makeChange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"ignoreReadOnly"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"makeChange"}]},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"ignoreReadOnly"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"suppressEdits"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"beforeChange","raw":"\"beforeChange\""}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Literal","value":"beforeChange","raw":"\"beforeChange\""}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"change"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"filterChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Literal","value":true,"raw":"true"}]}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"change"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"split"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawReadOnlySpans"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ignoreReadOnly"},"prefix":true}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeReadOnlyRanges"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"split"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"split"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"split"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"split"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"to"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"i"},"consequent":{"type":"ArrayExpression","elements":[{"type":"Literal","value":"","raw":"\"\""}]},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"kind":"init","method":false,"shorthand":false}]}]}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeInner"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"makeChangeInner"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"selAfter"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"computeSelAfterChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addChangeToHistory"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"selAfter"},{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"id"}},"alternate":{"type":"Identifier","name":"NaN"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeSingleDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"selAfter"},{"type":"CallExpression","callee":{"type":"Identifier","name":"stretchSpansOverChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rebased"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"linkedDocs"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sharedHist"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"sharedHist"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"rebased"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rebaseHist"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},{"type":"Identifier","name":"change"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rebased"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeSingleDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Literal","value":null,"raw":"null"},{"type":"CallExpression","callee":{"type":"Identifier","name":"stretchSpansOverChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"makeChangeFromHistory"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"allowSelectionOnly"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"suppress"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"suppressEdits"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"suppress"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"allowSelectionOnly"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hist"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"event"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"selAfter"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"source"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"undo","raw":"\"undo\""}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dest"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"undo","raw":"\"undo\""}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":null,"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"source"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"event"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"source"},"property":{"type":"Identifier","name":"i"}}}},{"type":"IfStatement","test":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"allowSelectionOnly"},"consequent":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ranges"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"equals"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}]},"prefix":true}},"alternate":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ranges"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"source"},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastOrigin"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"lastSelOrigin"}},"right":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"event"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"source"},"property":{"type":"Identifier","name":"pop"}},"arguments":[]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ranges"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"pushSelectionToHistory"},"arguments":[{"type":"Identifier","name":"event"},{"type":"Identifier","name":"dest"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"allowSelectionOnly"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"equals"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"event"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"clearRedo"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"selAfter"},"right":{"type":"Identifier","name":"event"}}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"suppress"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"source"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"event"}]}},{"type":"ReturnStatement","argument":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"antiChanges"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"pushSelectionToHistory"},"arguments":[{"type":"Identifier","name":"selAfter"},{"type":"Identifier","name":"dest"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dest"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"changes"},"computed":false,"value":{"type":"Identifier","name":"antiChanges"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"generation"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"generation"}},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"generation"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"generation"}},"right":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"maxGeneration"}},"prefix":true}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"filter"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Literal","value":"beforeChange","raw":"\"beforeChange\""}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Literal","value":"beforeChange","raw":"\"beforeChange\""}]}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loop"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"i"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"change"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"changes"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"right":{"type":"Identifier","name":"type"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"filter"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"filterChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Literal","value":false,"raw":"false"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"source"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"antiChanges"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"historyChangeFromChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"after"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"i"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"computeSelAfterChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"source"}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeSingleDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"after"},{"type":"CallExpression","callee":{"type":"Identifier","name":"mergeOldSpans"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"i"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"scrollIntoView"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeEnd"},"arguments":[{"type":"Identifier","name":"change"}]},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rebased"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"linkedDocs"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"sharedHist"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"sharedHist"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"rebased"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rebaseHist"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},{"type":"Identifier","name":"change"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rebased"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeSingleDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Literal","value":null,"raw":"null"},{"type":"CallExpression","callee":{"type":"Identifier","name":"mergeOldSpans"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"changes"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"returned"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"loop"},"arguments":[{"type":"Identifier","name":"i$1"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"returned"},"consequent":{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"returned"},"property":{"type":"Identifier","name":"v"}}},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"shiftDoc"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"distance"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"distance"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"Identifier","name":"distance"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Selection"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"map"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"distance"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}},"property":{"type":"Identifier","name":"ch"}}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"distance"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"ch"}}]}]}}]},"generator":false,"expression":false,"async":false}]},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"Identifier","name":"distance"}},{"type":"Identifier","name":"distance"}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"l"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"viewFrom"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"l"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"viewTo"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"l"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"l"},{"type":"Literal","value":"gutter","raw":"\"gutter\""}]}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"makeChangeSingleDoc"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"selAfter"},{"type":"Identifier","name":"spans"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"makeChangeSingleDoc"}]},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"selAfter"},{"type":"Identifier","name":"spans"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"shiftDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}}}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"shift"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"shiftDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"shift"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"change"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"Literal","value":0,"raw":"0"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"shift"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"ch"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}}]}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"last"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"change"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"last"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"last"}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Literal","value":0,"raw":"0"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"removed"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBetween"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"selAfter"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"selAfter"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"computeSelAfterChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeSingleDocInEditor"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"spans"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"spans"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionNoUndo"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"selAfter"},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"makeChangeSingleDocInEditor"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"spans"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"recomputeMaxLength"},"init":{"type":"Literal","value":false,"raw":"false"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"checkWidthStart"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"checkWidthStart"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}]}]}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"Identifier","name":"checkWidthStart"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLine"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"recomputeMaxLength"},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"contains"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalCursorActivity"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDoc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"change"},{"type":"Identifier","name":"spans"},{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateHeight"},"arguments":[{"type":"Identifier","name":"cm"}]}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"Identifier","name":"checkWidthStart"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"len"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineLength"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"len"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLineLength"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLine"}},"right":{"type":"Identifier","name":"line"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLineLength"}},"right":{"type":"Identifier","name":"len"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"recomputeMaxLength"},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"recomputeMaxLength"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"updateMaxLine"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"retreatFrontier"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startWorker"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":400,"raw":"400"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lendiff"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"full"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWholeLineUpdate"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"change"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":"text","raw":"\"text\""}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Identifier","name":"lendiff"}]}}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changesHandler"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"changes","raw":"\"changes\""}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changeHandler"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"change","raw":"\"change\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"changeHandler"},"right":{"type":"Identifier","name":"changesHandler"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"obj"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"from"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"to"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"removed"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"removed"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"origin"}},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"changeHandler"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"change","raw":"\"change\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"obj"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"changesHandler"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"changeObjs"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"changeObjs"}},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"obj"}]}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"selForContextMenu"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"replaceRange"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"code"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"origin"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"assign"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"to"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"from"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"to"},{"type":"Identifier","name":"from"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"SequenceExpression","expressions":[{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"assign"},"right":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"to"},{"type":"Identifier","name":"from"}]}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"assign"},"property":{"type":"Literal","value":0,"raw":"0"}}},{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"assign"},"property":{"type":"Literal","value":1,"raw":"1"}}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"code"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"code"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"splitLines"}},"arguments":[{"type":"Identifier","name":"code"}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"from"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"to"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"Identifier","name":"code"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Identifier","name":"origin"},"kind":"init","method":false,"shorthand":false}]}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"rebaseHistSelSingle"},"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"diff"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"diff"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"from"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"rebaseHistArray"},"params":[{"type":"Identifier","name":"array"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"diff"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sub"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ok"},"init":{"type":"Literal","value":true,"raw":"true"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"ranges"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"copied"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sub"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"deepCopy"}},"arguments":[]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"copied"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rebaseHistSelSingle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"j"}},"property":{"type":"Identifier","name":"anchor"}},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"diff"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rebaseHistSelSingle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"j"}},"property":{"type":"Identifier","name":"head"}},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"diff"}]}}]}},{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"changes"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sub"},"property":{"type":"Identifier","name":"changes"}},"property":{"type":"Identifier","name":"j$1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"diff"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"ch"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"diff"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"ch"}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ok"},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"BreakStatement","label":null}]},"alternate":null}}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ok"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"array"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"rebaseHist"},"params":[{"type":"Identifier","name":"hist"},{"type":"Identifier","name":"change"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"to"}},"property":{"type":"Identifier","name":"line"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"change"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"from"}}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rebaseHistArray"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"diff"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rebaseHistArray"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"diff"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"changeLine"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"changeType"},{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"no"},"init":{"type":"Identifier","name":"handle"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"Identifier","name":"handle"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"handle"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"handle"}]}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"no"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"handle"}]}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"no"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"op"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"no"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"no"},{"type":"Identifier","name":"changeType"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"line"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"LeafChunk"},"params":[{"type":"Identifier","name":"lines"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"right":{"type":"Identifier","name":"lines"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Identifier","name":"this$1"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"height"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"height"}}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"height"}}}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"LeafChunk"},"property":{"type":"Identifier","name":"prototype"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"chunkSize"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"removeInner"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Identifier","name":"at"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"e"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"n"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"e"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"cleanUpLine"},"arguments":[{"type":"Identifier","name":"line"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Literal","value":"delete","raw":"\"delete\""}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"n"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"collapse"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"lines"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"push"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"lines"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"insertInner"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"lines"},{"type":"Identifier","name":"height"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"height"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"at"}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"Identifier","name":"lines"}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"at"}]}]}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Identifier","name":"this$1"}}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"iterN"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"n"},{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"e"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"n"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"e"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"at"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"op"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"at"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"BranchChunk"},"params":[{"type":"Identifier","name":"children"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"right":{"type":"Identifier","name":"children"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"size"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"children"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"children"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"size"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ch"},"property":{"type":"Identifier","name":"chunkSize"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"height"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ch"},"property":{"type":"Identifier","name":"height"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ch"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Identifier","name":"this$1"}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}},"right":{"type":"Identifier","name":"size"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"height"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"BranchChunk"},"property":{"type":"Identifier","name":"prototype"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"chunkSize"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"removeInner"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}},"right":{"type":"Identifier","name":"n"}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"child"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sz"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"chunkSize"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"sz"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rm"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"n"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"sz"},"right":{"type":"Identifier","name":"at"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldHeight"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"height"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"removeInner"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"rm"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"oldHeight"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"height"}}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"sz"},"right":{"type":"Identifier","name":"rm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":false},{"type":"Literal","value":1,"raw":"1"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"rm"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"at"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"sz"}}}]}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}},"right":{"type":"Identifier","name":"n"}},"right":{"type":"Literal","value":25,"raw":"25"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Identifier","name":"LeafChunk"}},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lines"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"collapse"}},"arguments":[{"type":"Identifier","name":"lines"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"right":{"type":"ArrayExpression","elements":[{"type":"NewExpression","callee":{"type":"Identifier","name":"LeafChunk"},"arguments":[{"type":"Identifier","name":"lines"}]}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"ThisExpression"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"collapse"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"lines"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"collapse"}},"arguments":[{"type":"Identifier","name":"lines"}]}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"insertInner"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"lines"},{"type":"Identifier","name":"height"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"height"}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"child"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sz"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"chunkSize"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"sz"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"insertInner"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"lines"},{"type":"Identifier","name":"height"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"lines"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":50,"raw":"50"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"remaining"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"%","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":25,"raw":"25"}},"right":{"type":"Literal","value":25,"raw":"25"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Identifier","name":"remaining"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}},"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"leaf"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"LeafChunk"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"pos"},{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Literal","value":25,"raw":"25"}}]}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leaf"},"property":{"type":"Identifier","name":"height"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"leaf"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"leaf"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Identifier","name":"this$1"}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"lines"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"remaining"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"maybeSpill"}},"arguments":[]}}]},"alternate":null},{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"sz"}}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"maybeSpill"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":10,"raw":"10"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"me"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"DoWhileStatement","body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spilled"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":5,"raw":"5"}},{"type":"Literal","value":5,"raw":"5"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sibling"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"BranchChunk"},"arguments":[{"type":"Identifier","name":"spilled"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"parent"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"copy"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"BranchChunk"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"children"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Identifier","name":"me"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"children"}},"right":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"copy"},{"type":"Identifier","name":"sibling"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"me"},"right":{"type":"Identifier","name":"copy"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"size"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sibling"},"property":{"type":"Identifier","name":"size"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sibling"},"property":{"type":"Identifier","name":"height"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"myIndex"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"parent"}},"property":{"type":"Identifier","name":"children"}},{"type":"Identifier","name":"me"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"parent"}},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"myIndex"},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"sibling"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sibling"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"parent"}}}}]},"test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":10,"raw":"10"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"me"},"property":{"type":"Identifier","name":"parent"}},"property":{"type":"Identifier","name":"maybeSpill"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"iterN"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"n"},{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"child"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"children"}},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sz"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"chunkSize"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"sz"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"used"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"n"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"sz"},"right":{"type":"Identifier","name":"at"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"child"},"property":{"type":"Identifier","name":"iterN"}},"arguments":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"used"},{"type":"Identifier","name":"op"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"used"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"at"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"at"},"right":{"type":"Identifier","name":"sz"}}}]}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"LineWidget"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"options"},"consequent":{"type":"BlockStatement","body":[{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"opt"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"options"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"opt"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"opt"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"opt"}}}}]},"alternate":null}]},"each":false}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"right":{"type":"Identifier","name":"doc"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"Identifier","name":"node"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"LineWidget"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"clear"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ws"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}},"property":{"type":"Identifier","name":"widgets"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"no"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"no"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ws"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ws"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ws"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"this$1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ws"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":false},{"type":"Literal","value":1,"raw":"1"}]}}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ws"},"property":{"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetHeight"},"arguments":[{"type":"ThisExpression"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"height"}}]}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"adjustScrollWhenAboveVisible"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"height"},"prefix":true}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"no"},{"type":"Literal","value":"widget","raw":"\"widget\""}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"lineWidgetCleared","raw":"\"lineWidgetCleared\""},{"type":"Identifier","name":"cm"},{"type":"ThisExpression"},{"type":"Identifier","name":"no"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"LineWidget"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"changed"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldH"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetHeight"},"arguments":[{"type":"ThisExpression"}]},"right":{"type":"Identifier","name":"oldH"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"diff"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"line"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"diff"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceUpdate"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"adjustScrollWhenAboveVisible"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"diff"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"lineWidgetChanged","raw":"\"lineWidgetChanged\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"this$1"},{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}]}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventMixin"},"arguments":[{"type":"Identifier","name":"LineWidget"}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"adjustScrollWhenAboveVisible"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"diff"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"Identifier","name":"line"}]},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"scrollTop"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addToScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"diff"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addLineWidget"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widget"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"LineWidget"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"options"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cm"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"noHScroll"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"alignWidgets"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"handle"},{"type":"Literal","value":"widget","raw":"\"widget\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widgets"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"right":{"type":"ArrayExpression","elements":[]}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"insertAt"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widgets"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"widget"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widgets"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widgets"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"insertAt"}}]}]},{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"widget"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"line"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cm"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"aboveVisible"},"init":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"Identifier","name":"line"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"scrollTop"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetHeight"},"arguments":[{"type":"Identifier","name":"widget"}]}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"aboveVisible"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addToScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"height"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceUpdate"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"lineWidgetAdded","raw":"\"lineWidgetAdded\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"widget"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"handle"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"Identifier","name":"handle"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"handle"}]}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"widget"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextMarkerId"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"TextMarker"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Identifier","name":"type"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"right":{"type":"Identifier","name":"doc"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"id"}},"right":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"nextMarkerId"},"prefix":true}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextMarker"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"clear"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"explicitlyCleared"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"withOp"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cm"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"prefix":true}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"withOp"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"clear","raw":"\"clear\""}]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"find"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"found"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"clear","raw":"\"clear\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"to"}}]}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"min"},"init":{"type":"Literal","value":null,"raw":"null"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"max"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getMarkedSpanFor"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},{"type":"Identifier","name":"this$1"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cm"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"collapsed"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]},{"type":"Literal","value":"text","raw":"\"text\""}]}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"max"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"min"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}}]},"alternate":null}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeMarkedSpan"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},{"type":"Identifier","name":"span"}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"collapsed"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"line"}]},"prefix":true}},"right":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"CallExpression","callee":{"type":"Identifier","name":"textHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}]}}]},"alternate":null}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cm"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"collapsed"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visual"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"i$1"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"len"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineLength"},"arguments":[{"type":"Identifier","name":"visual"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"len"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"maxLineLength"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"maxLine"}},"right":{"type":"Identifier","name":"visual"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"maxLineLength"}},"right":{"type":"Identifier","name":"len"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"maxLineChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"min"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"Identifier","name":"cm"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"collapsed"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"min"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"max"},"right":{"type":"Literal","value":1,"raw":"1"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"explicitlyCleared"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"atomic"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cantEdit"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cantEdit"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"reCheckSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}]}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"markerCleared","raw":"\"markerCleared\""},{"type":"Identifier","name":"cm"},{"type":"ThisExpression"},{"type":"Identifier","name":"min"},{"type":"Identifier","name":"max"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"withOp"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"parent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"parent"}},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextMarker"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"find"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"side"},{"type":"Identifier","name":"lineObj"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"side"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"bookmark","raw":"\"bookmark\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"side"},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getMarkedSpanFor"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}},{"type":"Identifier","name":"this$1"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"ConditionalExpression","test":{"type":"Identifier","name":"lineObj"},"consequent":{"type":"Identifier","name":"line"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"side"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"from"}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"ConditionalExpression","test":{"type":"Identifier","name":"lineObj"},"consequent":{"type":"Identifier","name":"line"},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"side"},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"to"}}]},"alternate":null}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"from"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"from"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"to"},"kind":"init","method":false,"shorthand":false}]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextMarker"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"changed"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widget"},"init":{"type":"ThisExpression"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"pos"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"cm"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineN"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineN"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"view"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearLineMeasurementCacheFor"},"arguments":[{"type":"Identifier","name":"view"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"selectionChanged"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceUpdate"}},"right":{"type":"Literal","value":true,"raw":"true"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"updateMaxLine"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"line"}]},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldHeight"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"height"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dHeight"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"widgetHeight"},"arguments":[{"type":"Identifier","name":"widget"}]},"right":{"type":"Identifier","name":"oldHeight"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"dHeight"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Identifier","name":"dHeight"}}]}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"markerChanged","raw":"\"markerChanged\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"this$1"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextMarker"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"attachLine"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"op"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeHiddenMarkers"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeHiddenMarkers"}},{"type":"ThisExpression"}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeUnhiddenMarkers"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeUnhiddenMarkers"}},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ThisExpression"}]}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"line"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextMarker"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"detachLine"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},{"type":"Identifier","name":"line"}]},{"type":"Literal","value":1,"raw":"1"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lines"}},"property":{"type":"Identifier","name":"length"}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"op"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeHiddenMarkers"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"op"},"property":{"type":"Identifier","name":"maybeHiddenMarkers"}},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ThisExpression"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventMixin"},"arguments":[{"type":"Identifier","name":"TextMarker"}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"markText"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"options"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"shared"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"markTextShared"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"options"},{"type":"Identifier","name":"type"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"markText"}]},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"options"},{"type":"Identifier","name":"type"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"marker"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"TextMarker"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"type"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"diff"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"options"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyObj"},"arguments":[{"type":"Identifier","name":"options"},{"type":"Identifier","name":"marker"},{"type":"Literal","value":false,"raw":"false"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"diff"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"diff"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"!==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"clearWhenEmpty"}},"right":{"type":"Literal","value":false,"raw":"false"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"marker"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"replacedWith"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"collapsed"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"widgetNode"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"eltP"},"arguments":[{"type":"Literal","value":"span","raw":"\"span\""},{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"replacedWith"}}]},{"type":"Literal","value":"CodeMirror-widget","raw":"\"CodeMirror-widget\""}]}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"handleMouseEvents"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"widgetNode"}},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-ignore-events","raw":"\"cm-ignore-events\""},{"type":"Literal","value":"true","raw":"\"true\""}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"insertLeft"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"widgetNode"}},"property":{"type":"Identifier","name":"insertLeft"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"collapsed"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"conflictingCollapsedRange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"marker"}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"conflictingCollapsedRange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"marker"}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"Literal","value":"Inserting collapsed marker partially overlapping an existing one","raw":"\"Inserting collapsed marker partially overlapping an existing one\""}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"seeCollapsedSpans"},"arguments":[]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"addToHistory"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addChangeToHistory"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"from"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"to"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"markText","raw":"\"markText\""},"kind":"init","method":false,"shorthand":false}]},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},{"type":"Identifier","name":"NaN"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curLine"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"updateMaxLine"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"Identifier","name":"curLine"},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cm"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"collapsed"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"line"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"maxLine"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"updateMaxLine"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"collapsed"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"curLine"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addMarkedSpan"},"arguments":[{"type":"Identifier","name":"line"},{"type":"NewExpression","callee":{"type":"Identifier","name":"MarkedSpan"},"arguments":[{"type":"Identifier","name":"marker"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"curLine"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}},"alternate":{"type":"Literal","value":null,"raw":"null"}},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"curLine"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}},"alternate":{"type":"Literal","value":null,"raw":"null"}}]}]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"curLine"},"prefix":true}}]},"generator":false,"expression":false,"async":false}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"collapsed"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineIsHidden"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateLineHeight"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"clearOnEnter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"marker"},{"type":"Literal","value":"beforeCursorEnter","raw":"\"beforeCursorEnter\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"readOnly"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"seeReadOnlySpans"},"arguments":[]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"undone"}},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"clearHistory"}},"arguments":[]}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"collapsed"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"id"}},"right":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"nextMarkerId"},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"atomic"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"updateMaxLine"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"updateMaxLine"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"collapsed"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"className"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"title"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"startStyle"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"endStyle"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"css"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"i"},{"type":"Literal","value":"text","raw":"\"text\""}]}}]}}]},"alternate":null}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"atomic"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"reCheckSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"markerAdded","raw":"\"markerAdded\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"marker"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"marker"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"SharedTextMarker"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"markers"},{"type":"Identifier","name":"primary"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"markers"}},"right":{"type":"Identifier","name":"markers"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"primary"}},"right":{"type":"Identifier","name":"primary"}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Identifier","name":"this$1"}}}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"SharedTextMarker"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"clear"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"explicitlyCleared"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"explicitlyCleared"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"markers"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"markers"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"clear","raw":"\"clear\""}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"SharedTextMarker"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"find"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"side"},{"type":"Identifier","name":"lineObj"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"primary"}},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Identifier","name":"side"},{"type":"Identifier","name":"lineObj"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventMixin"},"arguments":[{"type":"Identifier","name":"SharedTextMarker"}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"markTextShared"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"options"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"options"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyObj"},"arguments":[{"type":"Identifier","name":"options"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"shared"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"markers"},"init":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"markText"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"options"},{"type":"Identifier","name":"type"}]}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"primary"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"widget"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"widgetNode"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"linkedDocs"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"widget"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"widgetNode"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"cloneNode"}},"arguments":[{"type":"Literal","value":true,"raw":"true"}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"markText"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"from"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"to"}]},{"type":"Identifier","name":"options"},{"type":"Identifier","name":"type"}]}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"linked"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"linked"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"isParent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"primary"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"markers"}]}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"SharedTextMarker"},"arguments":[{"type":"Identifier","name":"markers"},{"type":"Identifier","name":"primary"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findSharedMarkers"},"params":[{"type":"Identifier","name":"doc"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"findMarks"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"clipPos"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}]}]},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"m"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"m"},"property":{"type":"Identifier","name":"parent"}}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copySharedMarkers"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"markers"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"marker"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"find"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mFrom"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"clipPos"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"from"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mTo"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"clipPos"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"to"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"mFrom"},{"type":"Identifier","name":"mTo"}]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"subMark"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"markText"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"mFrom"},{"type":"Identifier","name":"mTo"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"primary"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"primary"}},"property":{"type":"Identifier","name":"type"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"markers"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"subMark"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"subMark"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Identifier","name":"marker"}}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"detachSharedMarkers"},"params":[{"type":"Identifier","name":"markers"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loop"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"i"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"marker"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"i"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"linked"},"init":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"primary"}},"property":{"type":"Identifier","name":"doc"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"linkedDocs"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"primary"}},"property":{"type":"Identifier","name":"doc"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"d"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"linked"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"d"}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"markers"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"subMarker"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"markers"}},"property":{"type":"Identifier","name":"j"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"linked"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"subMarker"},"property":{"type":"Identifier","name":"doc"}}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"subMarker"},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"markers"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"j"},"prefix":false},{"type":"Literal","value":1,"raw":"1"}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"loop"},"arguments":[{"type":"Identifier","name":"i"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextDocId"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Doc"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"firstLine"},{"type":"Identifier","name":"lineSep"},{"type":"Identifier","name":"direction"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"ThisExpression"},"right":{"type":"Identifier","name":"Doc"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Doc"},"arguments":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"firstLine"},{"type":"Identifier","name":"lineSep"},{"type":"Identifier","name":"direction"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"firstLine"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"firstLine"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"BranchChunk"},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"ThisExpression"},{"type":"ArrayExpression","elements":[{"type":"NewExpression","callee":{"type":"Identifier","name":"LeafChunk"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Line"},"arguments":[{"type":"Literal","value":"","raw":"\"\""},{"type":"Literal","value":null,"raw":"null"}]}]}]}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"Identifier","name":"firstLine"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cantEdit"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cleanGeneration"}},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"modeFrontier"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"highlightFrontier"}},"right":{"type":"Identifier","name":"firstLine"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"firstLine"},{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"start"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"History"},"arguments":[{"type":"Literal","value":null,"raw":"null"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"id"}},"right":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"nextDocId"},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"modeOption"}},"right":{"type":"Identifier","name":"mode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSep"}},"right":{"type":"Identifier","name":"lineSep"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"direction"},"right":{"type":"Literal","value":"rtl","raw":"\"rtl\""}},"consequent":{"type":"Literal","value":"rtl","raw":"\"rtl\""},"alternate":{"type":"Literal","value":"ltr","raw":"\"ltr\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"extend"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"text"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"text"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"splitLines"}},"arguments":[{"type":"Identifier","name":"text"}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateDoc"},"arguments":[{"type":"ThisExpression"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"start"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"start"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"Identifier","name":"text"},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"start"}]},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Doc"},"property":{"type":"Identifier","name":"prototype"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"createObj"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"BranchChunk"},"property":{"type":"Identifier","name":"prototype"}},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"constructor"},"computed":false,"value":{"type":"Identifier","name":"Doc"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"iter"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"op"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"op"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iterN"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}}},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"to"},"right":{"type":"Identifier","name":"from"}},{"type":"Identifier","name":"op"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iterN"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}},{"type":"Identifier","name":"from"}]}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"insert"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"lines"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"height"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"height"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"height"}}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"insertInner"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"at"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}}},{"type":"Identifier","name":"lines"},{"type":"Identifier","name":"height"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"remove"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"at"},{"type":"Identifier","name":"n"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"removeInner"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"at"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}}},{"type":"Identifier","name":"n"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getValue"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"lineSep"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lines"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLines"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"Literal","value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lines"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setValue"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"code"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},{"type":"Literal","value":0,"raw":"0"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChange"},"arguments":[{"type":"ThisExpression"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"last"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"last"}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"splitLines"}},"arguments":[{"type":"Identifier","name":"code"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"setValue","raw":"\"setValue\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"full"},"computed":false,"value":{"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false}]},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToCoords"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"top"}]},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"replaceRange"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"code"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"origin"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"from"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"to"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"to"}]},"alternate":{"type":"Identifier","name":"from"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceRange"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"code"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"origin"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getRange"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"lineSep"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lines"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBetween"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"from"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"to"}]}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"Literal","value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lines"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getLine"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"l"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getLineHandle"}},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"l"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"l"},"property":{"type":"Identifier","name":"text"}}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getLineHandle"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"line"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"line"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getLineNumber"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getLineHandleVisualStart"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"line"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"line"}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"line"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"lineCount"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"firstLine"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"lastLine"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"clipPos"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"pos"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getCursor"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"start"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":"head","raw":"\"head\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":"anchor","raw":"\"anchor\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"anchor"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":"end","raw":"\"end\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":"to","raw":"\"to\""}}},"right":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":false,"raw":"false"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}}}]}}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"listSelections"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"somethingSelected"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setCursor"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSimpleSelection"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"line"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":0,"raw":"0"}}]},"alternate":{"type":"Identifier","name":"line"}}]},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setSelection"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSimpleSelection"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"anchor"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"head"},"right":{"type":"Identifier","name":"anchor"}}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"extendSelection"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"head"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendSelection"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"head"}]},{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"other"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"other"}]}},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"extendSelections"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"heads"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendSelections"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPosArray"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"heads"}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"extendSelectionsBy"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"f"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"heads"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"map"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},{"type":"Identifier","name":"f"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendSelections"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPosArray"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"heads"}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setSelections"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ranges"},{"type":"Identifier","name":"primary"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"out"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"out"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"anchor"}}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"head"}}]}]}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"primary"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"primary"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"out"},{"type":"Identifier","name":"primary"}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"addSelection"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"anchor"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"head"},"right":{"type":"Identifier","name":"anchor"}}]}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"ranges"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getSelection"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"lineSep"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lines"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBetween"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"from"}},"arguments":[]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"to"}},"arguments":[]}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lines"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"lines"},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"Identifier","name":"sel"}]},"alternate":{"type":"Identifier","name":"sel"}}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"Literal","value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lines"}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lines"},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]}}]}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getSelections"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"lineSep"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"parts"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBetween"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"from"}},"arguments":[]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"to"}},"arguments":[]}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!==","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"Literal","value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sel"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"lineSep"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]}}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"parts"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"sel"}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"parts"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"replaceSelection"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"code"},{"type":"Identifier","name":"collapse"},{"type":"Identifier","name":"origin"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dup"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"dup"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"code"}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"replaceSelections"}},"arguments":[{"type":"Identifier","name":"dup"},{"type":"Identifier","name":"collapse"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"origin"},"right":{"type":"Literal","value":"+input","raw":"\"+input\""}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"replaceSelections"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"code"},{"type":"Identifier","name":"collapse"},{"type":"Identifier","name":"origin"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changes"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"changes"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"splitLines"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"code"},"property":{"type":"Identifier","name":"i"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Identifier","name":"origin"},"kind":"init","method":false,"shorthand":false}]}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newSel"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"collapse"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"collapse"},"right":{"type":"Literal","value":"end","raw":"\"end\""}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"computeReplacedSel"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"changes"},{"type":"Identifier","name":"collapse"}]}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"changes"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChange"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"changes"},"property":{"type":"Identifier","name":"i$1"}}]}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"newSel"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionReplaceHistory"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"newSel"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureCursorVisible"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}]}}]},"alternate":null}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"undo"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeFromHistory"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"undo","raw":"\"undo\""}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"redo"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeFromHistory"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"redo","raw":"\"redo\""}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"undoSelection"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeFromHistory"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"undo","raw":"\"undo\""},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"redoSelection"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChangeFromHistory"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"redo","raw":"\"redo\""},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setExtending"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"extend"}},"right":{"type":"Identifier","name":"val"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getExtending"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"extend"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"historySize"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hist"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"done"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"undone"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"ranges"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"done"},"prefix":true}}]},"alternate":null}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}},"property":{"type":"Identifier","name":"i$1"}},"property":{"type":"Identifier","name":"ranges"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"undone"},"prefix":true}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"undo"},"computed":false,"value":{"type":"Identifier","name":"done"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"redo"},"computed":false,"value":{"type":"Identifier","name":"undone"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"clearHistory"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"History"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"maxGeneration"}}]}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"markClean"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cleanGeneration"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"changeGeneration"}},"arguments":[{"type":"Literal","value":true,"raw":"true"}]}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"changeGeneration"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"forceSplit"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"forceSplit"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"lastOp"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"lastSelOp"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"lastOrigin"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"generation"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"isClean"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"gen"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"generation"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"gen"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cleanGeneration"}}}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getHistory"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"done"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyHistoryArray"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"done"}}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"undone"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyHistoryArray"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"undone"}}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setHistory"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"histData"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hist"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"History"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"maxGeneration"}}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"done"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyHistoryArray"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"histData"},"property":{"type":"Identifier","name":"done"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":true,"raw":"true"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hist"},"property":{"type":"Identifier","name":"undone"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyHistoryArray"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"histData"},"property":{"type":"Identifier","name":"undone"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":true,"raw":"true"}]}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setGutterMarker"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"gutterID"},{"type":"Identifier","name":"value"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"line"},{"type":"Literal","value":"gutter","raw":"\"gutter\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"markers"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"right":{"type":"ObjectExpression","properties":[]}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"gutterID"}},"right":{"type":"Identifier","name":"value"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"value"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"isEmpty"},"arguments":[{"type":"Identifier","name":"markers"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"clearGutter"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"gutterID"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"property":{"type":"Identifier","name":"gutterID"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeLine"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"Identifier","name":"line"},{"type":"Literal","value":"gutter","raw":"\"gutter\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"property":{"type":"Identifier","name":"gutterID"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isEmpty"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"lineInfo"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"line"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"line"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"n"},"right":{"type":"Identifier","name":"line"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"line"}]}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"line"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"n"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"line"},"computed":false,"value":{"type":"Identifier","name":"n"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"handle"},"computed":false,"value":{"type":"Identifier","name":"line"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"gutterMarkers"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"gutterMarkers"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"textClass"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"textClass"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bgClass"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"bgClass"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"wrapClass"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"wrapClass"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"widgets"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"addLineClass"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"where"},{"type":"Identifier","name":"cls"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"handle"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"gutter","raw":"\"gutter\""}},"consequent":{"type":"Literal","value":"gutter","raw":"\"gutter\""},"alternate":{"type":"Literal","value":"class","raw":"\"class\""}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"text","raw":"\"text\""}},"consequent":{"type":"Literal","value":"textClass","raw":"\"textClass\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"background","raw":"\"background\""}},"consequent":{"type":"Literal","value":"bgClass","raw":"\"bgClass\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"gutter","raw":"\"gutter\""}},"consequent":{"type":"Literal","value":"gutterClass","raw":"\"gutterClass\""},"alternate":{"type":"Literal","value":"wrapClass","raw":"\"wrapClass\""}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"prop"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"Identifier","name":"cls"}}}]},"alternate":{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"classTest"},"arguments":[{"type":"Identifier","name":"cls"}]},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"prop"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":" ","raw":"\" \""},"right":{"type":"Identifier","name":"cls"}}}}]}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"removeLineClass"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"where"},{"type":"Identifier","name":"cls"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"changeLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"handle"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"gutter","raw":"\"gutter\""}},"consequent":{"type":"Literal","value":"gutter","raw":"\"gutter\""},"alternate":{"type":"Literal","value":"class","raw":"\"class\""}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"text","raw":"\"text\""}},"consequent":{"type":"Literal","value":"textClass","raw":"\"textClass\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"background","raw":"\"background\""}},"consequent":{"type":"Literal","value":"bgClass","raw":"\"bgClass\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"where"},"right":{"type":"Literal","value":"gutter","raw":"\"gutter\""}},"consequent":{"type":"Literal","value":"gutterClass","raw":"\"gutterClass\""},"alternate":{"type":"Literal","value":"wrapClass","raw":"\"wrapClass\""}}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"prop"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"cur"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cls"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"classTest"},"arguments":[{"type":"Identifier","name":"cls"}]}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"found"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"index"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"found"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"length"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"index"}}]},"right":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"index"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"end"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"length"}}}},"consequent":{"type":"Literal","value":"","raw":"\"\""},"alternate":{"type":"Literal","value":" ","raw":"\" \""}}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"end"}]}},"right":{"type":"Literal","value":null,"raw":"null"}}}}]}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"addLineWidget"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"addLineWidget"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"removeLineWidget"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"widget"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"widget"},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"markText"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"markText"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"from"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"to"}]},{"type":"Identifier","name":"options"},{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"type"}}},"right":{"type":"Literal","value":"range","raw":"\"range\""}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setBookmark"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"realOpts"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"replacedWith"},"computed":false,"value":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"widget"}},"alternate":{"type":"Identifier","name":"options"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"insertLeft"},"computed":false,"value":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"insertLeft"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"clearWhenEmpty"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"shared"},"computed":false,"value":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"shared"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"handleMouseEvents"},"computed":false,"value":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"handleMouseEvents"}}},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"pos"}]}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"markText"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"realOpts"},{"type":"Literal","value":"bookmark","raw":"\"bookmark\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"findMarksAt"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"pos"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"markers"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spans"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"markedSpans"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"spans"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"markers"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"findMarks"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"filter"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"from"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"to"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineNo$$1"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spans"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"spans"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"span"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"spans"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"lineNo$$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"to"}}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"lineNo$$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"lineNo$$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}}}}},"prefix":true},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"filter"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"filter"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}},"property":{"type":"Identifier","name":"parent"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"span"},"property":{"type":"Identifier","name":"marker"}}}]}}]},"alternate":null}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"lineNo$$1"},"prefix":true}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"found"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getAllMarks"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"markers"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sps"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"markedSpans"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"sps"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"markers"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sps"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"marker"}}]}}]},"alternate":null}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"markers"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"posFromIndex"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"off"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineNo$$1"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sepSize"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sz"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"sepSize"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"sz"},"right":{"type":"Identifier","name":"off"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"off"}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"off"},"right":{"type":"Identifier","name":"sz"}}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"lineNo$$1"},"prefix":true}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"lineNo$$1"},{"type":"Identifier","name":"ch"}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"indexFromPos"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"coords"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"coords"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"coords"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"index"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"ch"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":0,"raw":"0"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sepSize"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"line"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"index"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"sepSize"}}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"index"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"copy"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"copyHistory"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"Doc"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getLines"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}}]},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"modeOption"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSep"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"direction"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"scrollTop"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"scrollLeft"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"sel"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"extend"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"copyHistory"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"undoDepth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"undoDepth"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"setHistory"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getHistory"}},"arguments":[]}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"doc"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"linkedDoc"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"options"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"options"},"right":{"type":"ObjectExpression","properties":[]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"size"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"from"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"from"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Identifier","name":"to"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"to"}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"copy"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"Doc"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getLines"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"}]},{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"mode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"modeOption"}}},{"type":"Identifier","name":"from"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSep"}},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"direction"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"sharedHist"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"history"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"linked"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"linked"}},"right":{"type":"ArrayExpression","elements":[]}}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"doc"},"computed":false,"value":{"type":"Identifier","name":"copy"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"sharedHist"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"sharedHist"}},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"linked"}},"right":{"type":"ArrayExpression","elements":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"doc"},"computed":false,"value":{"type":"ThisExpression"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"isParent"},"computed":false,"value":{"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"sharedHist"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"sharedHist"}},"kind":"init","method":false,"shorthand":false}]}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"copySharedMarkers"},"arguments":[{"type":"Identifier","name":"copy"},{"type":"CallExpression","callee":{"type":"Identifier","name":"findSharedMarkers"},"arguments":[{"type":"ThisExpression"}]}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"copy"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"unlinkDoc"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"other"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"Identifier","name":"other"},"right":{"type":"Identifier","name":"CodeMirror"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"other"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"doc"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"linked"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"linked"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"link"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"linked"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"link"},"property":{"type":"Identifier","name":"doc"}},"right":{"type":"Identifier","name":"other"}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"linked"}},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"i"},{"type":"Literal","value":1,"raw":"1"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"unlinkDoc"}},"arguments":[{"type":"Identifier","name":"this$1"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"detachSharedMarkers"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"findSharedMarkers"},"arguments":[{"type":"Identifier","name":"this$1"}]}]}},{"type":"BreakStatement","label":null}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"history"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"splitIds"},"init":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"id"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"linkedDocs"},"arguments":[{"type":"Identifier","name":"other"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"splitIds"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"id"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"history"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"History"},"arguments":[{"type":"Literal","value":null,"raw":"null"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"done"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyHistoryArray"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"done"}},{"type":"Identifier","name":"splitIds"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"undone"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyHistoryArray"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"undone"}},{"type":"Identifier","name":"splitIds"}]}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"iterLinkedDocs"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"linkedDocs"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"f"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getMode"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"mode"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getEditor"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"splitLines"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"str"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSep"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"str"},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSep"}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"splitLinesAuto"},"arguments":[{"type":"Identifier","name":"str"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"lineSeparator"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lineSep"}},"right":{"type":"Literal","value":"\n","raw":"\"\\n\""}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setDirection"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"docMethodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":"rtl","raw":"\"rtl\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dir"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"direction"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"Identifier","name":"dir"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"order"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"directionChanged"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false}]}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Doc"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"eachLine"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Doc"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"iter"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastDrop"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onDrop"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearDragCursor"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},{"type":"Identifier","name":"e"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"ie"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastDrop"},"right":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posFromMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"files"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"dataTransfer"}},"property":{"type":"Identifier","name":"files"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"pos"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"files"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"files"},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"FileReader"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"File"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"files"},"property":{"type":"Identifier","name":"length"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Array"},"arguments":[{"type":"Identifier","name":"n"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"read"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loadFile"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"file"},{"type":"Identifier","name":"i"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"allowDropFileTypes"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"allowDropFileTypes"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"file"},"property":{"type":"Identifier","name":"type"}}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"reader"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"FileReader"},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"reader"},"property":{"type":"Identifier","name":"onload"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"content"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"reader"},"property":{"type":"Identifier","name":"result"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/[\\x00-\\x08\\x0e-\\x1f]{2}/","regex":{"pattern":"[\\x00-\\x08\\x0e-\\x1f]{2}","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"content"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"content"},"right":{"type":"Literal","value":"","raw":"\"\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"content"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"read"},"prefix":true},"right":{"type":"Identifier","name":"n"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"change"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"pos"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"pos"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"splitLines"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]}]}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"paste","raw":"\"paste\""},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"change"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionReplaceHistory"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"CallExpression","callee":{"type":"Identifier","name":"changeEnd"},"arguments":[{"type":"Identifier","name":"change"}]}]}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"reader"},"property":{"type":"Identifier","name":"readAsText"}},"arguments":[{"type":"Identifier","name":"file"}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"n"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"loadFile"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"files"},"property":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"i"}]}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"draggingText"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"contains"}},"arguments":[{"type":"Identifier","name":"pos"}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"draggingText"}},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":20,"raw":"20"}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text$1"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"dataTransfer"}},"property":{"type":"Identifier","name":"getData"}},"arguments":[{"type":"Literal","value":"Text","raw":"\"Text\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"text$1"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"selected"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"draggingText"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"draggingText"}},"property":{"type":"Identifier","name":"copy"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"selected"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"listSelections"}},"arguments":[]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelectionNoUndo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"pos"}]}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"selected"},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"selected"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceRange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Literal","value":"","raw":"\"\""},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"selected"},"property":{"type":"Identifier","name":"i$1"}},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"selected"},"property":{"type":"Identifier","name":"i$1"}},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"drag","raw":"\"drag\""}]}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceSelection"}},"arguments":[{"type":"Identifier","name":"text$1"},{"type":"Literal","value":"around","raw":"\"around\""},{"type":"Literal","value":"paste","raw":"\"paste\""}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"alternate":null}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[]}},"finalizer":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onDragStart"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"draggingText"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true},"right":{"type":"Identifier","name":"lastDrop"}},"right":{"type":"Literal","value":100,"raw":"100"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_stop"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},{"type":"Identifier","name":"e"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"dataTransfer"}},"property":{"type":"Identifier","name":"setData"}},"arguments":[{"type":"Literal","value":"Text","raw":"\"Text\""},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"dataTransfer"}},"property":{"type":"Identifier","name":"effectAllowed"}},"right":{"type":"Literal","value":"copyMove","raw":"\"copyMove\""}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"dataTransfer"}},"property":{"type":"Identifier","name":"setDragImage"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"safari"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"img"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"img","raw":"\"img\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"position: fixed; left: 0; top: 0;","raw":"\"position: fixed; left: 0; top: 0;\""}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"img"},"property":{"type":"Identifier","name":"src"}},"right":{"type":"Literal","value":"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==","raw":"\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\""}}},{"type":"IfStatement","test":{"type":"Identifier","name":"presto"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"img"},"property":{"type":"Identifier","name":"width"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"img"},"property":{"type":"Identifier","name":"height"}},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"img"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"img"},"property":{"type":"Identifier","name":"_top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"img"},"property":{"type":"Identifier","name":"offsetTop"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"dataTransfer"}},"property":{"type":"Identifier","name":"setDragImage"}},"arguments":[{"type":"Identifier","name":"img"},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":0,"raw":"0"}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"presto"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"img"},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"Identifier","name":"img"}]}}]},"alternate":null}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onDragOver"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posFromMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"pos"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"frag"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"createDocumentFragment"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawSelectionCursor"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"frag"}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragCursor"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragCursor"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"CodeMirror-cursors CodeMirror-dragcursors","raw":"\"CodeMirror-cursors CodeMirror-dragcursors\""}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragCursor"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cursorDiv"}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragCursor"}},{"type":"Identifier","name":"frag"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clearDragCursor"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragCursor"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragCursor"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragCursor"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"forEachCodeMirror"},"params":[{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"getElementsByClassName"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"byClass"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"getElementsByClassName"}},"arguments":[{"type":"Literal","value":"CodeMirror","raw":"\"CodeMirror\""}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"byClass"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"byClass"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"CodeMirror"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"cm"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"f"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"globalsRegistered"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"ensureGlobalHandlers"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"globalsRegistered"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"registerGlobalHandlers"},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"globalsRegistered"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"registerGlobalHandlers"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"resizeTimer"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"window"},{"type":"Literal","value":"resize","raw":"\"resize\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"resizeTimer"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"resizeTimer"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"resizeTimer"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"forEachCodeMirror"},"arguments":[{"type":"Identifier","name":"onResize"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":100,"raw":"100"}]}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"window"},{"type":"Literal","value":"blur","raw":"\"blur\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"forEachCodeMirror"},"arguments":[{"type":"Identifier","name":"onBlur"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onResize"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cachedCharWidth"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cachedTextHeight"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"cachedPaddingH"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scrollbarsClipped"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setSize"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyNames"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Literal","value":3,"raw":"3"},"computed":false,"value":{"type":"Literal","value":"Pause","raw":"\"Pause\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":8,"raw":"8"},"computed":false,"value":{"type":"Literal","value":"Backspace","raw":"\"Backspace\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":9,"raw":"9"},"computed":false,"value":{"type":"Literal","value":"Tab","raw":"\"Tab\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":13,"raw":"13"},"computed":false,"value":{"type":"Literal","value":"Enter","raw":"\"Enter\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":16,"raw":"16"},"computed":false,"value":{"type":"Literal","value":"Shift","raw":"\"Shift\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":17,"raw":"17"},"computed":false,"value":{"type":"Literal","value":"Ctrl","raw":"\"Ctrl\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":18,"raw":"18"},"computed":false,"value":{"type":"Literal","value":"Alt","raw":"\"Alt\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":19,"raw":"19"},"computed":false,"value":{"type":"Literal","value":"Pause","raw":"\"Pause\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":20,"raw":"20"},"computed":false,"value":{"type":"Literal","value":"CapsLock","raw":"\"CapsLock\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":27,"raw":"27"},"computed":false,"value":{"type":"Literal","value":"Esc","raw":"\"Esc\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":32,"raw":"32"},"computed":false,"value":{"type":"Literal","value":"Space","raw":"\"Space\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":33,"raw":"33"},"computed":false,"value":{"type":"Literal","value":"PageUp","raw":"\"PageUp\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":34,"raw":"34"},"computed":false,"value":{"type":"Literal","value":"PageDown","raw":"\"PageDown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":35,"raw":"35"},"computed":false,"value":{"type":"Literal","value":"End","raw":"\"End\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":36,"raw":"36"},"computed":false,"value":{"type":"Literal","value":"Home","raw":"\"Home\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":37,"raw":"37"},"computed":false,"value":{"type":"Literal","value":"Left","raw":"\"Left\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":38,"raw":"38"},"computed":false,"value":{"type":"Literal","value":"Up","raw":"\"Up\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":39,"raw":"39"},"computed":false,"value":{"type":"Literal","value":"Right","raw":"\"Right\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":40,"raw":"40"},"computed":false,"value":{"type":"Literal","value":"Down","raw":"\"Down\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":44,"raw":"44"},"computed":false,"value":{"type":"Literal","value":"PrintScrn","raw":"\"PrintScrn\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":45,"raw":"45"},"computed":false,"value":{"type":"Literal","value":"Insert","raw":"\"Insert\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":46,"raw":"46"},"computed":false,"value":{"type":"Literal","value":"Delete","raw":"\"Delete\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":59,"raw":"59"},"computed":false,"value":{"type":"Literal","value":";","raw":"\";\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":61,"raw":"61"},"computed":false,"value":{"type":"Literal","value":"=","raw":"\"=\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":91,"raw":"91"},"computed":false,"value":{"type":"Literal","value":"Mod","raw":"\"Mod\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":92,"raw":"92"},"computed":false,"value":{"type":"Literal","value":"Mod","raw":"\"Mod\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":93,"raw":"93"},"computed":false,"value":{"type":"Literal","value":"Mod","raw":"\"Mod\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":106,"raw":"106"},"computed":false,"value":{"type":"Literal","value":"*","raw":"\"*\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":107,"raw":"107"},"computed":false,"value":{"type":"Literal","value":"=","raw":"\"=\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":109,"raw":"109"},"computed":false,"value":{"type":"Literal","value":"-","raw":"\"-\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":110,"raw":"110"},"computed":false,"value":{"type":"Literal","value":".","raw":"\".\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":111,"raw":"111"},"computed":false,"value":{"type":"Literal","value":"/","raw":"\"/\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":127,"raw":"127"},"computed":false,"value":{"type":"Literal","value":"Delete","raw":"\"Delete\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":145,"raw":"145"},"computed":false,"value":{"type":"Literal","value":"ScrollLock","raw":"\"ScrollLock\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":173,"raw":"173"},"computed":false,"value":{"type":"Literal","value":"-","raw":"\"-\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":186,"raw":"186"},"computed":false,"value":{"type":"Literal","value":";","raw":"\";\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":187,"raw":"187"},"computed":false,"value":{"type":"Literal","value":"=","raw":"\"=\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":188,"raw":"188"},"computed":false,"value":{"type":"Literal","value":",","raw":"\",\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":189,"raw":"189"},"computed":false,"value":{"type":"Literal","value":"-","raw":"\"-\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":190,"raw":"190"},"computed":false,"value":{"type":"Literal","value":".","raw":"\".\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":191,"raw":"191"},"computed":false,"value":{"type":"Literal","value":"/","raw":"\"/\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":192,"raw":"192"},"computed":false,"value":{"type":"Literal","value":"`","raw":"\"`\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":219,"raw":"219"},"computed":false,"value":{"type":"Literal","value":"[","raw":"\"[\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":220,"raw":"220"},"computed":false,"value":{"type":"Literal","value":"\\","raw":"\"\\\\\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":221,"raw":"221"},"computed":false,"value":{"type":"Literal","value":"]","raw":"\"]\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":222,"raw":"222"},"computed":false,"value":{"type":"Literal","value":"'","raw":"\"'\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63232,"raw":"63232"},"computed":false,"value":{"type":"Literal","value":"Up","raw":"\"Up\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63233,"raw":"63233"},"computed":false,"value":{"type":"Literal","value":"Down","raw":"\"Down\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63234,"raw":"63234"},"computed":false,"value":{"type":"Literal","value":"Left","raw":"\"Left\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63235,"raw":"63235"},"computed":false,"value":{"type":"Literal","value":"Right","raw":"\"Right\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63272,"raw":"63272"},"computed":false,"value":{"type":"Literal","value":"Delete","raw":"\"Delete\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63273,"raw":"63273"},"computed":false,"value":{"type":"Literal","value":"Home","raw":"\"Home\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63275,"raw":"63275"},"computed":false,"value":{"type":"Literal","value":"End","raw":"\"End\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63276,"raw":"63276"},"computed":false,"value":{"type":"Literal","value":"PageUp","raw":"\"PageUp\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63277,"raw":"63277"},"computed":false,"value":{"type":"Literal","value":"PageDown","raw":"\"PageDown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":63302,"raw":"63302"},"computed":false,"value":{"type":"Literal","value":"Insert","raw":"\"Insert\""},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":10,"raw":"10"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyNames"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":48,"raw":"48"}}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyNames"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":96,"raw":"96"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"String"},"arguments":[{"type":"Identifier","name":"i"}]}}}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":65,"raw":"65"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":90,"raw":"90"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyNames"},"property":{"type":"Identifier","name":"i$1"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"String"},"property":{"type":"Identifier","name":"fromCharCode"}},"arguments":[{"type":"Identifier","name":"i$1"}]}}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$2"},"init":{"type":"Literal","value":1,"raw":"1"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"i$2"},"right":{"type":"Literal","value":12,"raw":"12"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$2"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyNames"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i$2"},"right":{"type":"Literal","value":111,"raw":"111"}}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyNames"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i$2"},"right":{"type":"Literal","value":63235,"raw":"63235"}}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"F","raw":"\"F\""},"right":{"type":"Identifier","name":"i$2"}}}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyMap"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Identifier","name":"basic"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Literal","value":"Left","raw":"\"Left\""},"computed":false,"value":{"type":"Literal","value":"goCharLeft","raw":"\"goCharLeft\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Right","raw":"\"Right\""},"computed":false,"value":{"type":"Literal","value":"goCharRight","raw":"\"goCharRight\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Up","raw":"\"Up\""},"computed":false,"value":{"type":"Literal","value":"goLineUp","raw":"\"goLineUp\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Down","raw":"\"Down\""},"computed":false,"value":{"type":"Literal","value":"goLineDown","raw":"\"goLineDown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"End","raw":"\"End\""},"computed":false,"value":{"type":"Literal","value":"goLineEnd","raw":"\"goLineEnd\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Home","raw":"\"Home\""},"computed":false,"value":{"type":"Literal","value":"goLineStartSmart","raw":"\"goLineStartSmart\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"PageUp","raw":"\"PageUp\""},"computed":false,"value":{"type":"Literal","value":"goPageUp","raw":"\"goPageUp\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"PageDown","raw":"\"PageDown\""},"computed":false,"value":{"type":"Literal","value":"goPageDown","raw":"\"goPageDown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Delete","raw":"\"Delete\""},"computed":false,"value":{"type":"Literal","value":"delCharAfter","raw":"\"delCharAfter\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Backspace","raw":"\"Backspace\""},"computed":false,"value":{"type":"Literal","value":"delCharBefore","raw":"\"delCharBefore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Backspace","raw":"\"Shift-Backspace\""},"computed":false,"value":{"type":"Literal","value":"delCharBefore","raw":"\"delCharBefore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Tab","raw":"\"Tab\""},"computed":false,"value":{"type":"Literal","value":"defaultTab","raw":"\"defaultTab\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Tab","raw":"\"Shift-Tab\""},"computed":false,"value":{"type":"Literal","value":"indentAuto","raw":"\"indentAuto\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Enter","raw":"\"Enter\""},"computed":false,"value":{"type":"Literal","value":"newlineAndIndent","raw":"\"newlineAndIndent\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Insert","raw":"\"Insert\""},"computed":false,"value":{"type":"Literal","value":"toggleOverwrite","raw":"\"toggleOverwrite\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Esc","raw":"\"Esc\""},"computed":false,"value":{"type":"Literal","value":"singleSelection","raw":"\"singleSelection\""},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Identifier","name":"pcDefault"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Literal","value":"Ctrl-A","raw":"\"Ctrl-A\""},"computed":false,"value":{"type":"Literal","value":"selectAll","raw":"\"selectAll\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-D","raw":"\"Ctrl-D\""},"computed":false,"value":{"type":"Literal","value":"deleteLine","raw":"\"deleteLine\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Z","raw":"\"Ctrl-Z\""},"computed":false,"value":{"type":"Literal","value":"undo","raw":"\"undo\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Ctrl-Z","raw":"\"Shift-Ctrl-Z\""},"computed":false,"value":{"type":"Literal","value":"redo","raw":"\"redo\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Y","raw":"\"Ctrl-Y\""},"computed":false,"value":{"type":"Literal","value":"redo","raw":"\"redo\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Home","raw":"\"Ctrl-Home\""},"computed":false,"value":{"type":"Literal","value":"goDocStart","raw":"\"goDocStart\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-End","raw":"\"Ctrl-End\""},"computed":false,"value":{"type":"Literal","value":"goDocEnd","raw":"\"goDocEnd\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Up","raw":"\"Ctrl-Up\""},"computed":false,"value":{"type":"Literal","value":"goLineUp","raw":"\"goLineUp\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Down","raw":"\"Ctrl-Down\""},"computed":false,"value":{"type":"Literal","value":"goLineDown","raw":"\"goLineDown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Left","raw":"\"Ctrl-Left\""},"computed":false,"value":{"type":"Literal","value":"goGroupLeft","raw":"\"goGroupLeft\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Right","raw":"\"Ctrl-Right\""},"computed":false,"value":{"type":"Literal","value":"goGroupRight","raw":"\"goGroupRight\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-Left","raw":"\"Alt-Left\""},"computed":false,"value":{"type":"Literal","value":"goLineStart","raw":"\"goLineStart\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-Right","raw":"\"Alt-Right\""},"computed":false,"value":{"type":"Literal","value":"goLineEnd","raw":"\"goLineEnd\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Backspace","raw":"\"Ctrl-Backspace\""},"computed":false,"value":{"type":"Literal","value":"delGroupBefore","raw":"\"delGroupBefore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Delete","raw":"\"Ctrl-Delete\""},"computed":false,"value":{"type":"Literal","value":"delGroupAfter","raw":"\"delGroupAfter\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-S","raw":"\"Ctrl-S\""},"computed":false,"value":{"type":"Literal","value":"save","raw":"\"save\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-F","raw":"\"Ctrl-F\""},"computed":false,"value":{"type":"Literal","value":"find","raw":"\"find\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-G","raw":"\"Ctrl-G\""},"computed":false,"value":{"type":"Literal","value":"findNext","raw":"\"findNext\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Ctrl-G","raw":"\"Shift-Ctrl-G\""},"computed":false,"value":{"type":"Literal","value":"findPrev","raw":"\"findPrev\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Ctrl-F","raw":"\"Shift-Ctrl-F\""},"computed":false,"value":{"type":"Literal","value":"replace","raw":"\"replace\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Ctrl-R","raw":"\"Shift-Ctrl-R\""},"computed":false,"value":{"type":"Literal","value":"replaceAll","raw":"\"replaceAll\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-[","raw":"\"Ctrl-[\""},"computed":false,"value":{"type":"Literal","value":"indentLess","raw":"\"indentLess\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-]","raw":"\"Ctrl-]\""},"computed":false,"value":{"type":"Literal","value":"indentMore","raw":"\"indentMore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-U","raw":"\"Ctrl-U\""},"computed":false,"value":{"type":"Literal","value":"undoSelection","raw":"\"undoSelection\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Ctrl-U","raw":"\"Shift-Ctrl-U\""},"computed":false,"value":{"type":"Literal","value":"redoSelection","raw":"\"redoSelection\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-U","raw":"\"Alt-U\""},"computed":false,"value":{"type":"Literal","value":"redoSelection","raw":"\"redoSelection\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"fallthrough","raw":"\"fallthrough\""},"computed":false,"value":{"type":"Literal","value":"basic","raw":"\"basic\""},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Identifier","name":"emacsy"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Literal","value":"Ctrl-F","raw":"\"Ctrl-F\""},"computed":false,"value":{"type":"Literal","value":"goCharRight","raw":"\"goCharRight\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-B","raw":"\"Ctrl-B\""},"computed":false,"value":{"type":"Literal","value":"goCharLeft","raw":"\"goCharLeft\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-P","raw":"\"Ctrl-P\""},"computed":false,"value":{"type":"Literal","value":"goLineUp","raw":"\"goLineUp\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-N","raw":"\"Ctrl-N\""},"computed":false,"value":{"type":"Literal","value":"goLineDown","raw":"\"goLineDown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-F","raw":"\"Alt-F\""},"computed":false,"value":{"type":"Literal","value":"goWordRight","raw":"\"goWordRight\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-B","raw":"\"Alt-B\""},"computed":false,"value":{"type":"Literal","value":"goWordLeft","raw":"\"goWordLeft\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-A","raw":"\"Ctrl-A\""},"computed":false,"value":{"type":"Literal","value":"goLineStart","raw":"\"goLineStart\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-E","raw":"\"Ctrl-E\""},"computed":false,"value":{"type":"Literal","value":"goLineEnd","raw":"\"goLineEnd\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-V","raw":"\"Ctrl-V\""},"computed":false,"value":{"type":"Literal","value":"goPageDown","raw":"\"goPageDown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Ctrl-V","raw":"\"Shift-Ctrl-V\""},"computed":false,"value":{"type":"Literal","value":"goPageUp","raw":"\"goPageUp\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-D","raw":"\"Ctrl-D\""},"computed":false,"value":{"type":"Literal","value":"delCharAfter","raw":"\"delCharAfter\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-H","raw":"\"Ctrl-H\""},"computed":false,"value":{"type":"Literal","value":"delCharBefore","raw":"\"delCharBefore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-D","raw":"\"Alt-D\""},"computed":false,"value":{"type":"Literal","value":"delWordAfter","raw":"\"delWordAfter\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-Backspace","raw":"\"Alt-Backspace\""},"computed":false,"value":{"type":"Literal","value":"delWordBefore","raw":"\"delWordBefore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-K","raw":"\"Ctrl-K\""},"computed":false,"value":{"type":"Literal","value":"killLine","raw":"\"killLine\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-T","raw":"\"Ctrl-T\""},"computed":false,"value":{"type":"Literal","value":"transposeChars","raw":"\"transposeChars\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-O","raw":"\"Ctrl-O\""},"computed":false,"value":{"type":"Literal","value":"openLine","raw":"\"openLine\""},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Identifier","name":"macDefault"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Literal","value":"Cmd-A","raw":"\"Cmd-A\""},"computed":false,"value":{"type":"Literal","value":"selectAll","raw":"\"selectAll\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-D","raw":"\"Cmd-D\""},"computed":false,"value":{"type":"Literal","value":"deleteLine","raw":"\"deleteLine\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Z","raw":"\"Cmd-Z\""},"computed":false,"value":{"type":"Literal","value":"undo","raw":"\"undo\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Cmd-Z","raw":"\"Shift-Cmd-Z\""},"computed":false,"value":{"type":"Literal","value":"redo","raw":"\"redo\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Y","raw":"\"Cmd-Y\""},"computed":false,"value":{"type":"Literal","value":"redo","raw":"\"redo\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Home","raw":"\"Cmd-Home\""},"computed":false,"value":{"type":"Literal","value":"goDocStart","raw":"\"goDocStart\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Up","raw":"\"Cmd-Up\""},"computed":false,"value":{"type":"Literal","value":"goDocStart","raw":"\"goDocStart\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-End","raw":"\"Cmd-End\""},"computed":false,"value":{"type":"Literal","value":"goDocEnd","raw":"\"goDocEnd\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Down","raw":"\"Cmd-Down\""},"computed":false,"value":{"type":"Literal","value":"goDocEnd","raw":"\"goDocEnd\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-Left","raw":"\"Alt-Left\""},"computed":false,"value":{"type":"Literal","value":"goGroupLeft","raw":"\"goGroupLeft\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-Right","raw":"\"Alt-Right\""},"computed":false,"value":{"type":"Literal","value":"goGroupRight","raw":"\"goGroupRight\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Left","raw":"\"Cmd-Left\""},"computed":false,"value":{"type":"Literal","value":"goLineLeft","raw":"\"goLineLeft\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Right","raw":"\"Cmd-Right\""},"computed":false,"value":{"type":"Literal","value":"goLineRight","raw":"\"goLineRight\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-Backspace","raw":"\"Alt-Backspace\""},"computed":false,"value":{"type":"Literal","value":"delGroupBefore","raw":"\"delGroupBefore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Alt-Backspace","raw":"\"Ctrl-Alt-Backspace\""},"computed":false,"value":{"type":"Literal","value":"delGroupAfter","raw":"\"delGroupAfter\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Alt-Delete","raw":"\"Alt-Delete\""},"computed":false,"value":{"type":"Literal","value":"delGroupAfter","raw":"\"delGroupAfter\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-S","raw":"\"Cmd-S\""},"computed":false,"value":{"type":"Literal","value":"save","raw":"\"save\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-F","raw":"\"Cmd-F\""},"computed":false,"value":{"type":"Literal","value":"find","raw":"\"find\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-G","raw":"\"Cmd-G\""},"computed":false,"value":{"type":"Literal","value":"findNext","raw":"\"findNext\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Cmd-G","raw":"\"Shift-Cmd-G\""},"computed":false,"value":{"type":"Literal","value":"findPrev","raw":"\"findPrev\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Alt-F","raw":"\"Cmd-Alt-F\""},"computed":false,"value":{"type":"Literal","value":"replace","raw":"\"replace\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Cmd-Alt-F","raw":"\"Shift-Cmd-Alt-F\""},"computed":false,"value":{"type":"Literal","value":"replaceAll","raw":"\"replaceAll\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-[","raw":"\"Cmd-[\""},"computed":false,"value":{"type":"Literal","value":"indentLess","raw":"\"indentLess\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-]","raw":"\"Cmd-]\""},"computed":false,"value":{"type":"Literal","value":"indentMore","raw":"\"indentMore\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Backspace","raw":"\"Cmd-Backspace\""},"computed":false,"value":{"type":"Literal","value":"delWrappedLineLeft","raw":"\"delWrappedLineLeft\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-Delete","raw":"\"Cmd-Delete\""},"computed":false,"value":{"type":"Literal","value":"delWrappedLineRight","raw":"\"delWrappedLineRight\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Cmd-U","raw":"\"Cmd-U\""},"computed":false,"value":{"type":"Literal","value":"undoSelection","raw":"\"undoSelection\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Shift-Cmd-U","raw":"\"Shift-Cmd-U\""},"computed":false,"value":{"type":"Literal","value":"redoSelection","raw":"\"redoSelection\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Up","raw":"\"Ctrl-Up\""},"computed":false,"value":{"type":"Literal","value":"goDocStart","raw":"\"goDocStart\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"Ctrl-Down","raw":"\"Ctrl-Down\""},"computed":false,"value":{"type":"Literal","value":"goDocEnd","raw":"\"goDocEnd\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"fallthrough","raw":"\"fallthrough\""},"computed":false,"value":{"type":"ArrayExpression","elements":[{"type":"Literal","value":"basic","raw":"\"basic\""},{"type":"Literal","value":"emacsy","raw":"\"emacsy\""}]},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Literal","value":"default","raw":"\"default\""}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"mac"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Identifier","name":"macDefault"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Identifier","name":"pcDefault"}}}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"normalizeKeyName"},"params":[{"type":"Identifier","name":"name"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"parts"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"name"},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"Literal","raw":"/-(?!$)/","regex":{"pattern":"-(?!$)","flags":""}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"parts"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parts"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alt"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ctrl"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"shift"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cmd"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"parts"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mod"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"parts"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^(cmd|meta|m)$/i","regex":{"pattern":"^(cmd|meta|m)$","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"mod"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cmd"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^a(lt)?$/i","regex":{"pattern":"^a(lt)?$","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"mod"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"alt"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^(c|ctrl|control)$/i","regex":{"pattern":"^(c|ctrl|control)$","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"mod"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ctrl"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^s(hift)?$/i","regex":{"pattern":"^s(hift)?$","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"mod"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"shift"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Unrecognized modifier name: ","raw":"\"Unrecognized modifier name: \""},"right":{"type":"Identifier","name":"mod"}}]}}]}}}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"alt"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Alt-","raw":"\"Alt-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"ctrl"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Ctrl-","raw":"\"Ctrl-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"cmd"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Cmd-","raw":"\"Cmd-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"shift"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Shift-","raw":"\"Shift-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"name"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"normalizeKeyMap"},"params":[{"type":"Identifier","name":"keymap"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"copy"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyname"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"keymap"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keymap"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"keyname"}]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"value"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keymap"},"property":{"type":"Identifier","name":"keyname"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^(name|fallthrough|(de|at)tach)$/","regex":{"pattern":"^(name|fallthrough|(de|at)tach)$","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"keyname"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"value"},"right":{"type":"Literal","value":"...","raw":"\"...\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UnaryExpression","operator":"delete","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keymap"},"property":{"type":"Identifier","name":"keyname"}},"prefix":true}},{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keys"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"map"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keyname"},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"Literal","value":" ","raw":"\" \""}]},{"type":"Identifier","name":"normalizeKeyName"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keys"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"val"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"name"},"init":{"type":"UnaryExpression","operator":"void","argument":{"type":"Literal","value":0,"raw":"0"},"prefix":true}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keys"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keys"},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":" ","raw":"\" \""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"val"},"right":{"type":"Identifier","name":"value"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"keys"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}]},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":" ","raw":"\" \""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"val"},"right":{"type":"Literal","value":"...","raw":"\"...\""}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prev"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"name"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"prev"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"val"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"prev"},"right":{"type":"Identifier","name":"val"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Inconsistent bindings for ","raw":"\"Inconsistent bindings for \""},"right":{"type":"Identifier","name":"name"}}]}}]},"alternate":null}}]}},{"type":"ExpressionStatement","expression":{"type":"UnaryExpression","operator":"delete","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keymap"},"property":{"type":"Identifier","name":"keyname"}},"prefix":true}}]},"alternate":null}]},"each":false},{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"copy"},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keymap"},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"copy"},"property":{"type":"Identifier","name":"prop"}}}}]},"each":false},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"keymap"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lookupKey"},"params":[{"type":"Identifier","name":"key"},{"type":"Identifier","name":"map$$1"},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"context"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"map$$1"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getKeyMap"},"arguments":[{"type":"Identifier","name":"map$$1"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"call"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"key"},{"type":"Identifier","name":"context"}]},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"key"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"found"},"right":{"type":"Literal","value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"nothing","raw":"\"nothing\""}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"Identifier","name":"found"},"right":{"type":"Literal","value":"...","raw":"\"...\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"multi","raw":"\"multi\""}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"found"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"handle"},"arguments":[{"type":"Identifier","name":"found"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"handled","raw":"\"handled\""}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"fallthrough"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Object"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"toString"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"fallthrough"}}]},"right":{"type":"Literal","value":"[object Array]","raw":"\"[object Array]\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lookupKey"},"arguments":[{"type":"Identifier","name":"key"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"fallthrough"}},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"context"}]}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"fallthrough"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lookupKey"},"arguments":[{"type":"Identifier","name":"key"},{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"fallthrough"}},"property":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"context"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"result"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"alternate":null}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isModifierKey"},"params":[{"type":"Identifier","name":"value"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"name"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"value"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"Identifier","name":"value"},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyNames"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"keyCode"}}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"Literal","value":"Ctrl","raw":"\"Ctrl\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"Literal","value":"Alt","raw":"\"Alt\""}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"Literal","value":"Shift","raw":"\"Shift\""}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"Literal","value":"Mod","raw":"\"Mod\""}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addModifierNames"},"params":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"event"},{"type":"Identifier","name":"noShift"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"base"},"init":{"type":"Identifier","name":"name"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"altKey"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"base"},"right":{"type":"Literal","value":"Alt","raw":"\"Alt\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Alt-","raw":"\"Alt-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"flipCtrlCmd"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"metaKey"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ctrlKey"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"base"},"right":{"type":"Literal","value":"Ctrl","raw":"\"Ctrl\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Ctrl-","raw":"\"Ctrl-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"flipCtrlCmd"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ctrlKey"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"metaKey"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"base"},"right":{"type":"Literal","value":"Cmd","raw":"\"Cmd\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Cmd-","raw":"\"Cmd-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"noShift"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"shiftKey"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"base"},"right":{"type":"Literal","value":"Shift","raw":"\"Shift\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Shift-","raw":"\"Shift-\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"name"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"keyName"},"params":[{"type":"Identifier","name":"event"},{"type":"Identifier","name":"noShift"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"presto"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"keyCode"}},"right":{"type":"Literal","value":34,"raw":"34"}}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"event"},"property":{"type":"Literal","value":"char","raw":"\"char\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"name"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyNames"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"keyCode"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"altGraphKey"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"keyCode"}},"right":{"type":"Literal","value":3,"raw":"3"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"code"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"code"}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"addModifierNames"},"arguments":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"event"},{"type":"Identifier","name":"noShift"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getKeyMap"},"params":[{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"val"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"keyMap"},"property":{"type":"Identifier","name":"val"}},"alternate":{"type":"Identifier","name":"val"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"deleteNearSelection"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"compute"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"kill"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toKill"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"compute"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}}]}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"kill"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toKill"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"kill"}]},"property":{"type":"Identifier","name":"to"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"replaced"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"kill"},"property":{"type":"Identifier","name":"pop"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"replaced"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toKill"},"property":{"type":"Identifier","name":"from"}}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"toKill"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"replaced"},"property":{"type":"Identifier","name":"from"}}}},{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"kill"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"toKill"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"kill"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceRange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Literal","value":"","raw":"\"\""},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"kill"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"kill"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"to"}},{"type":"Literal","value":"+delete","raw":"\"+delete\""}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureCursorVisible"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"moveCharLogically"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"target"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipExtendingChars"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"ch"},"right":{"type":"Identifier","name":"dir"}},{"type":"Identifier","name":"dir"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"target"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"target"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"Identifier","name":"target"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"moveLogically"},"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveCharLogically"},"arguments":[{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}},{"type":"Identifier","name":"dir"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"ch"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":"after","raw":"\"after\""},"alternate":{"type":"Literal","value":"before","raw":"\"before\""}}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"endOfLine"},"params":[{"type":"Identifier","name":"visually"},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"lineNo"},{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"visually"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"lineObj"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"order"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"order"}]},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Literal","value":0,"raw":"0"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"moveInStorageOrder"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sticky"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"moveInStorageOrder"},"consequent":{"type":"Literal","value":"after","raw":"\"after\""},"alternate":{"type":"Literal","value":"before","raw":"\"before\""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"Literal","value":"rtl","raw":"\"rtl\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prep"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareMeasureForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineObj"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"targetTop"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"prep"},{"type":"Identifier","name":"ch"}]},"property":{"type":"Identifier","name":"top"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"findFirst"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"measureCharPrepared"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"prep"},{"type":"Identifier","name":"ch"}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Identifier","name":"targetTop"}}}]},"generator":false,"expression":false,"async":false},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"Identifier","name":"ch"}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"sticky"},"right":{"type":"Literal","value":"before","raw":"\"before\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveCharLogically"},"arguments":[{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"ch"},{"type":"Literal","value":1,"raw":"1"}]}}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}}}}}]}},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"lineNo"},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}]}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"lineNo"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"alternate":{"type":"Literal","value":0,"raw":"0"}},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":"before","raw":"\"before\""},"alternate":{"type":"Literal","value":"after","raw":"\"after\""}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"moveVisually"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bidi"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"bidi"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveLogically"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"dir"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Literal","value":"before","raw":"\"before\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Literal","value":"after","raw":"\"after\""}}}]},"alternate":null}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"partPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBidiPartAt"},"arguments":[{"type":"Identifier","name":"bidi"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"sticky"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"bidi"},"property":{"type":"Identifier","name":"partPos"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"%","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":2,"raw":"2"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}}},"alternate":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveLogically"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"dir"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mv"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveCharLogically"},"arguments":[{"type":"Identifier","name":"line"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"Pos"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"alternate":{"type":"Identifier","name":"pos"}},{"type":"Identifier","name":"dir"}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prep"},"init":null}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getWrappedLineExtent"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"begin"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"end"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},"kind":"init","method":false,"shorthand":false}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"prep"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"prep"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareMeasureForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"}]}}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"wrappedLineExtentChar"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"prep"},{"type":"Identifier","name":"ch"}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrappedLineExtent"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getWrappedLineExtent"},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Literal","value":"before","raw":"\"before\""}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"mv"},"arguments":[{"type":"Identifier","name":"start"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"Literal","value":"rtl","raw":"\"rtl\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"moveInStorageOrder"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"mv"},"arguments":[{"type":"Identifier","name":"start"},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"moveInStorageOrder"},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"ConditionalExpression","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"moveInStorageOrder"},"prefix":true},"consequent":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"begin"}}}},"alternate":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"end"}}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sticky"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"moveInStorageOrder"},"consequent":{"type":"Literal","value":"before","raw":"\"before\""},"alternate":{"type":"Literal","value":"after","raw":"\"after\""}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}]}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"searchInVisualLine"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"partPos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"wrappedLineExtent"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getRes"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"moveInStorageOrder"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"moveInStorageOrder"},"consequent":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"mv"},"arguments":[{"type":"Identifier","name":"ch"},{"type":"Literal","value":1,"raw":"1"}]},{"type":"Literal","value":"before","raw":"\"before\""}]},"alternate":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"ch"},{"type":"Literal","value":"after","raw":"\"after\""}]}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ForStatement","init":null,"test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"partPos"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"partPos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bidi"},"property":{"type":"Identifier","name":"length"}}}},"update":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"partPos"},"right":{"type":"Identifier","name":"dir"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"bidi"},"property":{"type":"Identifier","name":"partPos"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"moveInStorageOrder"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"moveInStorageOrder"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"begin"}},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"mv"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"end"}},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Identifier","name":"ch"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"getRes"},"arguments":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"moveInStorageOrder"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"moveInStorageOrder"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"mv"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"begin"}},"right":{"type":"Identifier","name":"ch"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"end"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"getRes"},"arguments":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"moveInStorageOrder"}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"res"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"searchInVisualLine"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"partPos"},"right":{"type":"Identifier","name":"dir"}},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"wrappedLineExtent"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"res"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"res"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextCh"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"end"}},"alternate":{"type":"CallExpression","callee":{"type":"Identifier","name":"mv"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrappedLineExtent"},"property":{"type":"Identifier","name":"begin"}},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"nextCh"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"nextCh"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"res"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"searchInVisualLine"},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"bidi"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"Identifier","name":"dir"},{"type":"CallExpression","callee":{"type":"Identifier","name":"getWrappedLineExtent"},"arguments":[{"type":"Identifier","name":"nextCh"}]}]}}},{"type":"IfStatement","test":{"type":"Identifier","name":"res"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"res"}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"commands"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"selectAll"},"computed":false,"value":{"type":"Identifier","name":"selectAll"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"singleSelection"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setSelection"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getCursor"}},"arguments":[{"type":"Literal","value":"anchor","raw":"\"anchor\""}]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getCursor"}},"arguments":[{"type":"Literal","value":"head","raw":"\"head\""}]},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"killLine"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"deleteNearSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"empty"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"len"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"len"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]},"kind":"init","method":false,"shorthand":false}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"len"}]},"kind":"init","method":false,"shorthand":false}]}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},"kind":"init","method":false,"shorthand":false}]}}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"deleteLine"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"deleteNearSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":0,"raw":"0"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delLineLeft"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"deleteNearSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":0,"raw":"0"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delWrappedLineLeft"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"deleteNearSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"charCoords"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"div","raw":"\"div\""}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":5,"raw":"5"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"leftPos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"coordsChar"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false}]},{"type":"Literal","value":"div","raw":"\"div\""}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"leftPos"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delWrappedLineRight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"deleteNearSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"charCoords"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"div","raw":"\"div\""}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":5,"raw":"5"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rightPos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"coordsChar"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"offsetWidth"}},"right":{"type":"Literal","value":100,"raw":"100"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false}]},{"type":"Literal","value":"div","raw":"\"div\""}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"rightPos"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"undo"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"undo"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"redo"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"redo"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"undoSelection"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"undoSelection"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"redoSelection"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"redoSelection"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goDocStart"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelection"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"firstLine"}},"arguments":[]},{"type":"Literal","value":0,"raw":"0"}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goDocEnd"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelection"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineStart"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineStart"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"+move","raw":"\"+move\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bias"},"computed":false,"value":{"type":"Literal","value":1,"raw":"1"},"kind":"init","method":false,"shorthand":false}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineStartSmart"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineStartSmart"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"+move","raw":"\"+move\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bias"},"computed":false,"value":{"type":"Literal","value":1,"raw":"1"},"kind":"init","method":false,"shorthand":false}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineEnd"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineEnd"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"+move","raw":"\"+move\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bias"},"computed":false,"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"kind":"init","method":false,"shorthand":false}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineRight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"cursorCoords"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"div","raw":"\"div\""}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":5,"raw":"5"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"coordsChar"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"offsetWidth"}},"right":{"type":"Literal","value":100,"raw":"100"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false}]},{"type":"Literal","value":"div","raw":"\"div\""}]}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"sel_move"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineLeft"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"cursorCoords"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"div","raw":"\"div\""}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":5,"raw":"5"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"coordsChar"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false}]},{"type":"Literal","value":"div","raw":"\"div\""}]}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"sel_move"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineLeftSmart"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"cursorCoords"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"div","raw":"\"div\""}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":5,"raw":"5"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"coordsChar"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false}]},{"type":"Literal","value":"div","raw":"\"div\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getLine"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"search"}},"arguments":[{"type":"Literal","raw":"/\\S/","regex":{"pattern":"\\S","flags":""}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineStartSmart"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"sel_move"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineUp"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveV"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"line","raw":"\"line\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goLineDown"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveV"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"line","raw":"\"line\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goPageUp"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveV"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"page","raw":"\"page\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goPageDown"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveV"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"page","raw":"\"page\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goCharLeft"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"char","raw":"\"char\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goCharRight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"char","raw":"\"char\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goColumnLeft"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"column","raw":"\"column\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goColumnRight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"column","raw":"\"column\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goWordLeft"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"word","raw":"\"word\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goGroupRight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"group","raw":"\"group\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goGroupLeft"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"group","raw":"\"group\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"goWordRight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"moveH"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"word","raw":"\"word\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delCharBefore"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"deleteH"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"char","raw":"\"char\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delCharAfter"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"deleteH"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"char","raw":"\"char\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delWordBefore"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"deleteH"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"word","raw":"\"word\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delWordAfter"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"deleteH"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"word","raw":"\"word\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delGroupBefore"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"deleteH"}},"arguments":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},{"type":"Literal","value":"group","raw":"\"group\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delGroupAfter"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"deleteH"}},"arguments":[{"type":"Literal","value":1,"raw":"1"},{"type":"Literal","value":"group","raw":"\"group\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"indentAuto"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"indentSelection"}},"arguments":[{"type":"Literal","value":"smart","raw":"\"smart\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"indentMore"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"indentSelection"}},"arguments":[{"type":"Literal","value":"add","raw":"\"add\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"indentLess"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"indentSelection"}},"arguments":[{"type":"Literal","value":"subtract","raw":"\"subtract\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"insertTab"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceSelection"}},"arguments":[{"type":"Literal","value":"\t","raw":"\"\\t\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"insertSoftTab"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spaces"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"listSelections"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tabSize"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"from"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"col"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getLine"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},{"type":"Identifier","name":"tabSize"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spaces"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"spaceStr"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"tabSize"},"right":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"col"},"right":{"type":"Identifier","name":"tabSize"}}}]}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceSelections"}},"arguments":[{"type":"Identifier","name":"spaces"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"defaultTab"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"indentSelection"}},"arguments":[{"type":"Literal","value":"add","raw":"\"add\""}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"execCommand"}},"arguments":[{"type":"Literal","value":"insertTab","raw":"\"insertTab\""}]}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"transposeChars"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"listSelections"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newSel"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"empty"}},"arguments":[]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"head"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"line"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"length"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceRange"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":2,"raw":"2"}}]}},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":2,"raw":"2"}}]},{"type":"Identifier","name":"cur"},{"type":"Literal","value":"+transpose","raw":"\"+transpose\""}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prev"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},"property":{"type":"Identifier","name":"text"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"prev"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":1,"raw":"1"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceRange"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},{"type":"Identifier","name":"cur"},{"type":"Literal","value":"+transpose","raw":"\"+transpose\""}]}}]},"alternate":null}]},"alternate":null}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newSel"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"cur"},{"type":"Identifier","name":"cur"}]}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setSelections"}},"arguments":[{"type":"Identifier","name":"newSel"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"newlineAndIndent"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sels"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"listSelections"}},"arguments":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sels"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceRange"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sels"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sels"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"+input","raw":"\"+input\""}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sels"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"listSelections"}},"arguments":[]}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sels"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"indentLine"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"sels"},"property":{"type":"Identifier","name":"i$1"}},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":true,"raw":"true"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureCursorVisible"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"openLine"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceSelection"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""},{"type":"Literal","value":"start","raw":"\"start\""}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"toggleOverwrite"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"toggleOverwrite"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineStart"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineN"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"lineN"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visual"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLine"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"visual"},"right":{"type":"Identifier","name":"line"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineN"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"visual"}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOfLine"},"arguments":[{"type":"Literal","value":true,"raw":"true"},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"visual"},{"type":"Identifier","name":"lineN"},{"type":"Literal","value":1,"raw":"1"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineEnd"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"lineN"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"lineN"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visual"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"visualLineEnd"},"arguments":[{"type":"Identifier","name":"line"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"visual"},"right":{"type":"Identifier","name":"line"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineN"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"visual"}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOfLine"},"arguments":[{"type":"Literal","value":true,"raw":"true"},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"lineN"},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lineStartSmart"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineStart"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"order"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"firstNonWS"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"search"}},"arguments":[{"type":"Literal","raw":"/\\S/","regex":{"pattern":"\\S","flags":""}}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"inWS"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"firstNonWS"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"inWS"},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"Identifier","name":"firstNonWS"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"sticky"}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"start"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"doHandleBinding"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"bound"},{"type":"Identifier","name":"dropShift"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"bound"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bound"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"commands"},"property":{"type":"Identifier","name":"bound"}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"bound"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"ensurePolled"}},"arguments":[]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prevShift"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"done"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"suppressEdits"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"dropShift"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"done"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"bound"},"arguments":[{"type":"Identifier","name":"cm"}]},"right":{"type":"Identifier","name":"Pass"}}}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"Identifier","name":"prevShift"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"suppressEdits"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"done"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"lookupKeyForEditor"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"handle"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keyMaps"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lookupKey"},"arguments":[{"type":"Identifier","name":"name"},{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keyMaps"}},"property":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"result"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"extraKeys"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lookupKey"},"arguments":[{"type":"Identifier","name":"name"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"extraKeys"}},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"cm"}]}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lookupKey"},"arguments":[{"type":"Identifier","name":"name"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"keyMap"}},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"cm"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stopSeq"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"Delayed"},"arguments":[]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"dispatchKey"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"handle"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"seq"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keySeq"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"seq"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isModifierKey"},"arguments":[{"type":"Identifier","name":"name"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"handled","raw":"\"handled\""}}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\'$/","regex":{"pattern":"\\'$","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"name"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keySeq"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stopSeq"},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Literal","value":50,"raw":"50"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keySeq"}},"right":{"type":"Identifier","name":"seq"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keySeq"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]}},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"dispatchKeyInner"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"seq"},"right":{"type":"Literal","value":" ","raw":"\" \""}},"right":{"type":"Identifier","name":"name"}},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"handle"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"dispatchKeyInner"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"handle"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"dispatchKeyInner"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"handle"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lookupKeyForEditor"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"handle"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"result"},"right":{"type":"Literal","value":"multi","raw":"\"multi\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keySeq"}},"right":{"type":"Identifier","name":"name"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"result"},"right":{"type":"Literal","value":"handled","raw":"\"handled\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"keyHandled","raw":"\"keyHandled\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"e"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"result"},"right":{"type":"Literal","value":"handled","raw":"\"handled\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"result"},"right":{"type":"Literal","value":"multi","raw":"\"multi\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"restartBlink"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"!","argument":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"result"},"prefix":true},"prefix":true}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"handleKeyBinding"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"name"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"keyName"},"arguments":[{"type":"Identifier","name":"e"},{"type":"Literal","value":true,"raw":"true"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"name"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"shiftKey"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keySeq"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"dispatchKey"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Shift-","raw":"\"Shift-\""},"right":{"type":"Identifier","name":"name"}},{"type":"Identifier","name":"e"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"doHandleBinding"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"b"},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"dispatchKey"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"e"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"b"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^go[A-Z]/","regex":{"pattern":"^go[A-Z]","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"b"}]},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"b"},"property":{"type":"Identifier","name":"motion"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"doHandleBinding"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"b"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"dispatchKey"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"e"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"doHandleBinding"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"b"}]}}]},"generator":false,"expression":false,"async":false}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"handleCharBinding"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"dispatchKey"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"'","raw":"\"'\""},"right":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":"'","raw":"\"'\""}},{"type":"Identifier","name":"e"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"b"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"doHandleBinding"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"b"},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastStoppedKey"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onKeyDown"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":11,"raw":"11"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"keyCode"}},"right":{"type":"Literal","value":27,"raw":"27"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"returnValue"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"code"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"keyCode"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":16,"raw":"16"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"shiftKey"}}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"handled"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"handleKeyBinding"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"presto"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastStoppedKey"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"handled"},"consequent":{"type":"Identifier","name":"code"},"alternate":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"handled"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":88,"raw":"88"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"hasCopyEvent"},"prefix":true}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"mac"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"metaKey"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"ctrlKey"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceSelection"}},"arguments":[{"type":"Literal","value":"","raw":"\"\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"cut","raw":"\"cut\""}]}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"code"},"right":{"type":"Literal","value":18,"raw":"18"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\bCodeMirror-crosshair\\b/","regex":{"pattern":"\\bCodeMirror-crosshair\\b","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"className"}}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"showCrossHair"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"showCrossHair"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineDiv"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addClass"},"arguments":[{"type":"Identifier","name":"lineDiv"},{"type":"Literal","value":"CodeMirror-crosshair","raw":"\"CodeMirror-crosshair\""}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"up"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"keyCode"}},"right":{"type":"Literal","value":18,"raw":"18"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"altKey"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rmClass"},"arguments":[{"type":"Identifier","name":"lineDiv"},{"type":"Literal","value":"CodeMirror-crosshair","raw":"\"CodeMirror-crosshair\""}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"Identifier","name":"document"},{"type":"Literal","value":"keyup","raw":"\"keyup\""},{"type":"Identifier","name":"up"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"Identifier","name":"document"},{"type":"Literal","value":"mouseover","raw":"\"mouseover\""},{"type":"Identifier","name":"up"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"document"},{"type":"Literal","value":"keyup","raw":"\"keyup\""},{"type":"Identifier","name":"up"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"document"},{"type":"Literal","value":"mouseover","raw":"\"mouseover\""},{"type":"Identifier","name":"up"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onKeyUp"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"keyCode"}},"right":{"type":"Literal","value":16,"raw":"16"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onKeyPress"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"ctrlKey"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"altKey"}},"prefix":true}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"mac"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"metaKey"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyCode"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"keyCode"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"charCode"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"charCode"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"presto"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"keyCode"},"right":{"type":"Identifier","name":"lastStoppedKey"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastStoppedKey"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"presto"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"which"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"which"}},"right":{"type":"Literal","value":10,"raw":"10"}}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"handleKeyBinding"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"String"},"property":{"type":"Identifier","name":"fromCharCode"}},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"charCode"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"Identifier","name":"keyCode"},"alternate":{"type":"Identifier","name":"charCode"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":"\b","raw":"\"\\x08\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"handleCharBinding"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"ch"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"onKeyPress"}},"arguments":[{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"DOUBLECLICK_DELAY"},"init":{"type":"Literal","value":400,"raw":"400"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"PastClick"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"time"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"time"}},"right":{"type":"Identifier","name":"time"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}},"right":{"type":"Identifier","name":"pos"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"button"}},"right":{"type":"Identifier","name":"button"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"PastClick"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"compare"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"time"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"time"}},"right":{"type":"Identifier","name":"DOUBLECLICK_DELAY"}},"right":{"type":"Identifier","name":"time"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pos"}}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"button"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"button"}}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastClick"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastDoubleClick"},"init":null}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clickRepeat"},"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"now"},"init":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"lastDoubleClick"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastDoubleClick"},"property":{"type":"Identifier","name":"compare"}},"arguments":[{"type":"Identifier","name":"now"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastClick"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastDoubleClick"},"right":{"type":"Literal","value":null,"raw":"null"}}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":"triple","raw":"\"triple\""}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"lastClick"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastClick"},"property":{"type":"Identifier","name":"compare"}},"arguments":[{"type":"Identifier","name":"now"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastDoubleClick"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"PastClick"},"arguments":[{"type":"Identifier","name":"now"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastClick"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":"double","raw":"\"double\""}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastClick"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"PastClick"},"arguments":[{"type":"Identifier","name":"now"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastDoubleClick"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":"single","raw":"\"single\""}}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onMouseDown"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"ThisExpression"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"activeTouch"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"supportsTouch"}},"arguments":[]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"ensurePolled"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"shiftKey"}}}},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"Identifier","name":"display"},{"type":"Identifier","name":"e"}]},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"webkit"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"draggable"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"draggable"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":100,"raw":"100"}]}}]},"alternate":null},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"clickInGutter"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posFromMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"button"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_button"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"repeat"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"pos"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"clickRepeat"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"button"}]},"alternate":{"type":"Literal","value":"single","raw":"\"single\""}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"button"},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"selectingText"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"selectingText"}},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"handleMappedButton"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"button"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"repeat"},{"type":"Identifier","name":"e"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"button"},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"pos"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"leftButtonDown"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"repeat"},{"type":"Identifier","name":"e"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_target"},"arguments":[{"type":"Identifier","name":"e"}]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"button"},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"pos"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":20,"raw":"20"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"button"},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"captureRightClick"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"onContextMenu"}},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"delayBlurEvent"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}}]},"alternate":null}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"handleMappedButton"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"button"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"repeat"},{"type":"Identifier","name":"event"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"name"},"init":{"type":"Literal","value":"Click","raw":"\"Click\""}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"repeat"},"right":{"type":"Literal","value":"double","raw":"\"double\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Double","raw":"\"Double\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"repeat"},"right":{"type":"Literal","value":"triple","raw":"\"triple\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"Triple","raw":"\"Triple\""},"right":{"type":"Identifier","name":"name"}}}}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"name"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"button"},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"Literal","value":"Left","raw":"\"Left\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"button"},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"Literal","value":"Middle","raw":"\"Middle\""},"alternate":{"type":"Literal","value":"Right","raw":"\"Right\""}}},"right":{"type":"Identifier","name":"name"}}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"dispatchKey"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"Identifier","name":"addModifierNames"},"arguments":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"event"}]},{"type":"Identifier","name":"event"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"bound"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"bound"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bound"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"commands"},"property":{"type":"Identifier","name":"bound"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"bound"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"done"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"suppressEdits"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"done"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"bound"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}]},"right":{"type":"Identifier","name":"Pass"}}}}]},"handler":null,"finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"suppressEdits"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"done"}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"configureMouse"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"repeat"},{"type":"Identifier","name":"event"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"option"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getOption"}},"arguments":[{"type":"Literal","value":"configureMouse","raw":"\"configureMouse\""}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"value"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"option"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"repeat"},{"type":"Identifier","name":"event"}]},"alternate":{"type":"ObjectExpression","properties":[]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"unit"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rect"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"chromeOS"},"consequent":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"shiftKey"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"metaKey"}}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"altKey"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"unit"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"rect"},"consequent":{"type":"Literal","value":"rectangle","raw":"\"rectangle\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"repeat"},"right":{"type":"Literal","value":"single","raw":"\"single\""}},"consequent":{"type":"Literal","value":"char","raw":"\"char\""},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"repeat"},"right":{"type":"Literal","value":"double","raw":"\"double\""}},"consequent":{"type":"Literal","value":"word","raw":"\"word\""},"alternate":{"type":"Literal","value":"line","raw":"\"line\""}}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"extend"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"extend"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"extend"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"extend"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"shiftKey"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"addNew"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"addNew"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"mac"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"metaKey"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ctrlKey"}}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"moveOnDrag"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"value"},"property":{"type":"Identifier","name":"moveOnDrag"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"mac"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"altKey"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"ctrlKey"}}},"prefix":true}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"value"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"leftButtonDown"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"repeat"},{"type":"Identifier","name":"event"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"ie"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"bind"},"arguments":[{"type":"Identifier","name":"ensureFocus"},{"type":"Identifier","name":"cm"}]},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"behavior"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"configureMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"repeat"},{"type":"Identifier","name":"event"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"contained"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"dragDrop"}},"right":{"type":"Identifier","name":"dragAndDrop"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]},"prefix":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"repeat"},"right":{"type":"Literal","value":"single","raw":"\"single\""}}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"contained"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"contains"}},"arguments":[{"type":"Identifier","name":"pos"}]}},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"contained"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"contained"}}},"property":{"type":"Identifier","name":"from"}},"arguments":[]},{"type":"Identifier","name":"pos"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"xRel"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"contained"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},{"type":"Identifier","name":"pos"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"xRel"}},"right":{"type":"Literal","value":0,"raw":"0"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"leftButtonStartDrag"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"event"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"behavior"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"leftButtonSelect"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"event"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"behavior"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"leftButtonStartDrag"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"event"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"behavior"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"moved"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dragEnd"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"draggable"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"draggingText"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mouseup","raw":"\"mouseup\""},{"type":"Identifier","name":"dragEnd"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mousemove","raw":"\"mousemove\""},{"type":"Identifier","name":"mouseMove"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dragstart","raw":"\"dragstart\""},{"type":"Identifier","name":"dragStart"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"drop","raw":"\"drop\""},{"type":"Identifier","name":"dragEnd"}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"moved"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"addNew"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"extend"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"webkit"},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},"property":{"type":"Identifier","name":"body"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":20,"raw":"20"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mouseMove"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e2"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"moved"},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"moved"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"clientX"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e2"},"property":{"type":"Identifier","name":"clientX"}}}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"event"},"property":{"type":"Identifier","name":"clientY"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e2"},"property":{"type":"Identifier","name":"clientY"}}}]}},"right":{"type":"Literal","value":10,"raw":"10"}}}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dragStart"},"init":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"moved"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"draggable"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"draggingText"}},"right":{"type":"Identifier","name":"dragEnd"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"dragEnd"},"property":{"type":"Identifier","name":"copy"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"moveOnDrag"}},"prefix":true}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"dragDrop"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"dragDrop"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mouseup","raw":"\"mouseup\""},{"type":"Identifier","name":"dragEnd"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mousemove","raw":"\"mousemove\""},{"type":"Identifier","name":"mouseMove"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dragstart","raw":"\"dragstart\""},{"type":"Identifier","name":"dragStart"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"drop","raw":"\"drop\""},{"type":"Identifier","name":"dragEnd"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"delayBlurEvent"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":20,"raw":"20"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"rangeForUnit"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"unit"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"char","raw":"\"char\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"pos"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"word","raw":"\"word\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"findWordAt"}},"arguments":[{"type":"Identifier","name":"pos"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"line","raw":"\"line\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]}]}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"unit"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"to"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"leftButtonSelect"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"event"},{"type":"Identifier","name":"start"},{"type":"Identifier","name":"behavior"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"event"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ourRange"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ourIndex"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startSel"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"startSel"},"property":{"type":"Identifier","name":"ranges"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"addNew"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"extend"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"contains"}},"arguments":[{"type":"Identifier","name":"start"}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourRange"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"ourIndex"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourRange"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"start"},{"type":"Identifier","name":"start"}]}}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourRange"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"unit"}},"right":{"type":"Literal","value":"rectangle","raw":"\"rectangle\""}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"addNew"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourRange"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"start"},{"type":"Identifier","name":"start"}]}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"start"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"posFromMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"event"},{"type":"Literal","value":true,"raw":"true"},{"type":"Literal","value":true,"raw":"true"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"rangeForUnit"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"start"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"unit"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"extend"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourRange"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendRange"},"arguments":[{"type":"Identifier","name":"ourRange"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"extend"}}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourRange"},"right":{"type":"Identifier","name":"range$$1"}}}]}}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"addNew"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"NewExpression","callee":{"type":"Identifier","name":"Selection"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"ourRange"}]},{"type":"Literal","value":0,"raw":"0"}]},{"type":"Identifier","name":"sel_mouse"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"startSel"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"ourRange"}]}]},{"type":"Identifier","name":"ourIndex"}]},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"scroll"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"*mouse","raw":"\"*mouse\""},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"ourIndex"}},"property":{"type":"Identifier","name":"empty"}},"arguments":[]}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"unit"}},"right":{"type":"Literal","value":"char","raw":"\"char\""}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"extend"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"ourIndex"}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"ourIndex"},"right":{"type":"Literal","value":1,"raw":"1"}}]}]},{"type":"Literal","value":0,"raw":"0"}]},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"scroll"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"*mouse","raw":"\"*mouse\""},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"startSel"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceOneSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"ourIndex"},{"type":"Identifier","name":"ourRange"},{"type":"Identifier","name":"sel_mouse"}]}}]}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastPos"},"init":{"type":"Identifier","name":"start"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extendTo"},"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"lastPos"},{"type":"Identifier","name":"pos"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastPos"},"right":{"type":"Identifier","name":"pos"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"unit"}},"right":{"type":"Literal","value":"rectangle","raw":"\"rectangle\""}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tabSize"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startCol"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"ch"}},{"type":"Identifier","name":"tabSize"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"posCol"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},{"type":"Identifier","name":"tabSize"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"Identifier","name":"startCol"},{"type":"Identifier","name":"posCol"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"right"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Identifier","name":"startCol"},{"type":"Identifier","name":"posCol"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"line"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}]}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"line"},"right":{"type":"Identifier","name":"end"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"line"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"line"}]},"property":{"type":"Identifier","name":"text"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"leftPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findColumn"},"arguments":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"left"},{"type":"Identifier","name":"tabSize"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"left"},"right":{"type":"Identifier","name":"right"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"leftPos"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"leftPos"}]}]}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"leftPos"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"leftPos"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"CallExpression","callee":{"type":"Identifier","name":"findColumn"},"arguments":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"right"},{"type":"Identifier","name":"tabSize"}]}]}]}]}}]},"alternate":null}}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"start"},{"type":"Identifier","name":"start"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"startSel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"ourIndex"}]},"property":{"type":"Identifier","name":"concat"}},"arguments":[{"type":"Identifier","name":"ranges"}]},{"type":"Identifier","name":"ourIndex"}]},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"Literal","value":"*mouse","raw":"\"*mouse\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scroll"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"scrollIntoView"}},"arguments":[{"type":"Identifier","name":"pos"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldRange"},"init":{"type":"Identifier","name":"ourRange"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"rangeForUnit"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"unit"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"anchor"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldRange"},"property":{"type":"Identifier","name":"anchor"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"head"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"anchor"}},{"type":"Identifier","name":"anchor"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"head"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"anchor"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"minPos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldRange"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"anchor"}}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"head"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"anchor"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"anchor"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"maxPos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldRange"},"property":{"type":"Identifier","name":"to"}},"arguments":[]},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}}]}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges$1"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"startSel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges$1"},"property":{"type":"Identifier","name":"ourIndex"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"bidiSimplify"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"anchor"}]},{"type":"Identifier","name":"head"}]}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"CallExpression","callee":{"type":"Identifier","name":"normalizeSelection"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"ranges$1"},{"type":"Identifier","name":"ourIndex"}]},{"type":"Identifier","name":"sel_mouse"}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"editorSize"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"counter"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extend"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curCount"},"init":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"counter"},"prefix":true}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posFromMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Literal","value":true,"raw":"true"},{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"behavior"},"property":{"type":"Identifier","name":"unit"}},"right":{"type":"Literal","value":"rectangle","raw":"\"rectangle\""}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"cur"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"cur"},{"type":"Identifier","name":"lastPos"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendTo"},"arguments":[{"type":"Identifier","name":"cur"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visible"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"visibleLines"},"arguments":[{"type":"Identifier","name":"display"},{"type":"Identifier","name":"doc"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"visible"},"property":{"type":"Identifier","name":"to"}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"visible"},"property":{"type":"Identifier","name":"from"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"counter"},"right":{"type":"Identifier","name":"curCount"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extend"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]},{"type":"Literal","value":150,"raw":"150"}]}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"outside"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientY"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"editorSize"},"property":{"type":"Identifier","name":"top"}}},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":20,"raw":"20"},"prefix":true},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientY"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"editorSize"},"property":{"type":"Identifier","name":"bottom"}}},"consequent":{"type":"Literal","value":20,"raw":"20"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"outside"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"counter"},"right":{"type":"Identifier","name":"curCount"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"outside"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extend"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false}]},{"type":"Literal","value":50,"raw":"50"}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"done"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"selectingText"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"counter"},"right":{"type":"Identifier","name":"Infinity"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mousemove","raw":"\"mousemove\""},{"type":"Identifier","name":"move"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mouseup","raw":"\"mouseup\""},{"type":"Identifier","name":"up"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"lastSelOrigin"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"move"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"===","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"buttons"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_button"},"arguments":[{"type":"Identifier","name":"e"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"done"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extend"},"arguments":[{"type":"Identifier","name":"e"}]}}]}}]},"generator":false,"expression":false,"async":false}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"up"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"done"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"selectingText"}},"right":{"type":"Identifier","name":"up"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mousemove","raw":"\"mousemove\""},{"type":"Identifier","name":"move"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},{"type":"Literal","value":"mouseup","raw":"\"mouseup\""},{"type":"Identifier","name":"up"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"bidiSimplify"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"range$$1"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"anchor"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"anchor"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"head"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"anchorLine"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"}]},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"head"},"property":{"type":"Identifier","name":"sticky"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"range$$1"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"anchorLine"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"order"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"range$$1"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"index"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBidiPartAt"},"arguments":[{"type":"Identifier","name":"order"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"ch"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"sticky"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"part"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"index"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"ch"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"ch"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"range$$1"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"boundary"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"index"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"ch"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"boundary"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"boundary"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"order"},"property":{"type":"Identifier","name":"length"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"range$$1"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"leftSide"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"head"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"line"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"leftSide"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"head"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"line"}}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}},"right":{"type":"Literal","value":"ltr","raw":"\"ltr\""}},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"right":{"type":"Literal","value":0,"raw":"0"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"headIndex"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBidiPartAt"},"arguments":[{"type":"Identifier","name":"order"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"head"},"property":{"type":"Identifier","name":"ch"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"head"},"property":{"type":"Identifier","name":"sticky"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dir"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"headIndex"},"right":{"type":"Identifier","name":"index"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"head"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"ch"}}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"part"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"alternate":{"type":"Literal","value":1,"raw":"1"}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"headIndex"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"boundary"},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"headIndex"},"right":{"type":"Identifier","name":"boundary"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"leftSide"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"leftSide"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}}}}]}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"usePart"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"order"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"boundary"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"leftSide"},"consequent":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"leftSide"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"usePart"},"property":{"type":"Identifier","name":"level"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"from"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"usePart"},"property":{"type":"Identifier","name":"from"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"usePart"},"property":{"type":"Identifier","name":"to"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sticky"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"from"},"consequent":{"type":"Literal","value":"after","raw":"\"after\""},"alternate":{"type":"Literal","value":"before","raw":"\"before\""}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"ch"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Identifier","name":"sticky"}}},"consequent":{"type":"Identifier","name":"range$$1"},"alternate":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"sticky"}]},{"type":"Identifier","name":"head"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"gutterEvent"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"prevent"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mX"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mY"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mX"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"clientX"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mY"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"clientY"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mX"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientX"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"mY"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientY"}}}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]}},"finalizer":null}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"mX"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"floor"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]},"property":{"type":"Identifier","name":"right"}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"prevent"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineBox"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"mY"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineBox"},"property":{"type":"Identifier","name":"bottom"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"type"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_defaultPrevented"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"-=","left":{"type":"Identifier","name":"mY"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineBox"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewOffset"}}}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"g"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"childNodes"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"g"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"g"},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Identifier","name":"mX"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineAtHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"mY"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"gutter"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"line"},{"type":"Identifier","name":"gutter"},{"type":"Identifier","name":"e"}]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_defaultPrevented"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"clickInGutter"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"gutterEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Literal","value":"gutterClick","raw":"\"gutterClick\""},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onContextMenu"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"contextMenuInGutter"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Literal","value":"contextmenu","raw":"\"contextmenu\""}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"captureRightClick"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"onContextMenu"}},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"contextMenuInGutter"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasHandler"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"gutterContextMenu","raw":"\"gutterContextMenu\""}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"gutterEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"},{"type":"Literal","value":"gutterContextMenu","raw":"\"gutterContextMenu\""},{"type":"Literal","value":false,"raw":"false"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"themeChanged"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"className"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"className"}},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/\\s*cm-s-\\S+/g","regex":{"pattern":"\\s*cm-s-\\S+","flags":"g"}},{"type":"Literal","value":"","raw":"\"\""}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"theme"}},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/(^|\\s)\\s*/g","regex":{"pattern":"(^|\\s)\\s*","flags":"g"}},{"type":"Literal","value":" cm-s-","raw":"\" cm-s-\""}]}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearCaches"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Init"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"toString"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"CodeMirror.Init","raw":"\"CodeMirror.Init\""}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"defaults"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"optionHandlers"},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"defineOptions"},"params":[{"type":"Identifier","name":"CodeMirror"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"optionHandlers"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"optionHandlers"}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"option"},"params":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"deflt"},{"type":"Identifier","name":"handle"},{"type":"Identifier","name":"notOnInit"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defaults"}},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"deflt"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"handle"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"optionHandlers"},"property":{"type":"Identifier","name":"name"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"notOnInit"},"consequent":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"},{"type":"Identifier","name":"old"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"old"},"right":{"type":"Identifier","name":"Init"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"handle"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"},{"type":"Identifier","name":"old"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"alternate":{"type":"Identifier","name":"handle"}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineOption"}},"right":{"type":"Identifier","name":"option"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"Init"}},"right":{"type":"Identifier","name":"Init"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"value","raw":"\"value\""},{"type":"Literal","value":"","raw":"\"\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setValue"}},"arguments":[{"type":"Identifier","name":"val"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"mode","raw":"\"mode\""},{"type":"Literal","value":null,"raw":"null"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"modeOption"}},"right":{"type":"Identifier","name":"val"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"loadMode"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"indentUnit","raw":"\"indentUnit\""},{"type":"Literal","value":2,"raw":"2"},{"type":"Identifier","name":"loadMode"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"indentWithTabs","raw":"\"indentWithTabs\""},{"type":"Literal","value":false,"raw":"false"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"smartIndent","raw":"\"smartIndent\""},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"tabSize","raw":"\"tabSize\""},{"type":"Literal","value":4,"raw":"4"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resetModeState"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearCaches"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"lineSeparator","raw":"\"lineSeparator\""},{"type":"Literal","value":null,"raw":"null"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"lineSep"}},"right":{"type":"Identifier","name":"val"}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"val"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newBreaks"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineNo"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Identifier","name":"val"},{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"found"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"found"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"val"},"property":{"type":"Identifier","name":"length"}}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBreaks"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"lineNo"},{"type":"Identifier","name":"found"}]}]}}]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"lineNo"},"prefix":false}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBreaks"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceRange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"val"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newBreaks"},"property":{"type":"Identifier","name":"i"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newBreaks"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newBreaks"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"val"},"property":{"type":"Identifier","name":"length"}}}]}]}}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"specialChars","raw":"\"specialChars\""},{"type":"Literal","raw":"/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g","regex":{"pattern":"[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]","flags":"g"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"},{"type":"Identifier","name":"old"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"specialChars"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"RegExp"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"val"},"property":{"type":"Identifier","name":"source"}},"right":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"val"},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Literal","value":"\t","raw":"\"\\t\""}]},"consequent":{"type":"Literal","value":"","raw":"\"\""},"alternate":{"type":"Literal","value":"|\t","raw":"\"|\\t\""}}},{"type":"Literal","value":"g","raw":"\"g\""}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"old"},"right":{"type":"Identifier","name":"Init"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"refresh"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"specialCharPlaceholder","raw":"\"specialCharPlaceholder\""},{"type":"Identifier","name":"defaultSpecialCharPlaceholder"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"refresh"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"electricChars","raw":"\"electricChars\""},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"inputStyle","raw":"\"inputStyle\""},{"type":"ConditionalExpression","test":{"type":"Identifier","name":"mobile"},"consequent":{"type":"Literal","value":"contenteditable","raw":"\"contenteditable\""},"alternate":{"type":"Literal","value":"textarea","raw":"\"textarea\""}},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"Literal","value":"inputStyle can not (yet) be changed in a running editor","raw":"\"inputStyle can not (yet) be changed in a running editor\""}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"spellcheck","raw":"\"spellcheck\""},{"type":"Literal","value":false,"raw":"false"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getInputField"}},"arguments":[]},"property":{"type":"Identifier","name":"spellcheck"}},"right":{"type":"Identifier","name":"val"}}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"rtlMoveVisually","raw":"\"rtlMoveVisually\""},{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"windows"},"prefix":true}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"wholeLineUpdateBefore","raw":"\"wholeLineUpdateBefore\""},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"theme","raw":"\"theme\""},{"type":"Literal","value":"default","raw":"\"default\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"themeChanged"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"guttersChanged"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"keyMap","raw":"\"keyMap\""},{"type":"Literal","value":"default","raw":"\"default\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"},{"type":"Identifier","name":"old"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"next"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getKeyMap"},"arguments":[{"type":"Identifier","name":"val"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prev"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"old"},"right":{"type":"Identifier","name":"Init"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getKeyMap"},"arguments":[{"type":"Identifier","name":"old"}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"prev"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"detach"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prev"},"property":{"type":"Identifier","name":"detach"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"next"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"next"},"property":{"type":"Identifier","name":"attach"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"next"},"property":{"type":"Identifier","name":"attach"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"prev"},"right":{"type":"Literal","value":null,"raw":"null"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"extraKeys","raw":"\"extraKeys\""},{"type":"Literal","value":null,"raw":"null"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"configureMouse","raw":"\"configureMouse\""},{"type":"Literal","value":null,"raw":"null"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"lineWrapping","raw":"\"lineWrapping\""},{"type":"Literal","value":false,"raw":"false"},{"type":"Identifier","name":"wrappingChanged"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"gutters","raw":"\"gutters\""},{"type":"ArrayExpression","elements":[]},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setGuttersForLineNumbers"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"guttersChanged"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"fixedGutter","raw":"\"fixedGutter\""},{"type":"Literal","value":true,"raw":"true"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"val"},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"compensateForHScroll"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]},"right":{"type":"Literal","value":"px","raw":"\"px\""}},"alternate":{"type":"Literal","value":"0","raw":"\"0\""}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"refresh"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"coverGutterNextToScrollbar","raw":"\"coverGutterNextToScrollbar\""},{"type":"Literal","value":false,"raw":"false"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"scrollbarStyle","raw":"\"scrollbarStyle\""},{"type":"Literal","value":"native","raw":"\"native\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"initScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"setScrollTop"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"setScrollLeft"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"lineNumbers","raw":"\"lineNumbers\""},{"type":"Literal","value":false,"raw":"false"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setGuttersForLineNumbers"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"guttersChanged"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"firstLineNumber","raw":"\"firstLineNumber\""},{"type":"Literal","value":1,"raw":"1"},{"type":"Identifier","name":"guttersChanged"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"lineNumberFormatter","raw":"\"lineNumberFormatter\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"integer"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"integer"}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"guttersChanged"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"showCursorWhenSelecting","raw":"\"showCursorWhenSelecting\""},{"type":"Literal","value":false,"raw":"false"},{"type":"Identifier","name":"updateSelection"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"resetSelectionOnContextMenu","raw":"\"resetSelectionOnContextMenu\""},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"lineWiseCopyCut","raw":"\"lineWiseCopyCut\""},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"pasteLinesPerSelection","raw":"\"pasteLinesPerSelection\""},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"selectionsMayTouch","raw":"\"selectionsMayTouch\""},{"type":"Literal","value":false,"raw":"false"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"readOnly","raw":"\"readOnly\""},{"type":"Literal","value":false,"raw":"false"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"val"},"right":{"type":"Literal","value":"nocursor","raw":"\"nocursor\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"onBlur"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"blur"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"readOnlyChanged"}},"arguments":[{"type":"Identifier","name":"val"}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"disableInput","raw":"\"disableInput\""},{"type":"Literal","value":false,"raw":"false"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"val"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"dragDrop","raw":"\"dragDrop\""},{"type":"Literal","value":true,"raw":"true"},{"type":"Identifier","name":"dragDropChanged"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"allowDropFileTypes","raw":"\"allowDropFileTypes\""},{"type":"Literal","value":null,"raw":"null"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"cursorBlinkRate","raw":"\"cursorBlinkRate\""},{"type":"Literal","value":530,"raw":"530"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"cursorScrollMargin","raw":"\"cursorScrollMargin\""},{"type":"Literal","value":0,"raw":"0"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"cursorHeight","raw":"\"cursorHeight\""},{"type":"Literal","value":1,"raw":"1"},{"type":"Identifier","name":"updateSelection"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"singleCursorHeightPerLine","raw":"\"singleCursorHeightPerLine\""},{"type":"Literal","value":true,"raw":"true"},{"type":"Identifier","name":"updateSelection"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"workTime","raw":"\"workTime\""},{"type":"Literal","value":100,"raw":"100"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"workDelay","raw":"\"workDelay\""},{"type":"Literal","value":100,"raw":"100"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"flattenSpans","raw":"\"flattenSpans\""},{"type":"Literal","value":true,"raw":"true"},{"type":"Identifier","name":"resetModeState"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"addModeClass","raw":"\"addModeClass\""},{"type":"Literal","value":false,"raw":"false"},{"type":"Identifier","name":"resetModeState"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"pollInterval","raw":"\"pollInterval\""},{"type":"Literal","value":100,"raw":"100"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"undoDepth","raw":"\"undoDepth\""},{"type":"Literal","value":200,"raw":"200"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"history"}},"property":{"type":"Identifier","name":"undoDepth"}},"right":{"type":"Identifier","name":"val"}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"historyEventDelay","raw":"\"historyEventDelay\""},{"type":"Literal","value":1250,"raw":"1250"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"viewportMargin","raw":"\"viewportMargin\""},{"type":"Literal","value":10,"raw":"10"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"refresh"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"maxHighlightLength","raw":"\"maxHighlightLength\""},{"type":"Literal","value":10000,"raw":"10000"},{"type":"Identifier","name":"resetModeState"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"moveInputWithCursor","raw":"\"moveInputWithCursor\""},{"type":"Literal","value":true,"raw":"true"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"val"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"resetPosition"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"tabindex","raw":"\"tabindex\""},{"type":"Literal","value":null,"raw":"null"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"getField"}},"arguments":[]},"property":{"type":"Identifier","name":"tabIndex"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"val"},"right":{"type":"Literal","value":"","raw":"\"\""}}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"autofocus","raw":"\"autofocus\""},{"type":"Literal","value":null,"raw":"null"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"direction","raw":"\"direction\""},{"type":"Literal","value":"ltr","raw":"\"ltr\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"setDirection"}},"arguments":[{"type":"Identifier","name":"val"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"option"},"arguments":[{"type":"Literal","value":"phrases","raw":"\"phrases\""},{"type":"Literal","value":null,"raw":"null"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"guttersChanged"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateGutters"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"alignHorizontally"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"dragDropChanged"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"value"},{"type":"Identifier","name":"old"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wasOn"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"old"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"old"},"right":{"type":"Identifier","name":"Init"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"value"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"wasOn"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"funcs"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"dragFunctions"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toggle"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"value"},"consequent":{"type":"Identifier","name":"on"},"alternate":{"type":"Identifier","name":"off"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"toggle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dragstart","raw":"\"dragstart\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"funcs"},"property":{"type":"Identifier","name":"start"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"toggle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dragenter","raw":"\"dragenter\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"funcs"},"property":{"type":"Identifier","name":"enter"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"toggle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dragover","raw":"\"dragover\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"funcs"},"property":{"type":"Identifier","name":"over"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"toggle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dragleave","raw":"\"dragleave\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"funcs"},"property":{"type":"Identifier","name":"leave"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"toggle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"drop","raw":"\"drop\""},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"funcs"},"property":{"type":"Identifier","name":"drop"}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"wrappingChanged"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},{"type":"Literal","value":"CodeMirror-wrap","raw":"\"CodeMirror-wrap\""}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"minWidth"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"sizerWidth"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rmClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},{"type":"Literal","value":"CodeMirror-wrap","raw":"\"CodeMirror-wrap\""}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"findMaxLine"},"arguments":[{"type":"Identifier","name":"cm"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateLineHeights"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearCaches"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollbars"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":100,"raw":"100"}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"CodeMirror"},"params":[{"type":"Identifier","name":"place"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"BinaryExpression","operator":"instanceof","left":{"type":"ThisExpression"},"right":{"type":"Identifier","name":"CodeMirror"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"CodeMirror"},"arguments":[{"type":"Identifier","name":"place"},{"type":"Identifier","name":"options"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"options"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"options"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyObj"},"arguments":[{"type":"Identifier","name":"options"}]},"alternate":{"type":"ObjectExpression","properties":[]}}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyObj"},"arguments":[{"type":"Identifier","name":"defaults"},{"type":"Identifier","name":"options"},{"type":"Literal","value":false,"raw":"false"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setGuttersForLineNumbers"},"arguments":[{"type":"Identifier","name":"options"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"value"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"doc"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"doc"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Doc"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"mode"}},{"type":"Literal","value":null,"raw":"null"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"lineSeparator"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"direction"}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"mode"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"modeOption"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"mode"}}}}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"right":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":{"type":"NewExpression","callee":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"inputStyles"}},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"inputStyle"}}},"arguments":[{"type":"ThisExpression"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Display"},"arguments":[{"type":"Identifier","name":"place"},{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"input"}]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"CodeMirror"}},"right":{"type":"ThisExpression"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateGutters"},"arguments":[{"type":"ThisExpression"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"themeChanged"},"arguments":[{"type":"ThisExpression"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"lineWrapping"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"className"}},"right":{"type":"Literal","value":" CodeMirror-wrap","raw":"\" CodeMirror-wrap\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"initScrollbars"},"arguments":[{"type":"ThisExpression"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"keyMaps"},"computed":false,"value":{"type":"ArrayExpression","elements":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"overlays"},"computed":false,"value":{"type":"ArrayExpression","elements":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"modeGen"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"overwrite"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"delayingBlurEvent"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"focused"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"suppressEdits"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"pasteIncoming"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cutIncoming"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"selectingText"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"draggingText"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"highlight"},"computed":false,"value":{"type":"NewExpression","callee":{"type":"Identifier","name":"Delayed"},"arguments":[]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"keySeq"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"specialChars"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"autofocus"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"mobile"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":11,"raw":"11"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":20,"raw":"20"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"registerEventHandlers"},"arguments":[{"type":"ThisExpression"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureGlobalHandlers"},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"startOperation"},"arguments":[{"type":"ThisExpression"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceUpdate"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"attachDoc"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"doc"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"autofocus"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"mobile"},"prefix":true}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasFocus"}},"arguments":[]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"bind"},"arguments":[{"type":"Identifier","name":"onFocus"},{"type":"ThisExpression"}]},{"type":"Literal","value":20,"raw":"20"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"onBlur"},"arguments":[{"type":"ThisExpression"}]}}]}},{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"opt"},"init":null}],"kind":"var"},"right":{"type":"Identifier","name":"optionHandlers"},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"optionHandlers"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"opt"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"optionHandlers"},"property":{"type":"Identifier","name":"opt"}},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"opt"}},{"type":"Identifier","name":"Init"}]}}]},"alternate":null}]},"each":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"maybeUpdateLineNumberWidth"},"arguments":[{"type":"ThisExpression"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"finishInit"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"finishInit"}},"arguments":[{"type":"ThisExpression"}]}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"initHooks"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"initHooks"},"property":{"type":"Identifier","name":"i"}},"arguments":[{"type":"Identifier","name":"this$1"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation"},"arguments":[{"type":"ThisExpression"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"webkit"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"lineWrapping"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getComputedStyle"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}}]},"property":{"type":"Identifier","name":"textRendering"}},"right":{"type":"Literal","value":"optimizelegibility","raw":"\"optimizelegibility\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"textRendering"}},"right":{"type":"Literal","value":"auto","raw":"\"auto\""}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defaults"}},"right":{"type":"Identifier","name":"defaults"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"optionHandlers"}},"right":{"type":"Identifier","name":"optionHandlers"}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"registerEventHandlers"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"d"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"mousedown","raw":"\"mousedown\""},{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"onMouseDown"}]}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":11,"raw":"11"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dblclick","raw":"\"dblclick\""},{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posFromMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"pos"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clickInGutter"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},{"type":"Identifier","name":"e"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"word"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"findWordAt"}},"arguments":[{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"extendSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"word"},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"word"},"property":{"type":"Identifier","name":"head"}}]}}]},"generator":false,"expression":false,"async":false}]}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"dblclick","raw":"\"dblclick\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}}}]},"generator":false,"expression":false,"async":false}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"contextmenu","raw":"\"contextmenu\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"onContextMenu"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"touchFinished"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prevTouch"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"end"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"finishTouch"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"touchFinished"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":1000,"raw":"1000"}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"prevTouch"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prevTouch"},"property":{"type":"Identifier","name":"end"}},"right":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isMouseLikeTouchEvent"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"touch"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"property":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"radiusX"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"radiusY"}},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"farAway"},"params":[{"type":"Identifier","name":"touch"},{"type":"Identifier","name":"other"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dx"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"left"}}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dy"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"other"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"top"}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dx"},"right":{"type":"Identifier","name":"dx"}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dy"},"right":{"type":"Identifier","name":"dy"}}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Literal","value":20,"raw":"20"},"right":{"type":"Literal","value":20,"raw":"20"}}}}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"touchstart","raw":"\"touchstart\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isMouseLikeTouchEvent"},"arguments":[{"type":"Identifier","name":"e"}]},"prefix":true}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"clickInGutter"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"ensurePolled"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearTimeout"},"arguments":[{"type":"Identifier","name":"touchFinished"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"now"},"init":{"type":"UnaryExpression","operator":"+","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"prefix":true}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"start"},"computed":false,"value":{"type":"Identifier","name":"now"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"moved"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"prev"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"now"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prevTouch"},"property":{"type":"Identifier","name":"end"}}},"right":{"type":"Literal","value":300,"raw":"300"}},"consequent":{"type":"Identifier","name":"prevTouch"},"alternate":{"type":"Literal","value":null,"raw":"null"}},"kind":"init","method":false,"shorthand":false}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"pageX"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"touches"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"pageY"}}}}]},"alternate":null}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"touchmove","raw":"\"touchmove\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},"property":{"type":"Identifier","name":"moved"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"touchend","raw":"\"touchend\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"touch"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"touch"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"Identifier","name":"d"},{"type":"Identifier","name":"e"}]},"prefix":true}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"moved"}},"prefix":true}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"BinaryExpression","operator":"-","left":{"type":"NewExpression","callee":{"type":"Identifier","name":"Date"},"arguments":[]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"start"}}},"right":{"type":"Literal","value":300,"raw":"300"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"coordsChar"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"activeTouch"}},{"type":"Literal","value":"page","raw":"\"page\""}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"prev"}},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"farAway"},"arguments":[{"type":"Identifier","name":"touch"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"prev"}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"pos"}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"prev"}},"property":{"type":"Identifier","name":"prev"}},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"farAway"},"arguments":[{"type":"Identifier","name":"touch"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"touch"},"property":{"type":"Identifier","name":"prev"}},"property":{"type":"Identifier","name":"prev"}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"findWordAt"}},"arguments":[{"type":"Identifier","name":"pos"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]}]}]}}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setSelection"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"finishTouch"},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"touchcancel","raw":"\"touchcancel\""},{"type":"Identifier","name":"finishTouch"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"scroll","raw":"\"scroll\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"clientHeight"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateScrollTop"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setScrollLeft"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollLeft"}},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"scroll","raw":"\"scroll\""},{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"mousewheel","raw":"\"mousewheel\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"onScrollWheel"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"DOMMouseScroll","raw":"\"DOMMouseScroll\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"onScrollWheel"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}},{"type":"Literal","value":"scroll","raw":"\"scroll\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"scrollLeft"}},"right":{"type":"Literal","value":0,"raw":"0"}}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"dragFunctions"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"enter"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_stop"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"over"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"onDragOver"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_stop"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"start"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"onDragStart"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"drop"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"onDrop"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"leave"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearDragCursor"},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"inp"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"d"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"getField"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"inp"},{"type":"Literal","value":"keyup","raw":"\"keyup\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"onKeyUp"},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"inp"},{"type":"Literal","value":"keydown","raw":"\"keydown\""},{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"onKeyDown"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"inp"},{"type":"Literal","value":"keypress","raw":"\"keypress\""},{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"onKeyPress"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"inp"},{"type":"Literal","value":"focus","raw":"\"focus\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"onFocus"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"inp"},{"type":"Literal","value":"blur","raw":"\"blur\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"onBlur"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"initHooks"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineInitHook"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"initHooks"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"f"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"indentLine"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"n"},{"type":"Identifier","name":"how"},{"type":"Identifier","name":"aggressive"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"state"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"add","raw":"\"add\""}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"smart","raw":"\"smart\""}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}},"property":{"type":"Identifier","name":"indent"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"prev","raw":"\"prev\""}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"state"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getContextBefore"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"n"}]},"property":{"type":"Identifier","name":"state"}}}}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tabSize"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"tabSize"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"n"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curSpace"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"tabSize"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curSpaceString"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"Literal","raw":"/^\\s*/","regex":{"pattern":"^\\s*","flags":""}}]},"property":{"type":"Literal","value":0,"raw":"0"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"indentation"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"aggressive"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\S/","regex":{"pattern":"\\S","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"not","raw":"\"not\""}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"smart","raw":"\"smart\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"mode"}},"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"Identifier","name":"state"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"curSpaceString"},"property":{"type":"Identifier","name":"length"}}]},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}}]}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"indentation"},"right":{"type":"Identifier","name":"Pass"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"indentation"},"right":{"type":"Literal","value":150,"raw":"150"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"aggressive"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"prev","raw":"\"prev\""}}}]},"alternate":null}]},"alternate":null}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"prev","raw":"\"prev\""}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"n"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"countColumn"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"n"},"right":{"type":"Literal","value":1,"raw":"1"}}]},"property":{"type":"Identifier","name":"text"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"tabSize"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"Literal","value":0,"raw":"0"}}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"add","raw":"\"add\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"curSpace"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"indentUnit"}}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"how"},"right":{"type":"Literal","value":"subtract","raw":"\"subtract\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"curSpace"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"indentUnit"}}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"how"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"curSpace"},"right":{"type":"Identifier","name":"how"}}}}]},"alternate":null}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indentation"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"indentation"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"indentString"},"init":{"type":"Literal","value":"","raw":"\"\""}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"indentWithTabs"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"floor"}},"arguments":[{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"indentation"},"right":{"type":"Identifier","name":"tabSize"}}]}}],"kind":"var"},"test":{"type":"Identifier","name":"i"},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"tabSize"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"indentString"},"right":{"type":"Literal","value":"\t","raw":"\"\\t\""}}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"indentation"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"indentString"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"spaceStr"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"indentation"},"right":{"type":"Identifier","name":"pos"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"indentString"},"right":{"type":"Identifier","name":"curSpaceString"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceRange"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"indentString"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"n"},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"n"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"curSpaceString"},"property":{"type":"Identifier","name":"length"}}]},{"type":"Literal","value":"+input","raw":"\"+input\""}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"stateAfter"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i$1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"n"}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"curSpaceString"},"property":{"type":"Identifier","name":"length"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos$1"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"n"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"curSpaceString"},"property":{"type":"Identifier","name":"length"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceOneSelection"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"i$1"},{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"pos$1"},{"type":"Identifier","name":"pos$1"}]}]}},{"type":"BreakStatement","label":null}]},"alternate":null}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastCopied"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setLastCopied"},"params":[{"type":"Identifier","name":"newLastCopied"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lastCopied"},"right":{"type":"Identifier","name":"newLastCopied"}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"applyTextInput"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"inserted"},{"type":"Identifier","name":"deleted"},{"type":"Identifier","name":"sel"},{"type":"Identifier","name":"origin"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"sel"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sel"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"paste"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"pasteIncoming"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"origin"},"right":{"type":"Literal","value":"paste","raw":"\"paste\""}}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"textLines"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"splitLinesAuto"},"arguments":[{"type":"Identifier","name":"inserted"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"multiPaste"},"init":{"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"paste"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"lastCopied"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""}]},"right":{"type":"Identifier","name":"inserted"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"BinaryExpression","operator":"%","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"multiPaste"},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"multiPaste"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"splitLines"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"i"}}]}]}}]}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textLines"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"pasteLinesPerSelection"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"multiPaste"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"map"},"arguments":[{"type":"Identifier","name":"textLines"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"l"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"l"}]}}]},"generator":false,"expression":false,"async":false}]}}}]},"alternate":null}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"updateInput"},"init":null}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i$1"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i$1"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"empty"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"deleted"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"deleted"},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"deleted"}}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overwrite"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"paste"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"textLines"}]},"property":{"type":"Identifier","name":"length"}}}]}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"paste"},"right":{"type":"Identifier","name":"lastCopied"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"lineWise"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""}]},"right":{"type":"Identifier","name":"inserted"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":0,"raw":"0"}]}}}}]},"alternate":null}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"updateInput"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"updateInput"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changeEvent"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"from"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"to"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"multiPaste"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"multiPaste"},"property":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"multiPaste"},"property":{"type":"Identifier","name":"length"}}}},"alternate":{"type":"Identifier","name":"textLines"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"origin"},"computed":false,"value":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"origin"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"paste"},"consequent":{"type":"Literal","value":"paste","raw":"\"paste\""},"alternate":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"cutIncoming"}},"consequent":{"type":"Literal","value":"cut","raw":"\"cut\""},"alternate":{"type":"Literal","value":"+input","raw":"\"+input\""}}}},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"makeChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"changeEvent"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"inputRead","raw":"\"inputRead\""},{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"changeEvent"}]}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"inserted"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"paste"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"triggerElectric"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"inserted"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureCursorVisible"},"arguments":[{"type":"Identifier","name":"cm"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"updateInput"}},"right":{"type":"Identifier","name":"updateInput"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"typing"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"pasteIncoming"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"cutIncoming"}},"right":{"type":"Literal","value":false,"raw":"false"}}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"handlePaste"},"params":[{"type":"Identifier","name":"e"},{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pasted"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clipboardData"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clipboardData"}},"property":{"type":"Identifier","name":"getData"}},"arguments":[{"type":"Literal","value":"Text","raw":"\"Text\""}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"pasted"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"preventDefault"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"disableInput"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"applyTextInput"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pasted"},{"type":"Literal","value":0,"raw":"0"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"paste","raw":"\"paste\""}]}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"triggerElectric"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"inserted"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"electricChars"}},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"smartIndent"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"update":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":100,"raw":"100"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"i"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":1,"raw":"1"}}},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ContinueStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mode"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getModeAt"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"indented"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"electricChars"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"electricChars"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"inserted"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"electricChars"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Identifier","name":"j"}]}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indented"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"indentLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":"smart","raw":"\"smart\""}]}}},{"type":"BreakStatement","label":null}]},"alternate":null}]}}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"electricInput"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"electricInput"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"ch"}}]}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"indented"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"indentLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},{"type":"Literal","value":"smart","raw":"\"smart\""}]}}}]},"alternate":null}]},"alternate":null}},{"type":"IfStatement","test":{"type":"Identifier","name":"indented"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Literal","value":"electricInput","raw":"\"electricInput\""},{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copyableRanges"},"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"ArrayExpression","elements":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineRange"},"init":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"anchor"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Literal","value":0,"raw":"0"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"head"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"line"},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"lineRange"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getRange"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineRange"},"property":{"type":"Identifier","name":"anchor"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineRange"},"property":{"type":"Identifier","name":"head"}}]}]}}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"Identifier","name":"text"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"ranges"},"computed":false,"value":{"type":"Identifier","name":"ranges"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"disableBrowserMagic"},"params":[{"type":"Identifier","name":"field"},{"type":"Identifier","name":"spellcheck"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"field"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"autocorrect","raw":"\"autocorrect\""},{"type":"Literal","value":"off","raw":"\"off\""}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"field"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"autocapitalize","raw":"\"autocapitalize\""},{"type":"Literal","value":"off","raw":"\"off\""}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"field"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"spellcheck","raw":"\"spellcheck\""},{"type":"UnaryExpression","operator":"!","argument":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"spellcheck"},"prefix":true},"prefix":true}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"hiddenTextarea"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"te"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"textarea","raw":"\"textarea\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none","raw":"\"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\""}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"div"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"elt"},"arguments":[{"type":"Literal","value":"div","raw":"\"div\""},{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"te"}]},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"overflow: hidden; position: relative; width: 3px; height: 0px;","raw":"\"overflow: hidden; position: relative; width: 3px; height: 0px;\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"Literal","value":"1000px","raw":"\"1000px\""}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"wrap","raw":"\"wrap\""},{"type":"Literal","value":"off","raw":"\"off\""}]}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"ios"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"border"}},"right":{"type":"Literal","value":"1px solid black","raw":"\"1px solid black\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"disableBrowserMagic"},"arguments":[{"type":"Identifier","name":"te"}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"div"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addEditorMethods"},"params":[{"type":"Identifier","name":"CodeMirror"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"optionHandlers"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"optionHandlers"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"helpers"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"helpers"}},"right":{"type":"ObjectExpression","properties":[]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"prototype"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"constructor"},"computed":false,"value":{"type":"Identifier","name":"CodeMirror"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"focus"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setOption"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"option"},{"type":"Identifier","name":"value"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"options"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"old"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"option"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"option"}},"right":{"type":"Identifier","name":"value"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"option"},"right":{"type":"Literal","value":"mode","raw":"\"mode\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"option"}},"right":{"type":"Identifier","name":"value"}}},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"optionHandlers"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"option"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"optionHandlers"},"property":{"type":"Identifier","name":"option"}}]},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"value"},{"type":"Identifier","name":"old"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"optionChange","raw":"\"optionChange\""},{"type":"ThisExpression"},{"type":"Identifier","name":"option"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getOption"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"option"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"option"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getDoc"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"addKeyMap"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"map$$1"},{"type":"Identifier","name":"bottom"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keyMaps"}},"property":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"bottom"},"consequent":{"type":"Literal","value":"push","raw":"\"push\""},"alternate":{"type":"Literal","value":"unshift","raw":"\"unshift\""}}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getKeyMap"},"arguments":[{"type":"Identifier","name":"map$$1"}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"removeKeyMap"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"map$$1"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"maps"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keyMaps"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"maps"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"maps"},"property":{"type":"Identifier","name":"i"}},"right":{"type":"Identifier","name":"map$$1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"maps"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"map$$1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"maps"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"i"},{"type":"Literal","value":1,"raw":"1"}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"addOverlay"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"spec"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mode"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"spec"},"property":{"type":"Identifier","name":"token"}},"consequent":{"type":"Identifier","name":"spec"},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"getMode"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},{"type":"Identifier","name":"spec"}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"startState"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"Literal","value":"Overlays may not be stateful.","raw":"\"Overlays may not be stateful.\""}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"insertSorted"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overlays"}},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"mode"},"computed":false,"value":{"type":"Identifier","name":"mode"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"modeSpec"},"computed":false,"value":{"type":"Identifier","name":"spec"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"opaque"},"computed":false,"value":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"opaque"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"priority"},"computed":false,"value":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"options"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"priority"}}},"right":{"type":"Literal","value":0,"raw":"0"}},"kind":"init","method":false,"shorthand":false}]},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"overlay"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"overlay"},"property":{"type":"Identifier","name":"priority"}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"modeGen"}},"prefix":false}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"ThisExpression"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"removeOverlay"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"spec"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"overlays"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overlays"}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"overlays"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"overlays"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"modeSpec"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cur"},"right":{"type":"Identifier","name":"spec"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"spec"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"spec"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"overlays"},"property":{"type":"Identifier","name":"splice"}},"arguments":[{"type":"Identifier","name":"i"},{"type":"Literal","value":1,"raw":"1"}]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"modeGen"}},"prefix":false}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"Identifier","name":"this$1"}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"indentLine"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"n"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"aggressive"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"dir"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"dir"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dir"},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"smartIndent"}},"consequent":{"type":"Literal","value":"smart","raw":"\"smart\""},"alternate":{"type":"Literal","value":"prev","raw":"\"prev\""}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dir"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"dir"},"consequent":{"type":"Literal","value":"add","raw":"\"add\""},"alternate":{"type":"Literal","value":"subtract","raw":"\"subtract\""}}}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"n"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"indentLine"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"n"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"aggressive"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"indentSelection"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"how"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"empty"}},"arguments":[]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Identifier","name":"end"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}},"consequent":{"type":"Literal","value":0,"raw":"0"},"alternate":{"type":"Literal","value":1,"raw":"1"}}}]},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Identifier","name":"start"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"Identifier","name":"end"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"j"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"indentLine"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"Identifier","name":"j"},{"type":"Identifier","name":"how"}]}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newRanges"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newRanges"},"property":{"type":"Identifier","name":"length"}}}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newRanges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceOneSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"i"},{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"Identifier","name":"from"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newRanges"},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"to"}},"arguments":[]}]},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"end"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"indentLine"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"how"},{"type":"Literal","value":true,"raw":"true"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"property":{"type":"Identifier","name":"line"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primIndex"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"ensureCursorVisible"},"arguments":[{"type":"Identifier","name":"this$1"}]}}]},"alternate":null}]},"alternate":null}}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getTokenAt"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"precise"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"takeToken"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"precise"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getLineTokens"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"precise"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"takeToken"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"}]},{"type":"Identifier","name":"precise"},{"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getTokenTypeAt"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"styles"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLineStyles"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"before"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"after"},"init":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"styles"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"Literal","value":2,"raw":"2"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"ch"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"type"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"Literal","value":2,"raw":"2"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mid"},"init":{"type":"BinaryExpression","operator":"&gt;&gt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"before"},"right":{"type":"Identifier","name":"after"}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"mid"},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"mid"},"right":{"type":"Literal","value":2,"raw":"2"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"alternate":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"Identifier","name":"ch"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"after"},"right":{"type":"Identifier","name":"mid"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"mid"},"right":{"type":"Literal","value":2,"raw":"2"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"Identifier","name":"ch"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"before"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"mid"},"right":{"type":"Literal","value":1,"raw":"1"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"type"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"styles"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"mid"},"right":{"type":"Literal","value":2,"raw":"2"}},"right":{"type":"Literal","value":2,"raw":"2"}}}}},{"type":"BreakStatement","label":null}]}}}]}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cut"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"type"},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"type"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":"overlay ","raw":"\"overlay \""}]},"alternate":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"cut"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Identifier","name":"type"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cut"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"type"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"cut"},"right":{"type":"Literal","value":1,"raw":"1"}}]}}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getModeAt"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mode"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"mode"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"innerMode"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"mode"}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"innerMode"}},"arguments":[{"type":"Identifier","name":"mode"},{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getTokenAt"}},"arguments":[{"type":"Identifier","name":"pos"}]},"property":{"type":"Identifier","name":"state"}}]},"property":{"type":"Identifier","name":"mode"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getHelper"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":true,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getHelpers"}},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"type"}]},"property":{"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getHelpers"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"helpers"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"type"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"found"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"help"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"helpers"},"property":{"type":"Identifier","name":"type"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mode"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getModeAt"}},"arguments":[{"type":"Identifier","name":"pos"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"type"}},"prefix":true},"right":{"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"help"},"property":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"type"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"help"},"property":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"type"}}}]}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"type"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"type"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"val"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"help"},"property":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"type"}},"property":{"type":"Identifier","name":"i"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"val"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"val"}]}}]},"alternate":null}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"helperType"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"help"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"helperType"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"help"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"helperType"}}}]}}]},"alternate":{"type":"IfStatement","test":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"help"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"name"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"help"},"property":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"mode"},"property":{"type":"Identifier","name":"name"}}}]}}]},"alternate":null}}}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i$1"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"help"},"property":{"type":"Identifier","name":"_global"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i$1"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"help"},"property":{"type":"Identifier","name":"_global"}},"property":{"type":"Identifier","name":"i$1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"pred"}},"arguments":[{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"this$1"}]},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"found"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"val"}}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"val"}}]}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"found"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getStateAfter"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"precise"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"line"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}},"alternate":{"type":"Identifier","name":"line"}}]}}},{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getContextBefore"},"arguments":[{"type":"ThisExpression"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"line"},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Identifier","name":"precise"}]},"property":{"type":"Identifier","name":"state"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"cursorCoords"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"start"},{"type":"Identifier","name":"mode"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"start"},"prefix":true},"right":{"type":"Literal","value":"object","raw":"\"object\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"start"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"start"},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}}}]}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"pos"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"mode"},"right":{"type":"Literal","value":"page","raw":"\"page\""}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"charCoords"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"mode"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"charCoords"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"}]},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"mode"},"right":{"type":"Literal","value":"page","raw":"\"page\""}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"coordsChar"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"coords"},{"type":"Identifier","name":"mode"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"coords"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"fromCoordSystem"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"coords"},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"mode"},"right":{"type":"Literal","value":"page","raw":"\"page\""}}]}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"coordsChar"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"left"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"top"}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"lineAtHeight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"height"},{"type":"Identifier","name":"mode"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"height"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"fromCoordSystem"},"arguments":[{"type":"ThisExpression"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"height"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false}]},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"mode"},"right":{"type":"Literal","value":"page","raw":"\"page\""}}]},"property":{"type":"Identifier","name":"top"}}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineAtHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"height"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewOffset"}}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"heightAtLine"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"mode"},{"type":"Identifier","name":"includeWidgets"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"Literal","value":false,"raw":"false"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineObj"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"line"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"last"},"init":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"size"}}},"right":{"type":"Literal","value":1,"raw":"1"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"first"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"line"},"right":{"type":"Identifier","name":"last"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"line"},"right":{"type":"Identifier","name":"last"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"line"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"Identifier","name":"line"}}}]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"intoCoordSystem"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"lineObj"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false}]},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"mode"},"right":{"type":"Literal","value":"page","raw":"\"page\""}},{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"includeWidgets"},"right":{"type":"Identifier","name":"end"}}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"end"},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"heightAtLine"},"arguments":[{"type":"Identifier","name":"lineObj"}]}},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"defaultTextHeight"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"textHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"defaultCharWidth"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"charWidth"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getViewport"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"addWidget"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"scroll"},{"type":"Identifier","name":"vert"},{"type":"Identifier","name":"horiz"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"ThisExpression"},{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"pos"}]}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"top"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bottom"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"left"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"left"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"position"}},"right":{"type":"Literal","value":"absolute","raw":"\"absolute\""}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"Literal","value":"cm-ignore-events","raw":"\"cm-ignore-events\""},{"type":"Literal","value":"true","raw":"\"true\""}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"setUneditable"}},"arguments":[{"type":"Identifier","name":"node"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"Identifier","name":"node"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"vert"},"right":{"type":"Literal","value":"over","raw":"\"over\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"top"}}}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"vert"},"right":{"type":"Literal","value":"above","raw":"\"above\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"vert"},"right":{"type":"Literal","value":"near","raw":"\"near\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"vspace"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"height"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hspace"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"clientWidth"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"clientWidth"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"vert"},"right":{"type":"Literal","value":"above","raw":"'above'"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetHeight"}}},"right":{"type":"Identifier","name":"vspace"}}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetHeight"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"top"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetHeight"}}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetHeight"}}},"right":{"type":"Identifier","name":"vspace"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bottom"}}}}]},"alternate":null}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"left"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetWidth"}}},"right":{"type":"Identifier","name":"hspace"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"hspace"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetWidth"}}}}}]},"alternate":null}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"top"},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Literal","value":"","raw":"\"\""}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"horiz"},"right":{"type":"Literal","value":"right","raw":"\"right\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"clientWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetWidth"}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"right"}},"right":{"type":"Literal","value":"0px","raw":"\"0px\""}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"horiz"},"right":{"type":"Literal","value":"left","raw":"\"left\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"horiz"},"right":{"type":"Literal","value":"middle","raw":"\"middle\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"left"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"sizer"}},"property":{"type":"Identifier","name":"clientWidth"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetWidth"}}},"right":{"type":"Literal","value":2,"raw":"2"}}}}]},"alternate":null}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"left"},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"scroll"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollIntoView"},"arguments":[{"type":"ThisExpression"},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"Identifier","name":"left"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"Identifier","name":"top"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"right"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"left"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetWidth"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"bottom"},"computed":false,"value":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"top"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"offsetHeight"}}},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"triggerOnKeyDown"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"Identifier","name":"onKeyDown"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"triggerOnKeyPress"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"Identifier","name":"onKeyPress"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"triggerOnKeyUp"},"computed":false,"value":{"type":"Identifier","name":"onKeyUp"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"triggerOnMouseDown"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"Identifier","name":"onMouseDown"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"execCommand"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cmd"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"commands"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"cmd"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"commands"},"property":{"type":"Identifier","name":"cmd"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Literal","value":null,"raw":"null"},{"type":"ThisExpression"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"triggerElectric"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"text"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"triggerElectric"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"text"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"findPosH"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"amount"},{"type":"Identifier","name":"unit"},{"type":"Identifier","name":"visually"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dir"},"init":{"type":"Literal","value":1,"raw":"1"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"amount"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dir"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"amount"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"amount"},"prefix":true}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"from"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"amount"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"findPosH"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"cur"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"},{"type":"Identifier","name":"visually"}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"hitSide"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"cur"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"moveH"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range$$1"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"extend"}}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"empty"}},"arguments":[]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"findPosH"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"rtlMoveVisually"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}}]}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"sel_move"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"deleteH"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"replaceSelection"}},"arguments":[{"type":"Literal","value":"","raw":"\"\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"+delete","raw":"\"+delete\""}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"deleteNearSelection"},"arguments":[{"type":"ThisExpression"},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range$$1"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"other"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findPosH"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"},{"type":"Literal","value":false,"raw":"false"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"other"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"kind":"init","method":false,"shorthand":false}]},"alternate":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Identifier","name":"other"},"kind":"init","method":false,"shorthand":false}]}}}]},"generator":false,"expression":false,"async":false}]}}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"findPosV"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"from"},{"type":"Identifier","name":"amount"},{"type":"Identifier","name":"unit"},{"type":"Identifier","name":"goalColumn"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dir"},"init":{"type":"Literal","value":1,"raw":"1"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"x"},"init":{"type":"Identifier","name":"goalColumn"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"amount"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dir"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"amount"},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"amount"},"prefix":true}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"clipPos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"from"}]}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Identifier","name":"amount"}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":true},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"coords"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"Identifier","name":"cur"},{"type":"Literal","value":"div","raw":"\"div\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"x"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"x"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"left"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"coords"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Identifier","name":"x"}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"cur"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"findPosV"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"Identifier","name":"coords"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cur"},"property":{"type":"Identifier","name":"hitSide"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"cur"}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"moveV"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"goals"},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"collapse"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"shift"}},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"extend"}},"prefix":true}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"extendSelectionsBy"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range$$1"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"collapse"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"arguments":[]},"alternate":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"headPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"div","raw":"\"div\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"goalColumn"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"headPos"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"goalColumn"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"goals"},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"headPos"},"property":{"type":"Identifier","name":"left"}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findPosV"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"Identifier","name":"headPos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"page","raw":"\"page\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"range$$1"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addToScrollTop"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"charCoords"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"Identifier","name":"pos"},{"type":"Literal","value":"div","raw":"\"div\""}]},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"headPos"},"property":{"type":"Identifier","name":"top"}}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"sel_move"}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"goals"},"property":{"type":"Identifier","name":"length"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"ranges"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"goalColumn"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"goals"},"property":{"type":"Identifier","name":"i"}}}}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"findWordAt"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"line"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"helper"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getHelper"}},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Literal","value":"wordChars","raw":"\"wordChars\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Literal","value":"before","raw":"\"before\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"end"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"length"}}}},"right":{"type":"Identifier","name":"start"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"start"},"prefix":true}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"end"},"prefix":true}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startChar"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Identifier","name":"start"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"check"},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWordChar"},"arguments":[{"type":"Identifier","name":"startChar"},{"type":"Identifier","name":"helper"}]},"consequent":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWordChar"},"arguments":[{"type":"Identifier","name":"ch"},{"type":"Identifier","name":"helper"}]}}]},"generator":false,"expression":false,"async":false},"alternate":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\s/","regex":{"pattern":"\\s","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"startChar"}]},"consequent":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\s/","regex":{"pattern":"\\s","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"ch"}]}}]},"generator":false,"expression":false,"async":false},"alternate":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"ch"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\s/","regex":{"pattern":"\\s","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"ch"}]},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWordChar"},"arguments":[{"type":"Identifier","name":"ch"}]},"prefix":true}}}]},"generator":false,"expression":false,"async":false}}}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"check"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"start"},"right":{"type":"Literal","value":1,"raw":"1"}}]}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"start"},"prefix":true}}]}},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"end"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"check"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"Identifier","name":"end"}]}]}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"end"},"prefix":true}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Range"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"start"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"end"}]}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"toggleOverwrite"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"value"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"value"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"value"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overwrite"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overwrite"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overwrite"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cursorDiv"}},{"type":"Literal","value":"CodeMirror-overwrite","raw":"\"CodeMirror-overwrite\""}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"rmClass"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cursorDiv"}},{"type":"Literal","value":"CodeMirror-overwrite","raw":"\"CodeMirror-overwrite\""}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"overwriteToggle","raw":"\"overwriteToggle\""},{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"overwrite"}}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"hasFocus"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"getField"}},"arguments":[]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"isReadOnly"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"UnaryExpression","operator":"!","argument":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"readOnly"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"cantEdit"}}},"prefix":true},"prefix":true}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scrollTo"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToCoords"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getScrollInfo"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scroller"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"left"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroller"},"property":{"type":"Identifier","name":"scrollLeft"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"top"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroller"},"property":{"type":"Identifier","name":"scrollTop"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"height"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroller"},"property":{"type":"Identifier","name":"scrollHeight"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"ThisExpression"}]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barHeight"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"width"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scroller"},"property":{"type":"Identifier","name":"scrollWidth"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollGap"},"arguments":[{"type":"ThisExpression"}]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"barWidth"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"clientHeight"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayHeight"},"arguments":[{"type":"ThisExpression"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"clientWidth"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"displayWidth"},"arguments":[{"type":"ThisExpression"}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"scrollIntoView"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"range$$1"},{"type":"Identifier","name":"margin"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"range$$1"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range$$1"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]},"property":{"type":"Identifier","name":"head"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"margin"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"margin"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"cursorScrollMargin"}}}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"range$$1"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range$$1"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"range$$1"},{"type":"Literal","value":0,"raw":"0"}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range$$1"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"from"},"computed":false,"value":{"type":"Identifier","name":"range$$1"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"to"},"computed":false,"value":{"type":"Literal","value":null,"raw":"null"},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"margin"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"Identifier","name":"margin"},"right":{"type":"Literal","value":0,"raw":"0"}}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToRange"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"range$$1"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToCoordsRange"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"margin"}}]}}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"setSize"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"width"},{"type":"Identifier","name":"height"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"interpret"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"val"},"prefix":true},"right":{"type":"Literal","value":"number","raw":"\"number\""}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^\\d+$/","regex":{"pattern":"^\\d+$","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"String"},"arguments":[{"type":"Identifier","name":"val"}]}]}},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"val"},"right":{"type":"Literal","value":"px","raw":"\"px\""}},"alternate":{"type":"Identifier","name":"val"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"width"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"interpret"},"arguments":[{"type":"Identifier","name":"width"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"height"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"height"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"interpret"},"arguments":[{"type":"Identifier","name":"height"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWrapping"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearLineMeasurementCache"},"arguments":[{"type":"ThisExpression"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineNo$$1"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"iter"}},"arguments":[{"type":"Identifier","name":"lineNo$$1"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"line"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"consequent":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"widgets"}},"property":{"type":"Identifier","name":"i"}},"property":{"type":"Identifier","name":"noHScroll"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regLineChange"},"arguments":[{"type":"Identifier","name":"this$1"},{"type":"Identifier","name":"lineNo$$1"},{"type":"Literal","value":"widget","raw":"\"widget\""}]}},{"type":"BreakStatement","label":null}]},"alternate":null}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"lineNo$$1"},"prefix":true}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceUpdate"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"refresh","raw":"\"refresh\""},{"type":"ThisExpression"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"operation"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"f"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"f"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"startOperation"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"startOperation"},"arguments":[{"type":"ThisExpression"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"endOperation"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOperation"},"arguments":[{"type":"ThisExpression"}]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"refresh"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldHeight"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cachedTextHeight"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"ThisExpression"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceUpdate"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearCaches"},"arguments":[{"type":"ThisExpression"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToCoords"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollLeft"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"scrollTop"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"updateGutterSpace"},"arguments":[{"type":"ThisExpression"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"oldHeight"},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"oldHeight"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"textHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}}]}}]},"right":{"type":"Literal","value":0.5,"raw":".5"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"estimateLineHeights"},"arguments":[{"type":"ThisExpression"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signal"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"refresh","raw":"\"refresh\""},{"type":"ThisExpression"}]}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"swapDoc"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"methodOp"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"doc"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"old"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"old"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"attachDoc"},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"doc"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearCaches"},"arguments":[{"type":"ThisExpression"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"scrollToCoords"},"arguments":[{"type":"ThisExpression"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"scrollLeft"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"scrollTop"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"forceScroll"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalLater"},"arguments":[{"type":"ThisExpression"},{"type":"Literal","value":"swapDoc","raw":"\"swapDoc\""},{"type":"ThisExpression"},{"type":"Identifier","name":"old"}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"old"}}]},"generator":false,"expression":false,"async":false}]},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"phrase"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"phraseText"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"phrases"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"phrases"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"phrases"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Object"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"hasOwnProperty"}},"property":{"type":"Identifier","name":"call"}},"arguments":[{"type":"Identifier","name":"phrases"},{"type":"Identifier","name":"phraseText"}]}},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"phrases"},"property":{"type":"Identifier","name":"phraseText"}},"alternate":{"type":"Identifier","name":"phraseText"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getInputField"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"getField"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getWrapperElement"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getScrollerElement"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"scroller"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"getGutterElement"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"gutters"}}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventMixin"},"arguments":[{"type":"Identifier","name":"CodeMirror"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"registerHelper"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"value"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"helpers"},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"type"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"helpers"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"_global"},"computed":false,"value":{"type":"ArrayExpression","elements":[]},"kind":"init","method":false,"shorthand":false}]}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"helpers"},"property":{"type":"Identifier","name":"type"}},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"value"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"registerGlobalHelper"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"predicate"},{"type":"Identifier","name":"value"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"registerHelper"}},"arguments":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"value"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"helpers"},"property":{"type":"Identifier","name":"type"}},"property":{"type":"Identifier","name":"_global"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"pred"},"computed":false,"value":{"type":"Identifier","name":"predicate"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"val"},"computed":false,"value":{"type":"Identifier","name":"value"},"kind":"init","method":false,"shorthand":false}]}]}}]},"generator":false,"expression":false,"async":false}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findPosH"},"params":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"},{"type":"Identifier","name":"visually"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldPos"},"init":{"type":"Identifier","name":"pos"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"origDir"},"init":{"type":"Identifier","name":"dir"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineObj"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findNextLine"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"l"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Identifier","name":"dir"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"l"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"l"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"first"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"size"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"l"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"sticky"}}]}}},{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineObj"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"l"}]}}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"moveOnce"},"params":[{"type":"Identifier","name":"boundToLine"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"next"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"visually"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"next"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveVisually"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"next"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveLogically"},"arguments":[{"type":"Identifier","name":"lineObj"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"}]}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"next"},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"boundToLine"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"findNextLine"},"arguments":[]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"endOfLine"},"arguments":[{"type":"Identifier","name":"visually"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"lineObj"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}},{"type":"Identifier","name":"dir"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"pos"},"right":{"type":"Identifier","name":"next"}}}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"char","raw":"\"char\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveOnce"},"arguments":[]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"column","raw":"\"column\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveOnce"},"arguments":[{"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"word","raw":"\"word\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"group","raw":"\"group\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sawType"},"init":{"type":"Literal","value":null,"raw":"null"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"group"},"init":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"group","raw":"\"group\""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"helper"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"getHelper"}},"arguments":[{"type":"Identifier","name":"pos"},{"type":"Literal","value":"wordChars","raw":"\"wordChars\""}]}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"first"},"init":{"type":"Literal","value":true,"raw":"true"}}],"kind":"var"},"test":null,"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"first"},"right":{"type":"Literal","value":false,"raw":"false"}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveOnce"},"arguments":[{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"first"},"prefix":true}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cur"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineObj"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"charAt"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}]},"right":{"type":"Literal","value":"\n","raw":"\"\\n\""}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"type"},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isWordChar"},"arguments":[{"type":"Identifier","name":"cur"},{"type":"Identifier","name":"helper"}]},"consequent":{"type":"Literal","value":"w","raw":"\"w\""},"alternate":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"group"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cur"},"right":{"type":"Literal","value":"\n","raw":"\"\\n\""}}},"consequent":{"type":"Literal","value":"n","raw":"\"n\""},"alternate":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"group"},"prefix":true},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/\\s/","regex":{"pattern":"\\s","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"cur"}]}},"consequent":{"type":"Literal","value":null,"raw":"null"},"alternate":{"type":"Literal","value":"p","raw":"\"p\""}}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"group"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"first"},"prefix":true}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"type"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"type"},"right":{"type":"Literal","value":"s","raw":"\"s\""}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"sawType"},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"sawType"},"right":{"type":"Identifier","name":"type"}}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveOnce"},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"sticky"}},"right":{"type":"Literal","value":"after","raw":"\"after\""}}}]},"alternate":null},{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"type"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"sawType"},"right":{"type":"Identifier","name":"type"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"moveOnce"},"arguments":[{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"first"},"prefix":true}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}}]},"alternate":null}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"skipAtomic"},"arguments":[{"type":"Identifier","name":"doc"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"oldPos"},{"type":"Identifier","name":"origDir"},{"type":"Literal","value":true,"raw":"true"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"equalCursorPos"},"arguments":[{"type":"Identifier","name":"oldPos"},{"type":"Identifier","name":"result"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"hitSide"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findPosV"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"unit"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"x"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"left"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"y"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"page","raw":"\"page\""}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pageSize"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}},{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"innerHeight"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"documentElement"}},"property":{"type":"Identifier","name":"clientHeight"}}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"moveAmount"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"pageSize"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Literal","value":0.5,"raw":".5"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"textHeight"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}]}}},{"type":"Literal","value":3,"raw":"3"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"y"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bottom"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dir"},"right":{"type":"Identifier","name":"moveAmount"}}}}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"unit"},"right":{"type":"Literal","value":"line","raw":"\"line\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"y"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bottom"}},"right":{"type":"Literal","value":3,"raw":"3"}},"alternate":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"Literal","value":3,"raw":"3"}}}}}]},"alternate":null}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"target"},"init":null}],"kind":"var"},{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"target"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"coordsChar"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}]}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"target"},"property":{"type":"Identifier","name":"outside"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"y"},"right":{"type":"Literal","value":0,"raw":"0"}},"alternate":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"y"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"height"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"target"},"property":{"type":"Identifier","name":"hitSide"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"y"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"dir"},"right":{"type":"Literal","value":5,"raw":"5"}}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"target"}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ContentEditableInput"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"Identifier","name":"cm"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastAnchorNode"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastAnchorOffset"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastFocusNode"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastFocusOffset"}},"right":{"type":"Literal","value":null,"raw":"null"}}}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"polling"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Delayed"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"gracePeriod"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"init"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":{"type":"ThisExpression"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"div"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"div"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"disableBrowserMagic"},"arguments":[{"type":"Identifier","name":"div"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"spellcheck"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"paste","raw":"\"paste\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"handlePaste"},"arguments":[{"type":"Identifier","name":"e"},{"type":"Identifier","name":"cm"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":11,"raw":"11"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"updateFromDOM"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]},{"type":"Literal","value":20,"raw":"20"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"compositionstart","raw":"\"compositionstart\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"data"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"data"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"done"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false}]}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"compositionupdate","raw":"\"compositionupdate\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"data"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"data"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"done"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"compositionend","raw":"\"compositionend\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"data"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"data"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"readFromDOMSoon"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"done"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"touchstart","raw":"\"touchstart\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"forceCompositionEnd"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"input","raw":"\"input\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"readFromDOMSoon"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"onCopyCut"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setLastCopied"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"lineWise"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getSelections"}},"arguments":[]},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"cut","raw":"\"cut\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceSelection"}},"arguments":[{"type":"Literal","value":"","raw":"\"\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"cut","raw":"\"cut\""}]}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWiseCopyCut"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyableRanges"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setLastCopied"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"lineWise"},"computed":false,"value":{"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"text"}},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"cut","raw":"\"cut\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"operation"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setSelections"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"ranges"}},{"type":"Literal","value":0,"raw":"0"},{"type":"Identifier","name":"sel_dontScroll"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"replaceSelection"}},"arguments":[{"type":"Literal","value":"","raw":"\"\""},{"type":"Literal","value":null,"raw":"null"},{"type":"Literal","value":"cut","raw":"\"cut\""}]}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clipboardData"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clipboardData"}},"property":{"type":"Identifier","name":"clearData"}},"arguments":[]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"content"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clipboardData"}},"property":{"type":"Identifier","name":"setData"}},"arguments":[{"type":"Literal","value":"Text","raw":"\"Text\""},{"type":"Identifier","name":"content"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clipboardData"}},"property":{"type":"Identifier","name":"getData"}},"arguments":[{"type":"Literal","value":"Text","raw":"\"Text\""}]},"right":{"type":"Identifier","name":"content"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"preventDefault"}},"arguments":[]}},{"type":"ReturnStatement","argument":null}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"kludge"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"hiddenTextarea"},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"te"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"kludge"},"property":{"type":"Identifier","name":"firstChild"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"Identifier","name":"kludge"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"firstChild"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lastCopied"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hadFocus"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"activeElement"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"selectInput"},"arguments":[{"type":"Identifier","name":"te"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineSpace"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"Identifier","name":"kludge"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"hadFocus"},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"hadFocus"},"right":{"type":"Identifier","name":"div"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"showPrimarySelection"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":50,"raw":"50"}]}}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"copy","raw":"\"copy\""},{"type":"Identifier","name":"onCopyCut"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"div"},{"type":"Literal","value":"cut","raw":"\"cut\""},{"type":"Identifier","name":"onCopyCut"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"prepareSelection"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"Literal","value":false,"raw":"false"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"showSelection"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"info"},{"type":"Identifier","name":"takeFocus"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"info"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"length"}},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"Identifier","name":"takeFocus"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"showPrimarySelection"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"showMultipleSelections"}},"arguments":[{"type":"Identifier","name":"info"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"getSelection"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"ownerDocument"}},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"showPrimarySelection"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prim"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prim"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prim"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"removeAllRanges"}},"arguments":[]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curAnchor"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"domToPos"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorOffset"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curFocus"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"domToPos"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusNode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusOffset"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"curAnchor"},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"curAnchor"},"property":{"type":"Identifier","name":"bad"}},"prefix":true}},"right":{"type":"Identifier","name":"curFocus"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"curFocus"},"property":{"type":"Identifier","name":"bad"}},"prefix":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"minPos"},"arguments":[{"type":"Identifier","name":"curAnchor"},{"type":"Identifier","name":"curFocus"}]},{"type":"Identifier","name":"from"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"maxPos"},"arguments":[{"type":"Identifier","name":"curAnchor"},{"type":"Identifier","name":"curFocus"}]},{"type":"Identifier","name":"to"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"posToDOM"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"}]}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"node"},"computed":false,"value":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"measure"}},"property":{"type":"Identifier","name":"map"}},"property":{"type":"Literal","value":2,"raw":"2"}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"offset"},"computed":false,"value":{"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false}]}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"end"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"posToDOM"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"to"}]}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"end"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"measure"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"view"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"property":{"type":"Identifier","name":"measure"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"map$$1"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"maps"}},"consequent":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"maps"}},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"maps"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"map"}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"end"},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"node"},"computed":false,"value":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"offset"},"computed":false,"value":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":2,"raw":"2"}}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":3,"raw":"3"}}}},"kind":"init","method":false,"shorthand":false}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"start"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"end"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"removeAllRanges"}},"arguments":[]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"old"},"init":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"rangeCount"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"getRangeAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rng"},"init":null}],"kind":"var"},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"rng"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"range"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"node"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"offset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"end"},"property":{"type":"Identifier","name":"offset"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"end"},"property":{"type":"Identifier","name":"node"}}]}}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[]}},"finalizer":null},{"type":"IfStatement","test":{"type":"Identifier","name":"rng"},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"gecko"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"collapse"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"node"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"start"},"property":{"type":"Identifier","name":"offset"}}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"rng"},"property":{"type":"Identifier","name":"collapsed"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"removeAllRanges"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"addRange"}},"arguments":[{"type":"Identifier","name":"rng"}]}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"removeAllRanges"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"addRange"}},"arguments":[{"type":"Identifier","name":"rng"}]}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"old"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}},"right":{"type":"Literal","value":null,"raw":"null"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"addRange"}},"arguments":[{"type":"Identifier","name":"old"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"Identifier","name":"gecko"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"startGracePeriod"}},"arguments":[]}}]},"alternate":null}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"rememberSelection"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"startGracePeriod"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearTimeout"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"gracePeriod"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"gracePeriod"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"gracePeriod"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"selectionChanged"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"operation"}},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"selectionChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":20,"raw":"20"}]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"showMultipleSelections"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"info"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"cursorDiv"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"cursors"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"selectionDiv"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"selection"}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"rememberSelection"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastAnchorNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastAnchorOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorOffset"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastFocusNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusNode"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastFocusOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusOffset"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"selectionInEditor"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"rangeCount"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"node"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"getRangeAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]},"property":{"type":"Identifier","name":"commonAncestorContainer"}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"contains"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"div"}},{"type":"Identifier","name":"node"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"readOnly"}},"right":{"type":"Literal","value":"nocursor","raw":"\"nocursor\""}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"selectionInEditor"}},"arguments":[]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"showSelection"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"prepareSelection"}},"arguments":[]},{"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"div"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"blur"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"div"}},"property":{"type":"Identifier","name":"blur"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"getField"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"div"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"supportsTouch"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"receivedFocus"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"selectionInEditor"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pollSelection"}},"arguments":[]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"selectionChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"async":false}]}}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"poll"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"pollSelection"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"polling"}},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"pollInterval"}},{"type":"Identifier","name":"poll"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"polling"}},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"pollInterval"}},{"type":"Identifier","name":"poll"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"selectionChanged"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastAnchorNode"}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastAnchorOffset"}}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastFocusNode"}}}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusOffset"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lastFocusOffset"}}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"pollSelection"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"gracePeriod"}}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"selectionChanged"}},"arguments":[]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"android"},"right":{"type":"Identifier","name":"chrome"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"gutters"}},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"isInGutter"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"triggerOnKeyDown"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"type"},"computed":false,"value":{"type":"Literal","value":"keydown","raw":"\"keydown\""},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"keyCode"},"computed":false,"value":{"type":"Literal","value":8,"raw":"8"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"preventDefault"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"abs"}},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"blur"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"rememberSelection"}},"arguments":[]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"anchor"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"domToPos"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorNode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"anchorOffset"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"head"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"domToPos"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusNode"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"focusOffset"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"anchor"},"right":{"type":"Identifier","name":"head"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setSelection"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"anchor"},{"type":"Identifier","name":"head"}]},{"type":"Identifier","name":"sel_dontScroll"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"anchor"},"property":{"type":"Identifier","name":"bad"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"head"},"property":{"type":"Identifier","name":"bad"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"curOp"}},"property":{"type":"Identifier","name":"selectionChanged"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"pollContent"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearTimeout"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sel"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"from"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"from"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"to"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"sel"},"property":{"type":"Identifier","name":"to"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"firstLine"}},"arguments":[]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},"property":{"type":"Identifier","name":"length"}}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"lastLine"}},"arguments":[]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"to"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Literal","value":1,"raw":"1"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromIndex"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromLine"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fromNode"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewFrom"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"fromIndex"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewIndex"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}]}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"fromLine"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"line"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"fromNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"node"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"fromLine"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"fromIndex"}},"property":{"type":"Identifier","name":"line"}}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"fromNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"fromIndex"},"right":{"type":"Literal","value":1,"raw":"1"}}},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"nextSibling"}}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toIndex"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewIndex"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"to"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toLine"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"toNode"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"toIndex"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"toLine"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"toNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"lastChild"}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"toLine"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"toIndex"},"right":{"type":"Literal","value":1,"raw":"1"}}},"property":{"type":"Identifier","name":"line"}}]},"right":{"type":"Literal","value":1,"raw":"1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"toNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"view"}},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"toIndex"},"right":{"type":"Literal","value":1,"raw":"1"}}},"property":{"type":"Identifier","name":"node"}},"property":{"type":"Identifier","name":"previousSibling"}}}}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"fromNode"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newText"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"splitLines"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"domTextBetween"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"fromNode"},{"type":"Identifier","name":"toNode"},{"type":"Identifier","name":"fromLine"},{"type":"Identifier","name":"toLine"}]}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldText"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBetween"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"fromLine"},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"toLine"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"toLine"}]},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}]}]}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"newText"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"oldText"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Identifier","name":"pop"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Identifier","name":"pop"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"toLine"},"prefix":false}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Identifier","name":"shift"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Identifier","name":"shift"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"fromLine"},"prefix":false}}]},"alternate":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cutFront"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cutEnd"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newTop"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Literal","value":0,"raw":"0"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldTop"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Literal","value":0,"raw":"0"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"maxCutFront"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newTop"},"property":{"type":"Identifier","name":"length"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldTop"},"property":{"type":"Identifier","name":"length"}}]}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"cutFront"},"right":{"type":"Identifier","name":"maxCutFront"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newTop"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Identifier","name":"cutFront"}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldTop"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Identifier","name":"cutFront"}]}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"cutFront"},"prefix":true}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newBot"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"newText"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldBot"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"oldText"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"maxCutEnd"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBot"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"Identifier","name":"cutFront"},"alternate":{"type":"Literal","value":0,"raw":"0"}}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldBot"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"Identifier","name":"cutFront"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}]}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"cutEnd"},"right":{"type":"Identifier","name":"maxCutEnd"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBot"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBot"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"cutEnd"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldBot"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldBot"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"cutEnd"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"cutEnd"},"prefix":true}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"fromLine"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"line"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"cutFront"},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"Identifier","name":"cutFront"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"ch"}}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBot"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBot"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"cutEnd"}},"right":{"type":"Literal","value":1,"raw":"1"}}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldBot"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldBot"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"cutEnd"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"--","argument":{"type":"Identifier","name":"cutFront"},"prefix":false}},{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"cutEnd"},"prefix":false}}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newText"},"property":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBot"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newBot"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"cutEnd"}}]},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/^\\u200b+/","regex":{"pattern":"^\\u200b+","flags":""}},{"type":"Literal","value":"","raw":"\"\""}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"cutFront"}]},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/\\u200b+$/","regex":{"pattern":"\\u200b+$","flags":""}},{"type":"Literal","value":"","raw":"\"\""}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chFrom"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"fromLine"},{"type":"Identifier","name":"cutFront"}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chTo"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"toLine"},{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"oldText"},"property":{"type":"Identifier","name":"length"}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"Identifier","name":"oldText"}]},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"cutEnd"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"newText"},"property":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"cmp"},"arguments":[{"type":"Identifier","name":"chFrom"},{"type":"Identifier","name":"chTo"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"replaceRange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"newText"},{"type":"Identifier","name":"chFrom"},{"type":"Identifier","name":"chTo"},{"type":"Literal","value":"+input","raw":"\"+input\""}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"ensurePolled"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"forceCompositionEnd"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"reset"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"forceCompositionEnd"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"forceCompositionEnd"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearTimeout"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"updateFromDOM"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"div"}},"property":{"type":"Identifier","name":"blur"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"div"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"readFromDOMSoon"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readDOMTimeout"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"readDOMTimeout"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"done"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"updateFromDOM"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},{"type":"Literal","value":80,"raw":"80"}]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"updateFromDOM"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pollContent"}},"arguments":[]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"regChange"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"cm"}}]}}]},"generator":false,"expression":false,"async":false}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"setUneditable"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"contentEditable"}},"right":{"type":"Literal","value":"false","raw":"\"false\""}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"onKeyPress"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"charCode"}},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"preventDefault"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"Identifier","name":"applyTextInput"}]},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"String"},"property":{"type":"Identifier","name":"fromCharCode"}},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"charCode"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"keyCode"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"charCode"}}}]},{"type":"Literal","value":0,"raw":"0"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"readOnlyChanged"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"div"}},"property":{"type":"Identifier","name":"contentEditable"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"String"},"arguments":[{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"val"},"right":{"type":"Literal","value":"nocursor","raw":"\"nocursor\""}}]}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"onContextMenu"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"resetPosition"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ContentEditableInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"needsContentAttribute"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"posToDOM"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"pos"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"view"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"findViewForLine"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"view"},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"view"},"property":{"type":"Identifier","name":"hidden"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getLine"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"info"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"mapFromLineView"},"arguments":[{"type":"Identifier","name":"view"},{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"line"}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"order"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOrder"},"arguments":[{"type":"Identifier","name":"line"},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"direction"}}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"side"},"init":{"type":"Literal","value":"left","raw":"\"left\""}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"order"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"partPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBidiPartAt"},"arguments":[{"type":"Identifier","name":"order"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"side"},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"partPos"},"right":{"type":"Literal","value":2,"raw":"2"}},"consequent":{"type":"Literal","value":"right","raw":"\"right\""},"alternate":{"type":"Literal","value":"left","raw":"\"left\""}}}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeAndOffsetInLineMap"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"info"},"property":{"type":"Identifier","name":"map"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"ch"}},{"type":"Identifier","name":"side"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"offset"}},"right":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"collapse"}},"right":{"type":"Literal","value":"right","raw":"\"right\""}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"end"}},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"start"}}}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"isInGutter"},"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scan"},"init":{"type":"Identifier","name":"node"}}],"kind":"var"},"test":{"type":"Identifier","name":"scan"},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"scan"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scan"},"property":{"type":"Identifier","name":"parentNode"}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/CodeMirror-gutter-wrapper/","regex":{"pattern":"CodeMirror-gutter-wrapper","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"scan"},"property":{"type":"Identifier","name":"className"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"alternate":null}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"badPos"},"params":[{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"bad"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"bad"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"pos"},"property":{"type":"Identifier","name":"bad"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"pos"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"domTextBetween"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"from"},{"type":"Identifier","name":"to"},{"type":"Identifier","name":"fromLine"},{"type":"Identifier","name":"toLine"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"Literal","value":"","raw":"\"\""}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"closing"},"init":{"type":"Literal","value":false,"raw":"false"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineSep"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"lineSeparator"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"extraLinebreak"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"recognizeMarker"},"params":[{"type":"Identifier","name":"id"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"marker"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"marker"},"property":{"type":"Identifier","name":"id"}},"right":{"type":"Identifier","name":"id"}}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"close"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"closing"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"text"},"right":{"type":"Identifier","name":"lineSep"}}},{"type":"IfStatement","test":{"type":"Identifier","name":"extraLinebreak"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"text"},"right":{"type":"Identifier","name":"lineSep"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"closing"},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"extraLinebreak"},"right":{"type":"Literal","value":false,"raw":"false"}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addText"},"params":[{"type":"Identifier","name":"str"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"Identifier","name":"str"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"close"},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"text"},"right":{"type":"Identifier","name":"str"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"walk"},"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cmText"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"getAttribute"}},"arguments":[{"type":"Literal","value":"cm-text","raw":"\"cm-text\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"cmText"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addText"},"arguments":[{"type":"Identifier","name":"cmText"}]}},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"markerID"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"getAttribute"}},"arguments":[{"type":"Literal","value":"cm-marker","raw":"\"cm-marker\""}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"range$$1"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"markerID"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"findMarks"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"fromLine"},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"toLine"},"right":{"type":"Literal","value":1,"raw":"1"}},{"type":"Literal","value":0,"raw":"0"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"recognizeMarker"},"arguments":[{"type":"UnaryExpression","operator":"+","argument":{"type":"Identifier","name":"markerID"},"prefix":true}]}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"range$$1"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"found"},"property":{"type":"Literal","value":0,"raw":"0"}},"property":{"type":"Identifier","name":"find"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addText"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getBetween"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"from"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"range$$1"},"property":{"type":"Identifier","name":"to"}}]},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Identifier","name":"lineSep"}]}]}}]},"alternate":null},{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"getAttribute"}},"arguments":[{"type":"Literal","value":"contenteditable","raw":"\"contenteditable\""}]},"right":{"type":"Literal","value":"false","raw":"\"false\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isBlock"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^(pre|div|p|li|table|br)$/i","regex":{"pattern":"^(pre|div|p|li|table|br)$","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeName"}}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^br$/i","regex":{"pattern":"^br$","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeName"}}]},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"textContent"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"isBlock"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"close"},"arguments":[]}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"childNodes"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"walk"},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"childNodes"}},"property":{"type":"Identifier","name":"i"}}]}}]}},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/^(pre|p)$/i","regex":{"pattern":"^(pre|p)$","flags":"i"}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeName"}}]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"extraLinebreak"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"isBlock"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"closing"},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addText"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeValue"}},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/\\u200b/g","regex":{"pattern":"\\u200b","flags":"g"}},{"type":"Literal","value":"","raw":"\"\""}]},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"Literal","raw":"/\\u00a0/g","regex":{"pattern":"\\u00a0","flags":"g"}},{"type":"Literal","value":" ","raw":"\" \""}]}]}}]},"alternate":null}}]},"generator":false,"expression":false,"async":false},{"type":"ForStatement","init":null,"test":null,"update":null,"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"walk"},"arguments":[{"type":"Identifier","name":"from"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"from"},"right":{"type":"Identifier","name":"to"}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"from"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"from"},"property":{"type":"Identifier","name":"nextSibling"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"extraLinebreak"},"right":{"type":"Literal","value":false,"raw":"false"}}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"text"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"domToPos"},"params":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"offset"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineNode"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"node"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineNode"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"childNodes"}},"property":{"type":"Identifier","name":"offset"}}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"lineNode"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"badPos"},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"clipPos"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"viewTo"}},"right":{"type":"Literal","value":1,"raw":"1"}}]}]},{"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"node"},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"offset"},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineNode"},"right":{"type":"Identifier","name":"node"}},"test":null,"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"lineNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineNode"},"property":{"type":"Identifier","name":"parentNode"}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"lineNode"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"lineNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":null,"raw":"null"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineNode"},"property":{"type":"Identifier","name":"parentNode"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineNode"},"property":{"type":"Identifier","name":"parentNode"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"lineDiv"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"BreakStatement","label":null}]},"alternate":null}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineView"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"view"}},"property":{"type":"Identifier","name":"i"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"node"}},"right":{"type":"Identifier","name":"lineNode"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"locateNodeInLineView"},"arguments":[{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"offset"}]}}]},"alternate":null}]}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"locateNodeInLineView"},"params":[{"type":"Identifier","name":"lineView"},{"type":"Identifier","name":"node"},{"type":"Identifier","name":"offset"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrapper"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"firstChild"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"bad"},"init":{"type":"Literal","value":false,"raw":"false"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"node"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"contains"},"arguments":[{"type":"Identifier","name":"wrapper"},{"type":"Identifier","name":"node"}]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"badPos"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}}]},{"type":"Literal","value":0,"raw":"0"}]},{"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"node"},"right":{"type":"Identifier","name":"wrapper"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"bad"},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"node"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrapper"},"property":{"type":"Identifier","name":"childNodes"}},"property":{"type":"Identifier","name":"offset"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"offset"},"right":{"type":"Literal","value":0,"raw":"0"}}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"node"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"lst"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}}]},"alternate":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}}}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"badPos"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"Identifier","name":"line"}]},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"line"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"length"}}]},{"type":"Identifier","name":"bad"}]}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"textNode"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":3,"raw":"3"}},"consequent":{"type":"Identifier","name":"node"},"alternate":{"type":"Literal","value":null,"raw":"null"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"topNode"},"init":{"type":"Identifier","name":"node"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"textNode"},"prefix":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"childNodes"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1,"raw":"1"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"firstChild"}},"property":{"type":"Identifier","name":"nodeType"}},"right":{"type":"Literal","value":3,"raw":"3"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"textNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"node"},"property":{"type":"Identifier","name":"firstChild"}}}},{"type":"IfStatement","test":{"type":"Identifier","name":"offset"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"offset"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textNode"},"property":{"type":"Identifier","name":"nodeValue"}},"property":{"type":"Identifier","name":"length"}}}}]},"alternate":null}]},"alternate":null},{"type":"WhileStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"topNode"},"property":{"type":"Identifier","name":"parentNode"}},"right":{"type":"Identifier","name":"wrapper"}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"topNode"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"topNode"},"property":{"type":"Identifier","name":"parentNode"}}}}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"measure"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"measure"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"maps"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"maps"}}}],"kind":"var"},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"find"},"params":[{"type":"Identifier","name":"textNode"},{"type":"Identifier","name":"topNode"},{"type":"Identifier","name":"offset"}],"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"maps"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"maps"},"property":{"type":"Identifier","name":"length"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}},"update":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"map$$1"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"measure"},"property":{"type":"Identifier","name":"map"}},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"maps"},"property":{"type":"Identifier","name":"i"}}}}],"kind":"var"},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"j"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"length"}}},"update":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"j"},"right":{"type":"Literal","value":3,"raw":"3"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curNode"},"init":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"j"},"right":{"type":"Literal","value":2,"raw":"2"}}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"curNode"},"right":{"type":"Identifier","name":"textNode"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"curNode"},"right":{"type":"Identifier","name":"topNode"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"line"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"lineNo"},"arguments":[{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"i"},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"line"}},"alternate":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineView"},"property":{"type":"Identifier","name":"rest"}},"property":{"type":"Identifier","name":"i"}}}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ch"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"Identifier","name":"j"}},"right":{"type":"Identifier","name":"offset"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"offset"},"right":{"type":"Literal","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"curNode"},"right":{"type":"Identifier","name":"textNode"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"ch"},"right":{"type":"MemberExpression","computed":true,"object":{"type":"Identifier","name":"map$$1"},"property":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"j"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"offset"},"consequent":{"type":"Literal","value":1,"raw":"1"},"alternate":{"type":"Literal","value":0,"raw":"0"}}}}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"Identifier","name":"line"},{"type":"Identifier","name":"ch"}]}}]},"alternate":null}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"found"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"find"},"arguments":[{"type":"Identifier","name":"textNode"},{"type":"Identifier","name":"topNode"},{"type":"Identifier","name":"offset"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"found"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"badPos"},"arguments":[{"type":"Identifier","name":"found"},{"type":"Identifier","name":"bad"}]}}]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"after"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"topNode"},"property":{"type":"Identifier","name":"nextSibling"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dist"},"init":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"textNode"},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textNode"},"property":{"type":"Identifier","name":"nodeValue"}},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"offset"}},"alternate":{"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},"test":{"type":"Identifier","name":"after"},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"after"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"after"},"property":{"type":"Identifier","name":"nextSibling"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"find"},"arguments":[{"type":"Identifier","name":"after"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"after"},"property":{"type":"Identifier","name":"firstChild"}},{"type":"Literal","value":0,"raw":"0"}]}}},{"type":"IfStatement","test":{"type":"Identifier","name":"found"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"badPos"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"dist"}}]},{"type":"Identifier","name":"bad"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"dist"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"after"},"property":{"type":"Identifier","name":"textContent"}},"property":{"type":"Identifier","name":"length"}}}}]}}]}},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"before"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"topNode"},"property":{"type":"Identifier","name":"previousSibling"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dist$1"},"init":{"type":"Identifier","name":"offset"}}],"kind":"var"},"test":{"type":"Identifier","name":"before"},"update":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"before"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"before"},"property":{"type":"Identifier","name":"previousSibling"}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"found"},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"find"},"arguments":[{"type":"Identifier","name":"before"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"before"},"property":{"type":"Identifier","name":"firstChild"}},{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}]}}},{"type":"IfStatement","test":{"type":"Identifier","name":"found"},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"badPos"},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"Pos"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"line"}},{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"found"},"property":{"type":"Identifier","name":"ch"}},"right":{"type":"Identifier","name":"dist$1"}}]},{"type":"Identifier","name":"bad"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"dist$1"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"before"},"property":{"type":"Identifier","name":"textContent"}},"property":{"type":"Identifier","name":"length"}}}}]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"TextareaInput"},"init":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"right":{"type":"Identifier","name":"cm"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pollingFast"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"polling"}},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Delayed"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasSelection"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"init"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"display"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":{"type":"ThisExpression"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"createField"}},"arguments":[{"type":"Identifier","name":"display"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"te"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapper"}},{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"firstChild"}}]}},{"type":"IfStatement","test":{"type":"Identifier","name":"ios"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"width"}},"right":{"type":"Literal","value":"0px","raw":"\"0px\""}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"te"},{"type":"Literal","value":"input","raw":"\"input\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"hasSelection"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"hasSelection"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"poll"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"te"},{"type":"Literal","value":"paste","raw":"\"paste\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"handlePaste"},"arguments":[{"type":"Identifier","name":"e"},{"type":"Identifier","name":"cm"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"pasteIncoming"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"fastPoll"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"prepareCopyCut"},"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setLastCopied"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"lineWise"},"computed":false,"value":{"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getSelections"}},"arguments":[]},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"lineWiseCopyCut"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ranges"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyableRanges"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setLastCopied"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"lineWise"},"computed":false,"value":{"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"text"},"computed":false,"value":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"text"}},"kind":"init","method":false,"shorthand":false}]}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"cut","raw":"\"cut\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"setSelections"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"ranges"}},{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"ranges"},"property":{"type":"Identifier","name":"text"}},"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"selectInput"},"arguments":[{"type":"Identifier","name":"te"}]}}]}}]}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"type"}},"right":{"type":"Literal","value":"cut","raw":"\"cut\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"cutIncoming"}},"right":{"type":"Literal","value":true,"raw":"true"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"te"},{"type":"Literal","value":"cut","raw":"\"cut\""},{"type":"Identifier","name":"prepareCopyCut"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"te"},{"type":"Literal","value":"copy","raw":"\"copy\""},{"type":"Identifier","name":"prepareCopyCut"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},{"type":"Literal","value":"paste","raw":"\"paste\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"Identifier","name":"display"},{"type":"Identifier","name":"e"}]},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"signalDOMEvent"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"pasteIncoming"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineSpace"}},{"type":"Literal","value":"selectstart","raw":"\"selectstart\""},{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventInWidget"},"arguments":[{"type":"Identifier","name":"display"},{"type":"Identifier","name":"e"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_preventDefault"},"arguments":[{"type":"Identifier","name":"e"}]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"te"},{"type":"Literal","value":"compositionstart","raw":"\"compositionstart\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"start"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getCursor"}},"arguments":[{"type":"Literal","value":"from","raw":"\"from\""}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"composing"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"range"}},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"start"},"computed":false,"value":{"type":"Identifier","name":"start"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Identifier","name":"range"},"computed":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"markText"}},"arguments":[{"type":"Identifier","name":"start"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getCursor"}},"arguments":[{"type":"Literal","value":"to","raw":"\"to\""}]},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"className"},"computed":false,"value":{"type":"Literal","value":"CodeMirror-composing","raw":"\"CodeMirror-composing\""},"kind":"init","method":false,"shorthand":false}]}]},"kind":"init","method":false,"shorthand":false}]}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"te"},{"type":"Literal","value":"compositionend","raw":"\"compositionend\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"composing"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"poll"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"range"}},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"composing"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"createField"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"_display"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapper"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"hiddenTextarea"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"firstChild"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"prepareSelection"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"doc"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"result"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareSelection"},"arguments":[{"type":"Identifier","name":"cm"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"moveInputWithCursor"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"headPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cursorCoords"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"doc"},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"primary"}},"arguments":[]},"property":{"type":"Identifier","name":"head"}},{"type":"Literal","value":"div","raw":"\"div\""}]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrapOff"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lineOff"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"lineDiv"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"teTop"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientHeight"}},"right":{"type":"Literal","value":10,"raw":"10"}},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"headPos"},"property":{"type":"Identifier","name":"top"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineOff"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrapOff"},"property":{"type":"Identifier","name":"top"}}}]}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"result"},"property":{"type":"Identifier","name":"teLeft"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"max"}},"arguments":[{"type":"Literal","value":0,"raw":"0"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"clientWidth"}},"right":{"type":"Literal","value":10,"raw":"10"}},{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"headPos"},"property":{"type":"Identifier","name":"left"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"lineOff"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrapOff"},"property":{"type":"Identifier","name":"left"}}}]}]}}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"result"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"showSelection"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"drawn"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"cursorDiv"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"drawn"},"property":{"type":"Identifier","name":"cursors"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"removeChildrenAndAdd"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"selectionDiv"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"drawn"},"property":{"type":"Identifier","name":"selection"}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"drawn"},"property":{"type":"Identifier","name":"teTop"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"drawn"},"property":{"type":"Identifier","name":"teTop"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"drawn"},"property":{"type":"Identifier","name":"teLeft"}},"right":{"type":"Literal","value":"px","raw":"\"px\""}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"reset"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"typing"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"contextMenuPending"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"content"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getSelection"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}},"property":{"type":"Identifier","name":"value"}},"right":{"type":"Identifier","name":"content"}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"selectInput"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasSelection"}},"right":{"type":"Identifier","name":"content"}}}]},"alternate":null}]},"alternate":{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"typing"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}},"property":{"type":"Identifier","name":"value"}},"right":{"type":"Literal","value":"","raw":"\"\""}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasSelection"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null}]},"alternate":null}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"getField"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"supportsTouch"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"focus"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"readOnly"}},"right":{"type":"Literal","value":"nocursor","raw":"\"nocursor\""}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"mobile"},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]},"right":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}}}}},"consequent":{"type":"BlockStatement","body":[{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[]}},"finalizer":null}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"blur"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}},"property":{"type":"Identifier","name":"blur"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"resetPosition"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"top"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"left"}},"right":{"type":"Literal","value":0,"raw":"0"}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"receivedFocus"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"slowPoll"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"slowPoll"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pollingFast"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"polling"}},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"pollInterval"}},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"poll"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"slowPoll"}},"arguments":[]}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"fastPoll"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"missed"},"init":{"type":"Literal","value":false,"raw":"false"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"pollingFast"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"p"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"changed"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"poll"}},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"changed"},"prefix":true},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"missed"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"missed"},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"polling"}},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Literal","value":60,"raw":"60"},{"type":"Identifier","name":"p"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"pollingFast"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"slowPoll"}},"arguments":[]}}]}}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"polling"}},"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Literal","value":20,"raw":"20"},{"type":"Identifier","name":"p"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"poll"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"this$1"},"init":{"type":"ThisExpression"}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prevInput"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"prevInput"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"||","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"contextMenuPending"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"focused"}},"prefix":true}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"hasSelection"},"arguments":[{"type":"Identifier","name":"input"}]},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"prevInput"},"prefix":true}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"composing"}},"prefix":true}}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"isReadOnly"}},"arguments":[]}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"disableInput"}}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"state"}},"property":{"type":"Identifier","name":"keySeq"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"text"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"value"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"text"},"right":{"type":"Identifier","name":"prevInput"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"right":{"type":"BinaryExpression","operator":"===","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasSelection"}},"right":{"type":"Identifier","name":"text"}}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"mac"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","raw":"/[\\uf700-\\uf7ff]/","regex":{"pattern":"[\\uf700-\\uf7ff]","flags":""}},"property":{"type":"Identifier","name":"test"}},"arguments":[{"type":"Identifier","name":"text"}]}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}},"property":{"type":"Identifier","name":"selForContextMenu"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"first"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"first"},"right":{"type":"Literal","value":8203,"raw":"0x200b"}},"right":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"prevInput"},"prefix":true}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"prevInput"},"right":{"type":"Literal","value":"​","raw":"\"\\u200b\""}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"first"},"right":{"type":"Literal","value":8666,"raw":"0x21da"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}},{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"cm"}},"property":{"type":"Identifier","name":"execCommand"}},"arguments":[{"type":"Literal","value":"undo","raw":"\"undo\""}]}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"same"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"l"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Math"},"property":{"type":"Identifier","name":"min"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prevInput"},"property":{"type":"Identifier","name":"length"}},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}}]}}],"kind":"var"},{"type":"WhileStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"same"},"right":{"type":"Identifier","name":"l"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prevInput"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Identifier","name":"same"}]},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"charCodeAt"}},"arguments":[{"type":"Identifier","name":"same"}]}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"same"},"prefix":true}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"runInOp"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"applyTextInput"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"slice"}},"arguments":[{"type":"Identifier","name":"same"}]},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"prevInput"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Identifier","name":"same"}},{"type":"Literal","value":null,"raw":"null"},{"type":"ConditionalExpression","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"consequent":{"type":"Literal","value":"*compose","raw":"\"*compose\""},"alternate":{"type":"Literal","value":null,"raw":"null"}}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"length"}},"right":{"type":"Literal","value":1000,"raw":"1000"}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"text"},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"Literal","value":"\n","raw":"\"\\n\""}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"Literal","value":"","raw":"\"\""}}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"Identifier","name":"text"}}}]}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"range"}},"property":{"type":"Identifier","name":"clear"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"range"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"markText"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"this$1"},"property":{"type":"Identifier","name":"composing"}},"property":{"type":"Identifier","name":"start"}},{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getCursor"}},"arguments":[{"type":"Literal","value":"to","raw":"\"to\""}]},{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"className"},"computed":false,"value":{"type":"Literal","value":"CodeMirror-composing","raw":"\"CodeMirror-composing\""},"kind":"init","method":false,"shorthand":false}]}]}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"ensurePolled"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pollingFast"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"poll"}},"arguments":[]}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pollingFast"}},"right":{"type":"Literal","value":false,"raw":"false"}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"onKeyPress"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"hasSelection"}},"right":{"type":"Literal","value":null,"raw":"null"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"fastPoll"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"onContextMenu"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"input"},"init":{"type":"ThisExpression"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"cm"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"display"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"display"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"te"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"textarea"}}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posFromMouse"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"e"}]}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"scrollPos"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"pos"},"prefix":true},"right":{"type":"Identifier","name":"presto"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"reset"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"resetSelectionOnContextMenu"}}}],"kind":"var"},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"reset"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}},"property":{"type":"Identifier","name":"contains"}},"arguments":[{"type":"Identifier","name":"pos"}]},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"Literal","value":1,"raw":"1"},"prefix":true}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"setSelection"}]},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},{"type":"CallExpression","callee":{"type":"Identifier","name":"simpleSelection"},"arguments":[{"type":"Identifier","name":"pos"}]},{"type":"Identifier","name":"sel_dontScroll"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldCSS"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"cssText"}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldWrapperCSS"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"cssText"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"cssText"}},"right":{"type":"Literal","value":"position: absolute","raw":"\"position: absolute\""}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrapperBox"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"getBoundingClientRect"}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"cssText"}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"position: absolute; width: 30px; height: 30px;\n      top: ","raw":"\"position: absolute; width: 30px; height: 30px;\\n      top: \""},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientY"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrapperBox"},"property":{"type":"Identifier","name":"top"}}},"right":{"type":"Literal","value":5,"raw":"5"}}},"right":{"type":"Literal","value":"px; left: ","raw":"\"px; left: \""}},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"e"},"property":{"type":"Identifier","name":"clientX"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"wrapperBox"},"property":{"type":"Identifier","name":"left"}}},"right":{"type":"Literal","value":5,"raw":"5"}}},"right":{"type":"Literal","value":"px;\n      z-index: 1000; background: ","raw":"\"px;\\n      z-index: 1000; background: \""}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"ie"},"consequent":{"type":"Literal","value":"rgba(255, 255, 255, .05)","raw":"\"rgba(255, 255, 255, .05)\""},"alternate":{"type":"Literal","value":"transparent","raw":"\"transparent\""}}},"right":{"type":"Literal","value":";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);","raw":"\";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\""}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"oldScrollY"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"oldScrollY"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"scrollY"}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"focus"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"Identifier","name":"webkit"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"window"},"property":{"type":"Identifier","name":"scrollTo"}},"arguments":[{"type":"Literal","value":null,"raw":"null"},{"type":"Identifier","name":"oldScrollY"}]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"Literal","value":" ","raw":"\" \""}}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"contextMenuPending"}},"right":{"type":"Literal","value":true,"raw":"true"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"selForContextMenu"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"clearTimeout"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"detectingSelectAll"}}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"prepareSelectAllHack"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionStart"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"selected"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"somethingSelected"}},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"extval"},"init":{"type":"BinaryExpression","operator":"+","left":{"type":"Literal","value":"​","raw":"\"\\u200b\""},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"selected"},"consequent":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"value"}},"alternate":{"type":"Literal","value":"","raw":"\"\""}}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"Literal","value":"⇚","raw":"\"\\u21da\""}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"Identifier","name":"extval"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"selected"},"consequent":{"type":"Literal","value":"","raw":"\"\""},"alternate":{"type":"Literal","value":"​","raw":"\"\\u200b\""}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionStart"}},"right":{"type":"Literal","value":1,"raw":"1"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionEnd"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"extval"},"property":{"type":"Identifier","name":"length"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"selForContextMenu"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"rehide"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"contextMenuPending"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"wrapper"}},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"cssText"}},"right":{"type":"Identifier","name":"oldWrapperCSS"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"cssText"}},"right":{"type":"Identifier","name":"oldCSS"}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scrollbars"}},"property":{"type":"Identifier","name":"setScrollTop"}},"arguments":[{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"scroller"}},"property":{"type":"Identifier","name":"scrollTop"}},"right":{"type":"Identifier","name":"scrollPos"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionStart"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"||","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"ie"},"prefix":true},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareSelectAllHack"},"arguments":[]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"Literal","value":0,"raw":"0"}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"poll"},"init":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"selForContextMenu"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"doc"}},"property":{"type":"Identifier","name":"sel"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionStart"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"&gt;","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"te"},"property":{"type":"Identifier","name":"selectionEnd"}},"right":{"type":"Literal","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"input"},"property":{"type":"Identifier","name":"prevInput"}},"right":{"type":"Literal","value":"​","raw":"\"\\u200b\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"CallExpression","callee":{"type":"Identifier","name":"operation"},"arguments":[{"type":"Identifier","name":"cm"},{"type":"Identifier","name":"selectAll"}]},"arguments":[{"type":"Identifier","name":"cm"}]}}]},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"UpdateExpression","operator":"++","argument":{"type":"Identifier","name":"i"},"prefix":false},"right":{"type":"Literal","value":10,"raw":"10"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"detectingSelectAll"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"Identifier","name":"poll"},{"type":"Literal","value":500,"raw":"500"}]}}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"selForContextMenu"}},"right":{"type":"Literal","value":null,"raw":"null"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"input"}},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}}]}}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"display"},"property":{"type":"Identifier","name":"detectingSelectAll"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"Identifier","name":"poll"},{"type":"Literal","value":200,"raw":"200"}]}}}]},"alternate":null}]},"generator":false,"expression":false,"async":false},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"Identifier","name":"ie"},"right":{"type":"BinaryExpression","operator":"&gt;=","left":{"type":"Identifier","name":"ie_version"},"right":{"type":"Literal","value":9,"raw":"9"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"prepareSelectAllHack"},"arguments":[]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"Identifier","name":"captureRightClick"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"e_stop"},"arguments":[{"type":"Identifier","name":"e"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"mouseup"},"init":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"Identifier","name":"window"},{"type":"Literal","value":"mouseup","raw":"\"mouseup\""},{"type":"Identifier","name":"mouseup"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"Identifier","name":"rehide"},{"type":"Literal","value":20,"raw":"20"}]}}]},"generator":false,"expression":false,"async":false}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"Identifier","name":"window"},{"type":"Literal","value":"mouseup","raw":"\"mouseup\""},{"type":"Identifier","name":"mouseup"}]}}]},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setTimeout"},"arguments":[{"type":"Identifier","name":"rehide"},{"type":"Literal","value":50,"raw":"50"}]}}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"readOnlyChanged"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"val"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"Identifier","name":"val"},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"reset"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"textarea"}},"property":{"type":"Identifier","name":"disabled"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"val"},"right":{"type":"Literal","value":"nocursor","raw":"\"nocursor\""}}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"setUneditable"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"TextareaInput"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"needsContentAttribute"}},"right":{"type":"Literal","value":false,"raw":"false"}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"fromTextArea"},"params":[{"type":"Identifier","name":"textarea"},{"type":"Identifier","name":"options"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"options"},"right":{"type":"ConditionalExpression","test":{"type":"Identifier","name":"options"},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"copyObj"},"arguments":[{"type":"Identifier","name":"options"}]},"alternate":{"type":"ObjectExpression","properties":[]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"value"}}}},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"tabindex"}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"tabIndex"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"tabindex"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"tabIndex"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"placeholder"}},"prefix":true},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"placeholder"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"placeholder"}},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"placeholder"}}}}]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"autofocus"}},"right":{"type":"Literal","value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"hasFocus"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"activeElt"},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"autofocus"}},"right":{"type":"LogicalExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"hasFocus"},"right":{"type":"Identifier","name":"textarea"}},"right":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"BinaryExpression","operator":"!=","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"getAttribute"}},"arguments":[{"type":"Literal","value":"autofocus","raw":"\"autofocus\""}]},"right":{"type":"Literal","value":null,"raw":"null"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"hasFocus"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"document"},"property":{"type":"Identifier","name":"body"}}}}}}}]},"alternate":null},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"save"},"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"value"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getValue"}},"arguments":[]}}}]},"generator":false,"expression":false,"async":false},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"realSubmit"},"init":null}],"kind":"var"},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"form"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"on"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"form"}},{"type":"Literal","value":"submit","raw":"\"submit\""},{"type":"Identifier","name":"save"}]}},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"leaveSubmitMethodAlone"}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"form"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"form"}}}],"kind":"var"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"realSubmit"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"form"},"property":{"type":"Identifier","name":"submit"}}}},{"type":"TryStatement","block":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wrappedSubmit"},"init":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"form"},"property":{"type":"Identifier","name":"submit"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"save"},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"form"},"property":{"type":"Identifier","name":"submit"}},"right":{"type":"Identifier","name":"realSubmit"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"form"},"property":{"type":"Identifier","name":"submit"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"form"},"property":{"type":"Identifier","name":"submit"}},"right":{"type":"Identifier","name":"wrappedSubmit"}}}]},"generator":false,"expression":false,"async":false}}}],"kind":"var"}]},"handler":{"type":"CatchClause","param":{"type":"Identifier","name":"e"},"body":{"type":"BlockStatement","body":[]}},"finalizer":null}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"options"},"property":{"type":"Identifier","name":"finishInit"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"cm"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"save"}},"right":{"type":"Identifier","name":"save"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getTextArea"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"textarea"}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"toTextArea"}},"right":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"toTextArea"}},"right":{"type":"Identifier","name":"isNaN"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"save"},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"removeChild"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"cm"},"property":{"type":"Identifier","name":"getWrapperElement"}},"arguments":[]}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"","raw":"\"\""}}},{"type":"IfStatement","test":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"form"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"off"},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"form"}},{"type":"Literal","value":"submit","raw":"\"submit\""},{"type":"Identifier","name":"save"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"form"}},"property":{"type":"Identifier","name":"submit"}},"prefix":true},"right":{"type":"Literal","value":"function","raw":"\"function\""}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"form"}},"property":{"type":"Identifier","name":"submit"}},"right":{"type":"Identifier","name":"realSubmit"}}}]},"alternate":null}]},"alternate":null}]},"generator":false,"expression":false,"async":false}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"style"}},"property":{"type":"Identifier","name":"display"}},"right":{"type":"Literal","value":"none","raw":"\"none\""}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cm"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"CodeMirror"},"arguments":[{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"parentNode"}},"property":{"type":"Identifier","name":"insertBefore"}},"arguments":[{"type":"Identifier","name":"node"},{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"textarea"},"property":{"type":"Identifier","name":"nextSibling"}}]}}]},"generator":false,"expression":false,"async":false},{"type":"Identifier","name":"options"}]}}],"kind":"var"},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"cm"}}]},"generator":false,"expression":false,"async":false},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addLegacyProps"},"params":[{"type":"Identifier","name":"CodeMirror"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"off"}},"right":{"type":"Identifier","name":"off"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"on"}},"right":{"type":"Identifier","name":"on"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"wheelEventPixels"}},"right":{"type":"Identifier","name":"wheelEventPixels"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"Doc"}},"right":{"type":"Identifier","name":"Doc"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"splitLines"}},"right":{"type":"Identifier","name":"splitLinesAuto"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"countColumn"}},"right":{"type":"Identifier","name":"countColumn"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"findColumn"}},"right":{"type":"Identifier","name":"findColumn"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"isWordChar"}},"right":{"type":"Identifier","name":"isWordCharBasic"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"Pass"}},"right":{"type":"Identifier","name":"Pass"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"signal"}},"right":{"type":"Identifier","name":"signal"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"Line"}},"right":{"type":"Identifier","name":"Line"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"changeEnd"}},"right":{"type":"Identifier","name":"changeEnd"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"scrollbarModel"}},"right":{"type":"Identifier","name":"scrollbarModel"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"Pos"}},"right":{"type":"Identifier","name":"Pos"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"cmpPos"}},"right":{"type":"Identifier","name":"cmp"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"modes"}},"right":{"type":"Identifier","name":"modes"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"mimeModes"}},"right":{"type":"Identifier","name":"mimeModes"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"resolveMode"}},"right":{"type":"Identifier","name":"resolveMode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"getMode"}},"right":{"type":"Identifier","name":"getMode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"modeExtensions"}},"right":{"type":"Identifier","name":"modeExtensions"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"extendMode"}},"right":{"type":"Identifier","name":"extendMode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"copyState"}},"right":{"type":"Identifier","name":"copyState"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"startState"}},"right":{"type":"Identifier","name":"startState"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"innerMode"}},"right":{"type":"Identifier","name":"innerMode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"commands"}},"right":{"type":"Identifier","name":"commands"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"keyMap"}},"right":{"type":"Identifier","name":"keyMap"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"keyName"}},"right":{"type":"Identifier","name":"keyName"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"isModifierKey"}},"right":{"type":"Identifier","name":"isModifierKey"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"lookupKey"}},"right":{"type":"Identifier","name":"lookupKey"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"normalizeKeyMap"}},"right":{"type":"Identifier","name":"normalizeKeyMap"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"StringStream"}},"right":{"type":"Identifier","name":"StringStream"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"SharedTextMarker"}},"right":{"type":"Identifier","name":"SharedTextMarker"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"TextMarker"}},"right":{"type":"Identifier","name":"TextMarker"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"LineWidget"}},"right":{"type":"Identifier","name":"LineWidget"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"e_preventDefault"}},"right":{"type":"Identifier","name":"e_preventDefault"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"e_stopPropagation"}},"right":{"type":"Identifier","name":"e_stopPropagation"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"e_stop"}},"right":{"type":"Identifier","name":"e_stop"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"addClass"}},"right":{"type":"Identifier","name":"addClass"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"contains"}},"right":{"type":"Identifier","name":"contains"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"rmClass"}},"right":{"type":"Identifier","name":"rmClass"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"keyNames"}},"right":{"type":"Identifier","name":"keyNames"}}}]},"generator":false,"expression":false,"async":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"defineOptions"},"arguments":[{"type":"Identifier","name":"CodeMirror"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addEditorMethods"},"arguments":[{"type":"Identifier","name":"CodeMirror"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dontDelegate"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Literal","value":"iter insert remove copy getEditor constructor","raw":"\"iter insert remove copy getEditor constructor\""},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"Literal","value":" ","raw":"\" \""}]}}],"kind":"var"},{"type":"ForInStatement","left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"prop"},"init":null}],"kind":"var"},"right":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Doc"},"property":{"type":"Identifier","name":"prototype"}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Doc"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"type":"Identifier","name":"prop"}]},"right":{"type":"BinaryExpression","operator":"&lt;","left":{"type":"CallExpression","callee":{"type":"Identifier","name":"indexOf"},"arguments":[{"type":"Identifier","name":"dontDelegate"},{"type":"Identifier","name":"prop"}]},"right":{"type":"Literal","value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"prop"}},"right":{"type":"CallExpression","callee":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"method"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"method"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"MemberExpression","computed":false,"object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"doc"}},{"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false,"async":false}}]},"generator":false,"expression":false,"async":false},"arguments":[{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Doc"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"prop"}}]}}}]},"alternate":null}]},"each":false},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"eventMixin"},"arguments":[{"type":"Identifier","name":"Doc"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"inputStyles"}},"right":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Literal","value":"textarea","raw":"\"textarea\""},"computed":false,"value":{"type":"Identifier","name":"TextareaInput"},"kind":"init","method":false,"shorthand":false},{"type":"Property","key":{"type":"Literal","value":"contenteditable","raw":"\"contenteditable\""},"computed":false,"value":{"type":"Identifier","name":"ContentEditableInput"},"kind":"init","method":false,"shorthand":false}]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineMode"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"name"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"LogicalExpression","operator":"&amp;&amp;","left":{"type":"UnaryExpression","operator":"!","argument":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defaults"}},"property":{"type":"Identifier","name":"mode"}},"prefix":true},"right":{"type":"BinaryExpression","operator":"!=","left":{"type":"Identifier","name":"name"},"right":{"type":"Literal","value":"null","raw":"\"null\""}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defaults"}},"property":{"type":"Identifier","name":"mode"}},"right":{"type":"Identifier","name":"name"}}}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"defineMode"},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"ThisExpression"},{"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineMIME"}},"right":{"type":"Identifier","name":"defineMIME"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineMode"}},"arguments":[{"type":"Literal","value":"null","raw":"\"null\""},{"type":"FunctionExpression","id":null,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"Property","key":{"type":"Identifier","name":"token"},"computed":false,"value":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"stream"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"stream"},"property":{"type":"Identifier","name":"skipToEnd"}},"arguments":[]}}]},"generator":false,"expression":false,"async":false},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineMIME"}},"arguments":[{"type":"Literal","value":"text/plain","raw":"\"text/plain\""},{"type":"Literal","value":"null","raw":"\"null\""}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineExtension"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"func"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"func"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"defineDocExtension"}},"right":{"type":"FunctionExpression","id":null,"params":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"func"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":true,"object":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"Doc"},"property":{"type":"Identifier","name":"prototype"}},"property":{"type":"Identifier","name":"name"}},"right":{"type":"Identifier","name":"func"}}}]},"generator":false,"expression":false,"async":false}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"fromTextArea"}},"right":{"type":"Identifier","name":"fromTextArea"}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addLegacyProps"},"arguments":[{"type":"Identifier","name":"CodeMirror"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"CodeMirror"},"property":{"type":"Identifier","name":"version"}},"right":{"type":"Literal","value":"5.41.0","raw":"\"5.41.0\""}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"CodeMirror"}}]},"generator":false,"expression":false,"async":false}]}}],"sourceType":"script"}</abstract_syntax_tree>
        <added_manually>false</added_manually>
        <api_markdown>## &lt;a name="ui-script-x_58056_md_docscodemirror"&gt;&lt;/a&gt;x_58056_md_docs.codemirror
 
### Type: `UI Script`
 
### Methods
&lt;br /&gt;
#### `}(string)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _string_ | _*_ | _..._ | 
| _te_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
 
### Functions
&lt;br /&gt;
#### `activeElt()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `add(left, top, width, bottom)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _left_ | _*_ | _..._ | 
| _top_ | _*_ | _..._ | 
| _width_ | _*_ | _..._ | 
| _bottom_ | _*_ | _..._ | 
&lt;br /&gt;
#### `addChangeToHistory(doc, change, selAfter, opId)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
| _selAfter_ | _*_ | _..._ | 
| _opId_ | _*_ | _..._ | 
&lt;br /&gt;
#### `addClass(node, cls)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _node_ | _*_ | _..._ | 
| _cls_ | _*_ | _..._ | 
&lt;br /&gt;
#### `addEditorMethods(CodeMirror)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _CodeMirror_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `addLegacyProps(CodeMirror)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _CodeMirror_ | _*_ | _..._ | 
&lt;br /&gt;
#### `addLineWidget(doc, handle, node, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _handle_ | _*_ | _..._ | 
| _node_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `addMarkedSpan(line, span)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _span_ | _*_ | _..._ | 
&lt;br /&gt;
#### `addModifierNames(name, event, noShift)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _name_ | _*_ | _..._ | 
| _event_ | _*_ | _..._ | 
| _noShift_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `addSelectionToHistory(doc, sel, opId, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
| _opId_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `addText(str)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _str_ | _*_ | _..._ | 
&lt;br /&gt;
#### `addToScrollTop(cm, top)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _top_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `adjustForChange(pos, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `adjustScrollWhenAboveVisible(cm, line, diff)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _diff_ | _*_ | _..._ | 
&lt;br /&gt;
#### `adjustView(cm, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
&lt;br /&gt;
#### `alignHorizontally(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `applyTextInput(cm, inserted, deleted, sel, origin)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _inserted_ | _*_ | _..._ | 
| _deleted_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
| _origin_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `attachDoc(cm, doc)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _doc_ | _*_ | _..._ | 
&lt;br /&gt;
#### `attachLocalSpans(doc, change, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
&lt;br /&gt;
#### `attachMarkedSpans(line, spans)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _spans_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `badPos(pos, bad)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
| _bad_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `bidiSimplify(cm, range$$1)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _range$$1_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `BidiSpan(level, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _level_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
&lt;br /&gt;
#### `bind(f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `boxIsAfter(box, x, y, left)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _box_ | _*_ | _..._ | 
| _x_ | _*_ | _..._ | 
| _y_ | _*_ | _..._ | 
| _left_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `BranchChunk(children)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _children_ | _*_ | _..._ | 
&lt;br /&gt;
#### `buildCollapsedSpan(builder, size, marker, ignoreWidget)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _builder_ | _*_ | _..._ | 
| _size_ | _*_ | _..._ | 
| _marker_ | _*_ | _..._ | 
| _ignoreWidget_ | _*_ | _..._ | 
&lt;br /&gt;
#### `buildLineContent(cm, lineView)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `buildLineElement(cm, lineView, lineN, dims)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `buildToken(builder, text, style, startStyle, endStyle, title, css)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _builder_ | _*_ | _..._ | 
| _text_ | _*_ | _..._ | 
| _style_ | _*_ | _..._ | 
| _startStyle_ | _*_ | _..._ | 
| _endStyle_ | _*_ | _..._ | 
| _title_ | _*_ | _..._ | 
| _css_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `buildTokenBadBidi(inner, order)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _inner_ | _*_ | _..._ | 
| _order_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `buildViewArray(cm, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `calculateScrollPos(cm, rect)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _rect_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `callBlankLine(mode, state)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _mode_ | _*_ | _..._ | 
| _state_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `changeEnd(change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `changeLine(doc, handle, changeType, op)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _handle_ | _*_ | _..._ | 
| _changeType_ | _*_ | _..._ | 
| _op_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `charCoords(cm, pos, context, lineObj, bias)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `charType(code)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _code_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `charWidth(display)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `classTest(cls)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cls_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `cleanUpLine(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
&lt;br /&gt;
#### `clearCaches(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `clearDragCursor(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `clearEmptySpans(spans)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _spans_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `clearLineMeasurementCache(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `clearLineMeasurementCacheFor(lineView)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _lineView_ | _*_ | _..._ | 
&lt;br /&gt;
#### `clearSelectionEvents(array)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _array_ | _*_ | _..._ | 
&lt;br /&gt;
#### `clickInGutter(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `clickRepeat(pos, button)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
| _button_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `clipLine(doc, n)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _n_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `clipPos(doc, pos)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `clipPosArray(doc, array)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _array_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `clipToLen(pos, linelen)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
| _linelen_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `close()`

&lt;br /&gt;
#### `cmp(a, b)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _a_ | _*_ | _..._ | 
| _b_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `cmpCoords(a, b)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _a_ | _*_ | _..._ | 
| _b_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `CodeMirror(place, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _place_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `collapsedSpanAround(line, ch)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `collapsedSpanAtEnd(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `collapsedSpanAtSide(line, start)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _start_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `collapsedSpanAtStart(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `compareCollapsedMarkers(a, b)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _a_ | _*_ | _..._ | 
| _b_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `compensateForHScroll(display)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `computeReplacedSel(doc, changes, hint)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _changes_ | _*_ | _..._ | 
| _hint_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `computeSelAfterChange(doc, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `configureMouse(cm, repeat, event)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _repeat_ | _*_ | _..._ | 
| _event_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `conflictingCollapsedRange(doc, lineNo$$1, from, to, marker)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _lineNo$$1_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _marker_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `contains(parent, child)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _parent_ | _*_ | _..._ | 
| _child_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `contextMenuInGutter(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `coords(ch, bias)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ch_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _lineNo$$1_ | _*_ | _..._ | 
| _preparedMeasure_ | _*_ | _..._ | 
| _order_ | _*_ | _..._ | 
| _x_ | _*_ | _..._ | 
| _y_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| __lineNo_ | _*_ | _..._ | 
| _preparedMeasure_ | _*_ | _..._ | 
| _order_ | _*_ | _..._ | 
| _x_ | _*_ | _..._ | 
| _y_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `coordsChar(cm, x, y)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _x_ | _*_ | _..._ | 
| _y_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `coordsCharInner(cm, lineObj, lineNo$$1, x, y)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _lineNo$$1_ | _*_ | _..._ | 
| _x_ | _*_ | _..._ | 
| _y_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `copyableRanges(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `copyHistoryArray(events, newGroup, instantiateSel)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _events_ | _*_ | _..._ | 
| _newGroup_ | _*_ | _..._ | 
| _instantiateSel_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `copyObj(obj, target, overwrite)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _obj_ | _*_ | _..._ | 
| _target_ | _*_ | _..._ | 
| _overwrite_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `copyPos(x)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _x_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `copySharedMarkers(doc, markers)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _markers_ | _*_ | _..._ | 
&lt;br /&gt;
#### `copyState(mode, state)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _mode_ | _*_ | _..._ | 
| _state_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `countColumn(string, end, tabSize, startIndex, startValue)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _string_ | _*_ | _..._ | 
| _end_ | _*_ | _..._ | 
| _tabSize_ | _*_ | _..._ | 
| _startIndex_ | _*_ | _..._ | 
| _startValue_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `countDirtyView(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `createObj(base, props)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _base_ | _*_ | _..._ | 
| _props_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _preparedMeasure_ | _*_ | _..._ | 
| _varHeight_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `defaultSpecialCharPlaceholder(ch)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ch_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `defineMIME(mime, spec)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _mime_ | _*_ | _..._ | 
| _spec_ | _*_ | _..._ | 
&lt;br /&gt;
#### `defineMode(name, mode)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _name_ | _*_ | _..._ | 
| _mode_ | _*_ | _..._ | 
&lt;br /&gt;
#### `defineOptions(CodeMirror)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _CodeMirror_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `delayBlurEvent(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `deleteNearSelection(cm, compute)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _compute_ | _*_ | _..._ | 
&lt;br /&gt;
#### `detachMarkedSpans(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `detachSharedMarkers(markers)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _markers_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `directionChanged(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `disableBrowserMagic(field, spellcheck)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _field_ | _*_ | _..._ | 
| _spellcheck_ | _*_ | _..._ | 
&lt;br /&gt;
#### `dispatchKey(cm, name, e, handle)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _name_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
| _handle_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `dispatchKeyInner(cm, name, e, handle)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _name_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
| _handle_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `Display(place, doc, input)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _place_ | _*_ | _..._ | 
| _doc_ | _*_ | _..._ | 
| _input_ | _*_ | _..._ | 
&lt;br /&gt;
#### `displayHeight(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `displayWidth(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `docMethodOp(f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `doHandleBinding(cm, bound, dropShift)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _bound_ | _*_ | _..._ | 
| _dropShift_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `domTextBetween(cm, from, to, fromLine, toLine)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _fromLine_ | _*_ | _..._ | 
| _toLine_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `domToPos(cm, node, offset)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _node_ | _*_ | _..._ | 
| _offset_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `done(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
&lt;br /&gt;
#### `dragDropChanged(cm, value, old)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _value_ | _*_ | _..._ | 
| _old_ | _*_ | _..._ | 
&lt;br /&gt;
#### `drawForLine(line, fromArg, toArg)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _fromArg_ | _*_ | _..._ | 
| _toArg_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `drawSelectionCursor(cm, head, output)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _head_ | _*_ | _..._ | 
| _output_ | _*_ | _..._ | 
&lt;br /&gt;
#### `drawSelectionRange(cm, range$$1, output)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _range$$1_ | _*_ | _..._ | 
| _output_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `elt(tag, content, className, style)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _tag_ | _*_ | _..._ | 
| _content_ | _*_ | _..._ | 
| _className_ | _*_ | _..._ | 
| _style_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `eltP(tag, content, className, style)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _tag_ | _*_ | _..._ | 
| _content_ | _*_ | _..._ | 
| _className_ | _*_ | _..._ | 
| _style_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `endOfLine(visually, cm, lineObj, lineNo, dir)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _visually_ | _*_ | _..._ | 
| _cm_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _lineNo_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `endOperation(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `endOperations(group)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _group_ | _*_ | _..._ | 
&lt;br /&gt;
#### `endOperation_finish(op)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _op_ | _*_ | _..._ | 
&lt;br /&gt;
#### `endOperation_R1(op)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _op_ | _*_ | _..._ | 
&lt;br /&gt;
#### `endOperation_R2(op)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _op_ | _*_ | _..._ | 
&lt;br /&gt;
#### `endOperation_W1(op)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _op_ | _*_ | _..._ | 
&lt;br /&gt;
#### `endOperation_W2(op)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _op_ | _*_ | _..._ | 
&lt;br /&gt;
#### `ensureCursorVisible(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `ensureFocus(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `ensureGlobalHandlers()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `ensureLineHeights(cm, lineView, rect)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _rect_ | _*_ | _..._ | 
&lt;br /&gt;
#### `ensureLineWrapped(lineView)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _lineView_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `equalCursorPos(a, b)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _a_ | _*_ | _..._ | 
| _b_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `estimateCoords(cm, pos)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `estimateHeight(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `estimateLineHeights(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `eventInWidget(display, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `eventMixin(ctor)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ctor_ | _*_ | _..._ | 
&lt;br /&gt;
#### `extend(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `extendMode(mode, properties)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _mode_ | _*_ | _..._ | 
| _properties_ | _*_ | _..._ | 
&lt;br /&gt;
#### `extendRange(range, head, other, extend)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _range_ | _*_ | _..._ | 
| _head_ | _*_ | _..._ | 
| _other_ | _*_ | _..._ | 
| _extend_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `extendSelection(doc, head, other, options, extend)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _head_ | _*_ | _..._ | 
| _other_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
| _extend_ | _*_ | _..._ | 
&lt;br /&gt;
#### `extendSelections(doc, heads, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _heads_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `extendTo(pos)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `extractLineClasses(type, output)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _type_ | _*_ | _..._ | 
| _output_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `extraLeft(marker)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _marker_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `extraRight(marker)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _marker_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `e_button(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `e_defaultPrevented(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `e_preventDefault(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
&lt;br /&gt;
#### `e_stop(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
&lt;br /&gt;
#### `e_stopPropagation(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
&lt;br /&gt;
#### `e_target(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `farAway(touch, other)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _touch_ | _*_ | _..._ | 
| _other_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `filterChange(doc, change, update)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
| _update_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `filterSelectionChange(doc, sel, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `find(textNode, topNode, offset)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _textNode_ | _*_ | _..._ | 
| _topNode_ | _*_ | _..._ | 
| _offset_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findColumn(string, goal, tabSize)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _string_ | _*_ | _..._ | 
| _goal_ | _*_ | _..._ | 
| _tabSize_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findFirst(pred, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pred_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findMaxLine(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `findNextLine()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findPosH(doc, pos, dir, unit, visually)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
| _unit_ | _*_ | _..._ | 
| _visually_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findPosV(cm, pos, dir, unit)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
| _unit_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findSharedMarkers(doc)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findStartLine(cm, n, precise)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _n_ | _*_ | _..._ | 
| _precise_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findViewForLine(cm, lineN)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `findViewIndex(cm, n)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _n_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `finishOperation(op, endCb)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _op_ | _*_ | _..._ | 
| _endCb_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `finishTouch()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `fireCallbacksForOps(group)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _group_ | _*_ | _..._ | 
&lt;br /&gt;
#### `fireOrphanDelayed()`

&lt;br /&gt;
#### `forEachCodeMirror(f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `fromCoordSystem(cm, coords, context)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _coords_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `fromTextArea(textarea, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _textarea_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `get(ch, right)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ch_ | _*_ | _..._ | 
| _right_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getBetween(doc, start, end)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _start_ | _*_ | _..._ | 
| _end_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getBidi(ch, partPos, invert)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ch_ | _*_ | _..._ | 
| _partPos_ | _*_ | _..._ | 
| _invert_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getBidiPartAt(order, ch, sticky)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _order_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _sticky_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getContextBefore(cm, n, precise)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _n_ | _*_ | _..._ | 
| _precise_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getDimensions(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getHandlers(emitter, type)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _emitter_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getKeyMap(val)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _val_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getLine(doc, n)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _n_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getLineContent(cm, lineView)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getLines(doc, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getLineStyles(cm, line, updateFrontier)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _updateFrontier_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getMarkedSpanFor(spans, marker)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _spans_ | _*_ | _..._ | 
| _marker_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getMode(options, spec)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _options_ | _*_ | _..._ | 
| _spec_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getOldSpans(doc, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getOrder(line, direction)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _direction_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `getUsefulRect(rects, bias)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _rects_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `gutterEvent(cm, e, type, prevent)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
| _prevent_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `guttersChanged(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `handleCharBinding(cm, e, ch)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `handleKeyBinding(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `handleMappedButton(cm, button, pos, repeat, event)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _button_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _repeat_ | _*_ | _..._ | 
| _event_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `handlePaste(e, cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `hasBadBidiRects(measure)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _measure_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `hasBadZoomedRects(measure)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _measure_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `hasHandler(emitter, type)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _emitter_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `heightAtLine(lineObj)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _lineObj_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `hiddenTextarea()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `highlightLine(cm, line, context, forceToEnd)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
| _forceToEnd_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `highlightWorker(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `History(startGen)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _startGen_ | _*_ | _..._ | 
&lt;br /&gt;
#### `historyChangeFromChange(doc, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `indentLine(cm, n, how, aggressive)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _n_ | _*_ | _..._ | 
| _how_ | _*_ | _..._ | 
| _aggressive_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `indexOf(array, elt)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _array_ | _*_ | _..._ | 
| _elt_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `initScrollbars(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `innerMode(mode, state)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _mode_ | _*_ | _..._ | 
| _state_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `insertLineContent(line, builder, styles)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _builder_ | _*_ | _..._ | 
| _styles_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `insertLineWidgets(cm, lineView, dims)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
&lt;br /&gt;
#### `insertLineWidgetsFor(cm, line, lineView, dims, allowAbove)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
| _allowAbove_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `insertSorted(array, value, score)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _array_ | _*_ | _..._ | 
| _value_ | _*_ | _..._ | 
| _score_ | _*_ | _..._ | 
&lt;br /&gt;
#### `interpretTokenStyle(style, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _style_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `intoCoordSystem(cm, lineObj, rect, context, includeWidgets)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _rect_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
| _includeWidgets_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isEmpty(obj)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _obj_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isExtendingChar(ch)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ch_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isInGutter(node)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _node_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isLine(doc, l)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _l_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isModifierKey(value)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _value_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isMouseLikeTouchEvent(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isWholeLineUpdate(doc, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isWordChar(ch, helper)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ch_ | _*_ | _..._ | 
| _helper_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `isWordCharBasic(ch)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _ch_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `iterateBidiSections(order, from, to, f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _order_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `joinClasses(a, b)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _a_ | _*_ | _..._ | 
| _b_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `keyName(event, noShift)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _event_ | _*_ | _..._ | 
| _noShift_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lastChangeEvent(hist, force)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _hist_ | _*_ | _..._ | 
| _force_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `LeafChunk(lines)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _lines_ | _*_ | _..._ | 
&lt;br /&gt;
#### `leftButtonDown(cm, pos, repeat, event)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _repeat_ | _*_ | _..._ | 
| _event_ | _*_ | _..._ | 
&lt;br /&gt;
#### `leftButtonSelect(cm, event, start, behavior)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _event_ | _*_ | _..._ | 
| _start_ | _*_ | _..._ | 
| _behavior_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `leftButtonStartDrag(cm, event, pos, behavior)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _event_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _behavior_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineAtHeight(chunk, h)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _chunk_ | _*_ | _..._ | 
| _h_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineEnd(cm, lineN)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineIsHidden(doc, line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineIsHiddenInner(doc, line, span)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _span_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineLength(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineNo(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineNumberFor(options, i)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _options_ | _*_ | _..._ | 
| _i_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `linesFor(start, end)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _start_ | _*_ | _..._ | 
| _end_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineStart(cm, lineN)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lineStartSmart(cm, pos)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `LineView(doc, line, lineN)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
&lt;br /&gt;
#### `linkedDocs(doc, f, sharedHistOnly)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _f_ | _*_ | _..._ | 
| _sharedHistOnly_ | _*_ | _..._ | 
&lt;br /&gt;
#### `loadMode(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `locateNodeInLineView(lineView, node, offset)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _lineView_ | _*_ | _..._ | 
| _node_ | _*_ | _..._ | 
| _offset_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lookupKey(key, map$$1, handle, context)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _key_ | _*_ | _..._ | 
| _map$$1_ | _*_ | _..._ | 
| _handle_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lookupKeyForEditor(cm, name, handle)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _name_ | _*_ | _..._ | 
| _handle_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `lst(arr)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _arr_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `makeChange(doc, change, ignoreReadOnly)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
| _ignoreReadOnly_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `makeChangeFromHistory(doc, type, allowSelectionOnly)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
| _allowSelectionOnly_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `makeChangeInner(doc, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `makeChangeSingleDoc(doc, change, selAfter, spans)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
| _selAfter_ | _*_ | _..._ | 
| _spans_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `makeChangeSingleDocInEditor(cm, change, spans)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
| _spans_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `map(array, f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _array_ | _*_ | _..._ | 
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `mapFromLineView(lineView, line, lineN)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _lineView_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `MarkedSpan(marker, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _marker_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
&lt;br /&gt;
#### `markedSpansAfter(old, endCh, isInsert)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _old_ | _*_ | _..._ | 
| _endCh_ | _*_ | _..._ | 
| _isInsert_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `markedSpansBefore(old, startCh, isInsert)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _old_ | _*_ | _..._ | 
| _startCh_ | _*_ | _..._ | 
| _isInsert_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `markText(doc, from, to, options, type)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `markTextShared(doc, from, to, options, type)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `maxPos(a, b)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _a_ | _*_ | _..._ | 
| _b_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `maybeClipScrollbars(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `maybeDisable()`

&lt;br /&gt;
#### `maybeScrollWindow(cm, rect)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _rect_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `maybeUpdateLineNumberWidth(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `maybeUpdateRectForZooming(measure, rect)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _measure_ | _*_ | _..._ | 
| _rect_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `measureChar(cm, line, ch, bias)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `measureCharInner(cm, prepared, ch, bias)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _prepared_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `measureCharPrepared(cm, prepared, ch, bias, varHeight)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _prepared_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
| _varHeight_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `measureForScrollbars(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `mergeOldSpans(doc, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `methodOp(f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `minPos(a, b)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _a_ | _*_ | _..._ | 
| _b_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `moveCharLogically(line, ch, dir)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `moveLogically(line, start, dir)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _start_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `moveOnce(boundToLine)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _boundToLine_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `movePos(doc, pos, dir, line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `moveVisually(cm, line, start, dir)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _start_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `no name found(overlay)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _overlay_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `nodeAndOffsetInLineMap(map$$1, ch, bias)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _map$$1_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `normalizeKeyMap(keymap)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _keymap_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `normalizeKeyName(name)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _name_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `normalizeSelection(cm, ranges, primIndex)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _ranges_ | _*_ | _..._ | 
| _primIndex_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `nothing()`

&lt;br /&gt;
#### `off(emitter, type, f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _emitter_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
| _f_ | _*_ | _..._ | 
&lt;br /&gt;
#### `offsetPos(pos, old, nw)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
| _old_ | _*_ | _..._ | 
| _nw_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onBlur(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onContextMenu(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onCopyCut(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onDragOver(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onDragStart(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onDrop(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onFocus(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onKeyDown(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onKeyPress(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onKeyUp(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
&lt;br /&gt;
#### `onMouseDown(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `onResize(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `onScrollWheel(cm, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `operation(cm, f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `option(name, deflt, handle, notOnInit)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _name_ | _*_ | _..._ | 
| _deflt_ | _*_ | _..._ | 
| _handle_ | _*_ | _..._ | 
| _notOnInit_ | _*_ | _..._ | 
&lt;br /&gt;
#### `p()`

&lt;br /&gt;
#### `paddingH(display)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `paddingTop(display)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `paddingVert(display)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `pageScrollX()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `pageScrollY()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `patchDisplay(cm, updateNumbersFrom, dims)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _updateNumbersFrom_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `poll()`

&lt;br /&gt;
#### `Pos(line, ch, sticky)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _sticky_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `posFromMouse(cm, e, liberal, forRect)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
| _liberal_ | _*_ | _..._ | 
| _forRect_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `positionLineWidget(widget, node, lineView, dims)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _widget_ | _*_ | _..._ | 
| _node_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
&lt;br /&gt;
#### `posToDOM(cm, pos)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `postUpdateDisplay(cm, update)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _update_ | _*_ | _..._ | 
&lt;br /&gt;
#### `PosWithInfo(line, ch, sticky, outside, xRel)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _ch_ | _*_ | _..._ | 
| _sticky_ | _*_ | _..._ | 
| _outside_ | _*_ | _..._ | 
| _xRel_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `prepareCopyCut(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `prepareMeasureForLine(cm, line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `prepareSelectAllHack()`

&lt;br /&gt;
#### `prepareSelection(cm, primary)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _primary_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `processLine(cm, text, context, startAt)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _text_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
| _startAt_ | _*_ | _..._ | 
&lt;br /&gt;
#### `propagate(doc, skip, sharedHist)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _skip_ | _*_ | _..._ | 
| _sharedHist_ | _*_ | _..._ | 
&lt;br /&gt;
#### `pushOperation(op)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _op_ | _*_ | _..._ | 
&lt;br /&gt;
#### `pushSelectionToHistory(sel, dest)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _sel_ | _*_ | _..._ | 
| _dest_ | _*_ | _..._ | 
&lt;br /&gt;
#### `rangeForUnit(cm, pos, unit)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _unit_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `readToken(mode, stream, state, inner)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _mode_ | _*_ | _..._ | 
| _stream_ | _*_ | _..._ | 
| _state_ | _*_ | _..._ | 
| _inner_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `rebaseHist(hist, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _hist_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
&lt;br /&gt;
#### `rebaseHistArray(array, from, to, diff)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _array_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _diff_ | _*_ | _..._ | 
&lt;br /&gt;
#### `rebaseHistSelSingle(pos, from, to, diff)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _diff_ | _*_ | _..._ | 
&lt;br /&gt;
#### `reCheckSelection(doc)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
&lt;br /&gt;
#### `recognizeMarker(id)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _id_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `regChange(cm, from, to, lendiff)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _lendiff_ | _*_ | _..._ | 
&lt;br /&gt;
#### `registerEventHandlers(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `registerGlobalHandlers()`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `regLineChange(cm, line, type)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `rehide()`

&lt;br /&gt;
#### `removeChildren(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `removeChildrenAndAdd(parent, e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _parent_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `removeClearedSpans(spans)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _spans_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `removeMarkedSpan(spans, span)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _spans_ | _*_ | _..._ | 
| _span_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `removeReadOnlyRanges(doc, from, to)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `replaceOneSelection(doc, i, range, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _i_ | _*_ | _..._ | 
| _range_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `replaceRange(doc, code, from, to, origin)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _code_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _origin_ | _*_ | _..._ | 
&lt;br /&gt;
#### `resetModeState(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `resetView(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `resolveMode(spec)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _spec_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `resolveScrollToPos(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `restartBlink(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `restoreSelection(snapshot)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _snapshot_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `retreatFrontier(doc, n)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _n_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `rm(node)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _node_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `runInOp(cm, f)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _f_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `runMode(cm, text, mode, context, f, lineClasses, forceToEnd)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _text_ | _*_ | _..._ | 
| _mode_ | _*_ | _..._ | 
| _context_ | _*_ | _..._ | 
| _f_ | _*_ | _..._ | 
| _lineClasses_ | _*_ | _..._ | 
| _forceToEnd_ | _*_ | _..._ | 
&lt;br /&gt;
#### `save()`

&lt;br /&gt;
#### `scrollGap(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `scrollIntoView(cm, rect)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _rect_ | _*_ | _..._ | 
&lt;br /&gt;
#### `scrollPosIntoView(cm, pos, end, margin)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _end_ | _*_ | _..._ | 
| _margin_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `scrollToCoords(cm, x, y)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _x_ | _*_ | _..._ | 
| _y_ | _*_ | _..._ | 
&lt;br /&gt;
#### `scrollToCoordsRange(cm, from, to, margin)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _from_ | _*_ | _..._ | 
| _to_ | _*_ | _..._ | 
| _margin_ | _*_ | _..._ | 
&lt;br /&gt;
#### `scrollToRange(cm, range$$1)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _range$$1_ | _*_ | _..._ | 
&lt;br /&gt;
#### `seeCollapsedSpans()`

&lt;br /&gt;
#### `seeReadOnlySpans()`

&lt;br /&gt;
#### `selectAll(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `selectionEventCanBeMerged(doc, origin, prev, sel)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _origin_ | _*_ | _..._ | 
| _prev_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `selectionSnapshot(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `setDirectionClass(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `setDocumentHeight(cm, measure)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _measure_ | _*_ | _..._ | 
&lt;br /&gt;
#### `setGuttersForLineNumbers(options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `setLastCopied(newLastCopied)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _newLastCopied_ | _*_ | _..._ | 
&lt;br /&gt;
#### `setScrollLeft(cm, val, isScroller, forceScroll)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _val_ | _*_ | _..._ | 
| _isScroller_ | _*_ | _..._ | 
| _forceScroll_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `setScrollTop(cm, val, forceScroll)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _val_ | _*_ | _..._ | 
| _forceScroll_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `setSelection(doc, sel, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `setSelectionInner(doc, sel)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `setSelectionNoUndo(doc, sel, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `setSelectionReplaceHistory(doc, sel, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `setSimpleSelection(doc, anchor, head, options)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _anchor_ | _*_ | _..._ | 
| _head_ | _*_ | _..._ | 
| _options_ | _*_ | _..._ | 
&lt;br /&gt;
#### `shiftDoc(doc, distance)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _distance_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `showCrossHair(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `signal(emitter, type /*, values...*/)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _emitter_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
| _values...*/_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `signalCursorActivity(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `signalDOMEvent(cm, e, override)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _e_ | _*_ | _..._ | 
| _override_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `signalLater(emitter, type /*, values...*/)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _emitter_ | _*_ | _..._ | 
| _type_ | _*_ | _..._ | 
| _values...*/_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `simpleSelection(anchor, head)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _anchor_ | _*_ | _..._ | 
| _head_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `skipAtomic(doc, pos, oldPos, bias, mayClear)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _oldPos_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
| _mayClear_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `skipAtomicInner(doc, pos, oldPos, dir, mayClear)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _oldPos_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
| _mayClear_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `skipAtomicInSelection(doc, sel, bias, mayClear)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _sel_ | _*_ | _..._ | 
| _bias_ | _*_ | _..._ | 
| _mayClear_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `skipExtendingChars(str, pos, dir)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _str_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `spaceStr(n)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _n_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `spansFor(n)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _n_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `splitSpaces(text, trailingBefore)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _text_ | _*_ | _..._ | 
| _trailingBefore_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `startOperation(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `startState(mode, a1, a2)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _mode_ | _*_ | _..._ | 
| _a1_ | _*_ | _..._ | 
| _a2_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `startWorker(cm, time)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _time_ | _*_ | _..._ | 
&lt;br /&gt;
#### `stretchSpansOverChange(doc, change)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `takeToken(cm, pos, precise, asArray)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _pos_ | _*_ | _..._ | 
| _precise_ | _*_ | _..._ | 
| _asArray_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `textHeight(display)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `themeChanged(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `triggerElectric(cm, inserted)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _inserted_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `up(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
&lt;br /&gt;
#### `update(line, text, spans)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _text_ | _*_ | _..._ | 
| _spans_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateDisplayIfNeeded(cm, update)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _update_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `updateDisplaySimple(cm, viewport)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _viewport_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateDoc(doc, change, markedSpans, estimateHeight$$1)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _change_ | _*_ | _..._ | 
| _markedSpans_ | _*_ | _..._ | 
| _estimateHeight$$1_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `updateExternalMeasurement(cm, line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `updateGutters(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateGutterSpace(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateHeightsInViewport(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLine(line, text, markedSpans, estimateHeight)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _text_ | _*_ | _..._ | 
| _markedSpans_ | _*_ | _..._ | 
| _estimateHeight_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLineBackground(cm, lineView)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLineClasses(cm, lineView)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLineForChanges(cm, lineView, lineN, dims)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLineGutter(cm, lineView, lineN, dims)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLineHeight(line, height)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
| _height_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLineText(cm, lineView)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateLineWidgets(cm, lineView, dims)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineView_ | _*_ | _..._ | 
| _dims_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateScrollbars(cm, measure)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _measure_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateScrollbarsInner(cm, measure)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _measure_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateScrollTop(cm, val)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _val_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `updateSelection(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
&lt;br /&gt;
#### `updateWidgetHeight(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
&lt;br /&gt;
#### `viewCuttingPoint(cm, oldN, newN, dir)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _oldN_ | _*_ | _..._ | 
| _newN_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `visibleLines(display, doc, viewport)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _display_ | _*_ | _..._ | 
| _doc_ | _*_ | _..._ | 
| _viewport_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `visualLine(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `visualLineContinued(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `visualLineEnd(line)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _line_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `visualLineEndNo(doc, lineN)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `visualLineNo(doc, lineN)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _doc_ | _*_ | _..._ | 
| _lineN_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `walk(node)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _node_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `wheelEventDelta(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `wheelEventPixels(e)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _e_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `widgetHeight(widget)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _widget_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `widgetTopHeight(lineObj)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _lineObj_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `wrappedLineExtent(cm, lineObj, preparedMeasure, y)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _preparedMeasure_ | _*_ | _..._ | 
| _y_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `wrappedLineExtentChar(cm, lineObj, preparedMeasure, target)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
| _lineObj_ | _*_ | _..._ | 
| _preparedMeasure_ | _*_ | _..._ | 
| _target_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `wrappingChanged(cm)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _cm_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `wrapX(pos, dir, side)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _pos_ | _*_ | _..._ | 
| _dir_ | _*_ | _..._ | 
| _side_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
&lt;br /&gt;
#### `zeroWidthElement(measure)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _measure_ | _*_ | _..._ | 
 
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Returns**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`*`
 
### Anonymous Functions
&lt;br /&gt;
#### `(global, factory)`
&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Parameters**
 
| Name | Type | Description |
| --- | --- | --- |
| _global_ | _*_ | _..._ | 
| _factory_ | _*_ | _..._ | 
</api_markdown>
        <html/>
        <markdown_document/>
        <markdown_link>ui-script-x_58056_md_docscodemirror</markdown_link>
        <order>100</order>
        <project_code_document_version/>
        <remote>false</remote>
        <remote_json/>
        <remote_source_id/>
        <show_html>false</show_html>
        <show_markdown>false</show_markdown>
        <source_description/>
        <source_id>d18ae35d4fa56300ecf18c318110c7a5</source_id>
        <source_key/>
        <source_name>UI Script: x_58056_md_docs.codemirror</source_name>
        <source_script_field>script</source_script_field>
        <source_table>sys_ui_script</source_table>
        <source_text/>
        <source_type>Document</source_type>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-05-29 21:09:06</sys_created_on>
        <sys_id>7243261cdb317300d0cb5385ca96196f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-05-29 21:09:06</sys_updated_on>
    </x_58056_md_docs_markdown_source>
</record_update>
]]></payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-12-05 21:33:54</sys_created_on>
        <sys_id>2c8555162fe7991448dca1fef699b6a2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>UI Script: x_58056_md_docs.codemirror</sys_name>
        <sys_package display_value="Markdown Documents" source="x_58056_md_docs">7ac0b5344f212300ecf18c318110c745</sys_package>
        <sys_policy/>
        <sys_scope display_value="Markdown Documents">7ac0b5344f212300ecf18c318110c745</sys_scope>
        <sys_update_name>sys_metadata_link_2c8555162fe7991448dca1fef699b6a2</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-12-05 21:33:54</sys_updated_on>
        <tablename>x_58056_md_docs_markdown_source</tablename>
    </sys_metadata_link>
</record_update>
